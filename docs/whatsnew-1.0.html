
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>(機械翻訳)Pyramid 1.0の新機能 &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="copyright" title="著作権" href="copyright.html" />
    <link rel="next" title="(機械翻訳) Pyramid 変更履歴" href="changes.html" />
    <link rel="prev" title="(機械翻訳)Pyramid 1.1の新機能" href="whatsnew-1.1.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="changes.html" title="(機械翻訳) Pyramid 変更履歴"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.1.html" title="(機械翻訳)Pyramid 1.1の新機能"
             accesskey="P">前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-pyramid-1-0">
<h1>(機械翻訳)Pyramid 1.0の新機能<a class="headerlink" href="#what-s-new-in-pyramid-1-0" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>この記事では、以前のPyramidバージョン1.0の新機能について説明します。mod： <cite>repoze.bfg</cite> 1.3。また、Pyramid 1.0に追加された2つのバージョンと廃止予定の間の後方互換性や、ソフトウェア依存の変更や著しいドキュメントの追加についても説明しています。</p>
<div class="section" id="major-feature-additions">
<h2>主な機能の追加<a class="headerlink" href="#major-feature-additions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Pyramid 1.0の主な機能の追加は次のとおりです。</p>
<ul class="simple">
<li>Pylonsプロジェクトとの新しい名前とブランディング協会。</li>
<li>BFG変換スクリプト</li>
<li>足場の改良</li>
<li>用語の変更</li>
<li>プラットフォームの互換性とサポートの向上</li>
<li>Makoテンプレート言語の直接組み込みサポート。</li>
<li>セッションの組み込みサポート。</li>
<li>更新されたURLディスパッチ機能</li>
<li>必須の拡張性の向上</li>
<li>外部化されたZCML</li>
<li>レンダリング時のグローバルテンプレート変数のサポートの向上</li>
<li>マッパーを表示</li>
<li>テストシステムの改善</li>
<li>認証サポートの改善</li>
<li>ドキュメントの改善</li>
</ul>
<div class="section" id="new-name-and-branding">
<h3>新しい名前とブランディング<a class="headerlink" href="#new-name-and-branding" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` repoze.bfg``の名前がPyramidに変更されました。このプロジェクトは現在、新しいエンティティ「The Pylons Project」のサブプロジェクトです。 Pylonsプロジェクトは、Webフレームワーク関連の技術のコレクションのプロジェクト名です。 PyramidはPylonsプロジェクトの最初のパッケージでした。コレクションの他のパッケージは、Pylons 1ユーザーやex-Zopeユーザーにとって便利なサポートパッケージなど、時間の経過とともに追加されています。 Pyramidはmod： <cite>repoze.bfg`と：term：</cite> Pylons`バージョン1の後継バージョンです。</p>
<p>Pyramidのコードベースは、ほとんどがmod： <a href="#id1"><span class="problematic" id="id2">`</span></a>repoze.bfg`から得られ、Pylons 1との互換性のためにいくつかの変更が加えられています。</p>
<p>Pyramidは新しいパッケージ名を持っているためmod： <cite>repoze.bfg`と技術的に後方互換性がありませんので、既存のものに何もしないと、</cite> <cite>repoze.bfg``モジュールからの古いインポートは失敗します：mod：</cite> repoze .bfgアプリケーション。しかし、Pyramidで既存のBFGアプリケーションを使用するために多くを行う必要はありません。ほとんどのインポートステートメントとZCML宣言を変更するオートメーションがあります。アップグレード手順については、http：//docs.pylonsproject.org/projects/pyramid/current/tutorials/bfg/index.htmlを参照してください。</p>
<p>Pylons 1ユーザーはPyramidを使用するにはもっと多くの作業をする必要があります。PyramidはPylonsと&amp;quot;DNA &amp;quot;を共有しないからです。 Pylons 1ユーザーがPyramidに移行するのを容易にするために、時間の経過と共にドキュメントとアップグレードコードが開発されることが期待されています。</p>
<p>：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>repoze.bfg`バージョン1.3が最後のメジャーリリースになります。重大なバグ修正のためにマイナーなアップデートが行われます。 Pylonsバージョン1ではメンテナンスリリースも引き続き表示されます。</p>
<p>Repozeプロジェクトは引き続き存在します。 Repozeは、Zopeの技術をWSGIにもたらすという本来の焦点を取り戻すことができます。 ：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>repoze.bfg`の人気がWebフレームワークとしてこの目標を妨げていました。</p>
<p>私たちはまず、Pylonsプロジェクトが示した協力の精神と開発コミュニティの合併によって人々が引き付けられることを願っています。少し主権を犠牲にして一緒に働くことは謙虚さを必要とします。反対に、プロジェクトの分岐や分岐は、オープンソースの世界ではもっと一般的です。私たちは&amp;quot;トップティア&amp;quot;のPython Webフレームワークのスペースに限られた量の酸素しか存在しないと感じています。私たちはPythonコミュニティに過度の混雑によるサービスを提供しません。 ：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>repoze.bfg`と哲学的に類似したPylonsコミュニティをマージすることで、両方とも拡張された視聴者と将来の成功のチャンスが増えます。</p>
</div>
<div class="section" id="bfg-conversion-script">
<h3>BFG変換スクリプト<a class="headerlink" href="#bfg-conversion-script" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` bfg2pyramid``変換スクリプトは、既存の：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>repoze.bfg`アプリケーションをPyramidに自動的に変換します。このプロセスは&amp;quot;BFGアプリケーションをピラミッドに変換する&amp;quot;で説明されています。</p>
</div>
<div class="section" id="scaffold-improvements">
<h3>足場の改良<a class="headerlink" href="#scaffold-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">足場には、より良いCSSとグラフィックがあります。</p>
</li>
<li><p class="first">すべてのスカフォールドによって生成された `` development.ini``は、デフォルトでWebErrorインタラクティブ例外デバッガを使用するように設定されました。</p>
</li>
<li><p class="first">すべての足場は正規化されています：WSGIアプリケーションを返す関数を表すためにそれぞれが `` main``という名前を使用しています。それぞれは現在、development.iniスタイルとほぼ同じ形をしています。</p>
</li>
<li><p class="first">すべての既存スキャフォールドは、ZCML構成ではなく、 &amp;quot;必須&amp;quot;構成（ `` starter``、 `` routesalchemy``、 `` alchemy``、 `` zodb``）を使用します。</p>
</li>
<li><p class="first">`` pyramid_zodb``、 `` routesalchemy``、 `` pyramid_alchemy``足場は、 `` repoze.tm2``トランザクションマネージャを `` development.ini``で設定するとき、デフォルトの <a href="#id1"><span class="problematic" id="id2">``</span></a>コミット拒否 &amp;#39;フックを使用するようになりました。 。これにより、応答ステータスコードが400または500の範囲内にあるときにトランザクションがコミットされるのを防止します。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last"><a class="reference external" href="http://docs.repoze.org/tm2/#using-a-commit">http://docs.repoze.org/tm2/#using-a-commit</a>-vetoも参照してください。</p>
</div>
</li>
</ul>
</div>
<div class="section" id="terminology-changes">
<h3>用語の変更<a class="headerlink" href="#terminology-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">以前は&amp;quot;モデル&amp;quot;として知られていたピラミッドの概念は、現在 &amp;quot;リソース&amp;quot;として知られています。その結果、次のAPIの名前が変更されました。以前の名前の下位互換性シムはすべての場合にそのまま残っています:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">model_url</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">resource_url</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">find_model</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find_resource</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">model_path</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">resource_path</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">model_path_tuple</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">resource_path_tuple</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">ModelGraphTraverser</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">ResourceTreeTraverser</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">testing_models</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">testing_resources</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">registerModels</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">registerResources</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">DummyModel</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">DummyResource</span>
</pre></div>
</div>
</li>
<li><p class="first">以前は&amp;quot;モデル&amp;quot;を参照していたすべてのドキュメントは、&amp;quot;リソース&amp;quot;を参照しています。</p>
</li>
<li><p class="first">`` starter``足場には、 `` models.py``モジュールの代わりに `` resources.py``モジュールが追加されました。</p>
</li>
<li><p class="first">さまざまなAPIの位置引数名が `` model``から `` resource``に変更されました。</p>
</li>
<li><p class="first">以前は&amp;quot;リソース&amp;quot;として知られていたピラミッドの概念は、現在 &amp;quot;資産&amp;quot;として知られています。その結果、次のAPIの変更が行われました。必要に応じて下位互換性のシムが残されています:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">absolute_resource_spec</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">absolute_asset_spec</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">override_resource</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">override_asset</span>
</pre></div>
</div>
</li>
<li><p class="first">以前は `` pyramid.resource``として知られていた（非API）モジュールは `` pyramid.asset``と呼ばれています。</p>
</li>
<li><p class="first">以前は&amp;quot;リソース指定&amp;quot;を参照していたすべてのドキュメントが&amp;quot;資産指定&amp;quot;を参照しています。</p>
</li>
<li><p class="first">以前は `` BFG_RELOAD_RESOURCES``（envvar）または `` reload_resources``（configファイル）として知られていた設定は、それぞれ `` PYRAMID_RELOAD_ASSETS``と `` reload_assets``として知られています。</p>
</li>
</ul>
</div>
<div class="section" id="better-platform-compatibility-and-support">
<h3>より良いプラットフォームの互換性とサポート<a class="headerlink" href="#better-platform-compatibility-and-support" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>PyramidのテストスイートをJythonとPyPyの両方に渡しました。ただし、Chameleonはどちらでも動作しないため、これらのプラットフォームでMakoまたはJinja2テンプレートを使用する必要があります。</p>
</div>
<div class="section" id="sessions">
<h3>セッション<a class="headerlink" href="#sessions" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Pyramidには組み込みのセッションサポートがあります：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>sessions_chapter`に文書化されています。セッションの実装はプラグイン可能です。また、フラッシュメッセージングとクロスサイトスクリプティング防止機能も提供します。</p>
<p>`` request.session``を使うと、a：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>session factory`が設定されていれば、（辞書のような）セッションオブジェクトを返します。</p>
<p>Configuratorコンストラクタの新しい引数があります： `` session_factory``とコンフィグレータの新しいメソッドが存在します：：meth： <cite>pyramid.config.Configurator.set_session_factory</cite>。</p>
</div>
<div class="section" id="mako">
<h3>マコ<a class="headerlink" href="#mako" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>カメレオンのテンプレートに加えて、Pyramidでは、term： <a href="#id1"><span class="problematic" id="id2">`</span></a>Mako`テンプレートの組み込みサポートも提供しています。詳細は、：ref： <a href="#id3"><span class="problematic" id="id4">`</span></a>available_template_system_bindings`を参照してください。</p>
</div>
<div class="section" id="url-dispatch">
<h3>URL派遣<a class="headerlink" href="#url-dispatch" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URL Dispatchでは、置き換えマーカーを `` / <a href="#id1"><span class="problematic" id="id2">``</span></a>の直後ではなく、パターン内のどこにでも配置できるようになりました。</li>
<li>URL Dispatchは `` {marker} <a href="#id1"><span class="problematic" id="id2">``</span></a>の代わりにルートパターンの置換マーカーを示すために `` {marker} <a href="#id3"><span class="problematic" id="id4">``</span></a>という形式を使用するようになりました。古いコロンスタイルのマーカー構文は、下位互換性のために受け入れられます。新しいフォーマットでは、デフォルトの `` [^ /] + <a href="#id5"><span class="problematic" id="id6">``</span></a>の代わりにそのマーカ位置の正規表現を使うことができます。例えば、 `` {marker：d +} <a href="#id7"><span class="problematic" id="id8">``</span></a>はマーカを数字。</li>
<li>新しいAPI：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.url.current_route_url`を追加しました。これは、&amp;quot;現在の&amp;quot;ルート（もしあれば）とそのmatchdict値に基づいてURLを計算します。</li>
<li>ルーティングテーブルの要約を表示する `` paster proute``コマンドを追加しました。物語のドキュメンテーション：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>displaying_application_routes`を参照してください。</li>
<li>matchdictと述語を含むマッチしたルートを記録する `` debug_routematch``設定（ `` .ini``ファイルで設定可能）を追加しました。</li>
<li>a：func： <cite>pyramid.url.route_path</cite> APIを追加して、人が相対URLを生成できるようにします。 `` route_path``を呼び出すことは空の文字列に等しい引数 `` _app_url``を使って：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.url.route_url`を呼び出すことと同じです。</li>
<li>a：meth： <cite>pyramid.request.Request.route_path</cite> APIを追加してください。これはfunc： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.url.route_url`を呼び出す要求の簡易メソッドです。</li>
<li>class vars `` matchdict``と `` matched_route``を：class： <cite>pyramid.request.Request`に追加しました。リクエスト中にルートがマッチしなかった場合、それぞれは `</cite> None``にセットされます。</li>
</ul>
</div>
<div class="section" id="zcml-externalized">
<h3>ZCML外部化<a class="headerlink" href="#zcml-externalized" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Configuratorの `` load_zcml``メソッドがPyramidコアから削除されました。 ZCMLの読み込みは：term： <cite>pyramid_zcml`パッケージの機能となりました。これはPyPIからダウンロードできます。パッケージのドキュメントは、http：//docs.pylonsproject.org/projects/pyramid_zcml/en/latest/から入手できます。これは、このメソッドを再利用するために `</cite> main``ブロックに構成文を追加する方法を説明しています。また、 `` setup.py``ファイルへの `` pyramid_zcml``配布に `` install_requires``依存関係を追加する必要があります。</li>
<li>&amp;quot;Declarative Configuration &amp;quot;の説明の章は削除されました（ `` pyramid_zcml``パッケージに移動されました）。</li>
<li>物語の章の中のZCMLへの参照は、削除されたり、 &amp;quot;pyramid_zcml&amp;quot;の場所にリダイレクトされました。</li>
<li>`` starter_zcml``のペースト足場は `` pyramid_zcml``パッケージに移動しました。</li>
</ul>
</div>
<div class="section" id="imperative-two-phase-configuration">
<h3>指令2相構成<a class="headerlink" href="#imperative-two-phase-configuration" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>アプリケーションの拡張性をサポートするために、：app： <cite>Pyramid</cite>：term：` Configurator`はデフォルトで設定の競合を検出し、他のパッケージやモジュールからの設定を必須にすることができます。また、デフォルトでは、2つの別々のフェーズで構成を実行します。これにより、状況によっては相対的な構成ステートメントの順序を無視することができます。詳細は、：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>advconfig_narr`を参照してください。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.config.Configurator.add_directive`は、フレームワークエクステンダがコンフィグレータにメソッドを追加することを可能にします。エクステンダはメソッドを追加するだけでコンフィグレータのサブクラス化を避けることができます。詳細は：ref： <a href="#id3"><span class="problematic" id="id4">`</span></a>add_directive`を参照してください。</p>
<p>`` config.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` config.end（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を使って周囲のアプリケーション構成を行う必要はなくなりました。すべての足場が変更され、これらの機能は呼び出されなくなりました。</p>
</div>
<div class="section" id="better-support-for-global-template-variables-during-rendering">
<h3>レンダリング時のグローバルテンプレート変数のサポートの強化<a class="headerlink" href="#better-support-for-global-template-variables-during-rendering" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>レンダラーが呼び出される前に、class： <cite>pyramid.interfaces.IBeforeRender`という名前の新しいイベントタイプがイベントとして送信されるようになりました。アプリケーションはレンダラに渡される前にレンダラグローバルセットをイントロスペクションして変更するために、 `</cite> IBeforeRender``イベントタイプにサブスクライブすることができます。イベントオブジェクトiselfには、この目的のために使用できる辞書のようなインターフェースがあります。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.events</span> <span class="k">import</span> <span class="n">subscriber</span>
<span class="kn">from</span> <span class="nn">pyramid.interfaces</span> <span class="k">import</span> <span class="n">IRendererGlobalsEvent</span>

<span class="nd">@subscriber</span><span class="p">(</span><span class="n">IRendererGlobalsEvent</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_global</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">event</span><span class="p">[</span><span class="s1">&#39;mykey&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="view-mappers">
<h3>マッパーを表示<a class="headerlink" href="#view-mappers" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>&amp;quot;view mapper &amp;quot;サブシステムが抽出されました。これにより、フレームワークエクステンダは、ビュー呼び出し可能オブジェクトがどのように構築され呼び出されるかを制御できます。この機能は&amp;quot;民間人&amp;quot;には役に立ちませんが、拡張機能の作者にのみ有効です。詳細はref： <a href="#id1"><span class="problematic" id="id2">`</span></a>using_a_view_mapper`を参照してください。</p>
</div>
<div class="section" id="testing-support-improvements">
<h3>テストサポートの改善<a class="headerlink" href="#testing-support-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>：func： <cite>pyramid.testing.setUp`と：func：</cite> pyramid.testing.tearDown` APIは廃止されました。これで、コンフィグレータの直接作成に代わって、テストコンフィグレーションのための標準的なセットアップとティアダウンAPIになりました。これは、今後のConfiguratorの廃止を防ぐファサードを提供するように設計された変更です。</p>
</div>
<div class="section" id="authentication-support-improvements">
<h3>認証サポートの改善<a class="headerlink" href="#authentication-support-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>：class： <cite>pyramid.interfaces.IAuthenticationPolicy`インターフェースは</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>unauthenticated_userid``メソッドを指定するようになりました。このメソッドは、オブジェクトキャッシングをサポートしない永続ストレージを使用しているユーザーと、要求属性として&amp;quot;ユーザーオブジェクト&amp;quot;を作成するユーザーが必要とする重要な最適化をサポートします。</li>
<li>新しいAPIが `` unauthenticated_userid``という名前の：mod： <cite>pyramid.security`モジュールに追加されました。このAPI関数は、有効なセキュリティポリシーの `</cite> unauthenticated_userid``メソッドを呼び出します。</li>
<li>class：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.authentication.AuthTktCookieHelper`はAPIになりました。このクラスは、認証Cookie設定の仕組みを助けるために、サードパーティの認証ポリシー開発者が使用できます。</li>
<li>：class： <cite>pyramid.authentication.AuthTktAuthenticationPolicy`は：func：</cite> pyramid.security.remember`を介して `` tokens``パラメータを受け付けるようになりました。値は一連の文字列でなければなりません。トークンはauth_tkt &amp;quot;tokens &amp;quot;フィールドに置かれ、auth_tktクッキーに返されます。</li>
<li>class： <cite>pyramid.authentication.AuthTktAuthenticationPolicy`に</cite> <cite>wild_domain``引数を追加しました。デフォルトは</cite> <cite>True``です。 `</cite> False``に設定されている場合、wilcardドメインを持つクッキーを設定するポリシーの機能は無効になります。</li>
</ul>
</div>
<div class="section" id="documentation-improvements">
<h3>ドキュメントの改善<a class="headerlink" href="#documentation-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>親友のCasey Duncanと優れたテクニカルライターが、Pyramidのドキュメントセット全体を専門的に編集する賜物を与えてくれました。ドキュメンテーションの欠陥は開発チームのものであり、すべての改善は彼のものです。</li>
<li>&amp;quot;リソースの場所とビューの参照&amp;quot;の章は、Rob Millerの&amp;quot;Much Ado About Traversal &amp;quot;（元々http://blog.nonsequitarian.org/2010/much-ado-about-htmlで公開されています）トラバーサル/）。</li>
<li>多くのユーザーがBen Bangert、Blaise Laflamme、Rob Miller、Mike Orr、C​​arlos de la Guardia、Paul Everitt、Tres Seaver、John Shipman、Marius Gedminas、Chris Rossi、Joachim Krebs、Xavier Spriet、Reed O &amp;#39; Brien、William Chambers、Charlie Choiniere、Jamaludin Ahmadが挙げられる。</li>
</ul>
</div>
</div>
<div class="section" id="minor-feature-additions">
<h2>マイナー機能追加<a class="headerlink" href="#minor-feature-additions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>設定者に渡された `` settings``辞書は、設定コードの `` config.registry.settings``とビューコードの `` request.registry.settings``として利用可能になりました。</li>
<li>：meth： <cite>pyramid.config.Configurator.add_view`は、</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>decorator``キーワード引数を受け付けるようになりました。この引数は、レジストリに追加される前に呼び出し可能なビューを装飾する呼び出し可能です。</li>
<li>ビューの登録中に提供された静的レンダラが、以前に登録されたレンダラの名前でなければならない `` override_renderer``という名前のリクエスト属性を介してリクエスト時にオーバーライドされるようにします。既存のレンダリングビューを使って&amp;quot;遍在する&amp;quot; RPCを提供するのに便利です。</li>
<li>リソースが `` __resource_url__``メソッドを実装している場合は、：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.url.resource_url`関数を呼び出してURLを生成し、デフォルトロジックをオーバーライドした結果として呼び出されます。詳細は、ref： <a href="#id3"><span class="problematic" id="id4">`</span></a>generate_the_url_of_a_resource`を参照してください。</li>
<li>`` registry``という名前はデフォルトで `` pshell``環境で利用できるようになりました。これはアプリケーションレジストリオブジェクトです。</li>
<li>exc： <cite>NotImplementedError`をキャッチし、</cite> <cite>django.utils``から</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>simplejson``をインポートすることで、Google App Engineにjsonのサポートを追加しました。</li>
<li>：mod： <cite>pyramid.httpexceptions`モジュールを追加しました。これは</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>webob.exc``モジュールのファサードです。</li>
<li>新しいクラス：：class： <cite>pyramid.response.Response</cite>。これは `` webob.Response``の純粋なファサードです（古いコードはこのファサードを使用するために変更する必要はなく、ほとんどが虚栄心や文書生成目的のためです）。</li>
<li>この要求には、Pylonsユーザーのための新しい属性、 `` tmpl_context``が追加されました。</li>
<li>class： <cite>pyramid.request.Request</cite>：` <cite>model_url`</cite>、` <cite>route_url`</cite>、` <a href="#id1"><span class="problematic" id="id2">`</span></a>static_url``の新しいAPIメソッドです。これらはmod： <a href="#id3"><span class="problematic" id="id4">`</span></a>pyramid.url`のそれぞれの関数の単純なパススルーです。</li>
</ul>
</div>
<div class="section" id="backwards-incompatibilities">
<h2>後方の非互換性<a class="headerlink" href="#backwards-incompatibilities" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul>
<li><p class="first">a：class： <cite>pyramid.exceptions.Forbidden`エラーが発生すると、そのステータスコードは</cite> <cite>403 Forbidden``になります。 mod： `repoze.bfg`との下位互換性の目的では以前は</cite> <cite>401 Unauthorized``でした。この変更により、Pyramidのユーザには、mod： `repoze.who`がデフォルトで</cite> 401 Unauthorized`を傍受し、 <cite>403 Forbidden`は通過させることができます。これらのデプロイメントでは、mod： `repoze.who`も</cite> <cite>403 Forbidden``に反応するように設定する必要があります。これを行うには、次のような `</cite> challenge_decider``をrepoze.who</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">zope.interface</span>
<span class="kn">from</span> <span class="nn">repoze.who.interfaces</span> <span class="k">import</span> <span class="n">IChallengeDecider</span>

<span class="k">def</span> <span class="nf">challenge_decider</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">status</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;403&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">status</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;401&#39;</span><span class="p">)</span>
<span class="n">zope</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">directlyProvides</span><span class="p">(</span><span class="n">challenge_decider</span><span class="p">,</span> <span class="n">IChallengeDecider</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">`` paster bfgshell``コマンドは `` paster pshell``として知られています。</p>
</li>
<li><p class="first">名前 `` repoze.bfg.debug``を持つ名前付きユーティリティとして登録された `` IDebugLogger``オブジェクトはなくなりました。</p>
</li>
<li><p class="first">これらの非難されたAPIは削除されました： `` pyramid.testing.registerViewPermission``、 `` pyramid.testing.registerRoutesMapper``、 `` pyramid.request.get_request``、 `` pyramid.security.Unauthorized``、 <code class="docutils literal notranslate"><span class="pre">ピラミッド.view.view_execution_permitted</span></code>、 `` pyramid.view.NotFound``</p>
</li>
<li><p class="first">すべての組み込みのVenusianデコレータ（例えば `` subscriber``と `` view_config`` / `` bfg_view``）のVenusian &amp;quot;category &amp;quot;は `` bfg``の代わりに `` pyramid``になりました。</p>
</li>
<li><p class="first">`` pyramid.renderers.rendered_response``関数が削除されました。代わりにfunc： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.renderers.render_to_response`を使用してください。</p>
</li>
<li><p class="first">レンダラーファクトリは、絶対リソース指定または絶対パスではなくレンダラー情報オブジェクト*を受け入れるようになりました。オブジェクトには、 `` name``（レンダラー= <code class="docutils literal notranslate"><span class="pre">値）、</span> <span class="pre">``パッケージ</span> <span class="pre">``（レンダラー構成ステートメントが見つかったときの現在のパッケージ）、</span> <span class="pre">``型</span> <span class="pre">``：レンダラータイプ、</span> <span class="pre">``</span> <span class="pre">registry</span></code>：現在のレジストリ、 `` settings``：デプロイメント設定辞書です。 Pyramidに移植されなければならないサードパーティの `` repoze.bfg``レンダラ実装は、これを考慮する必要があります。この変更は主に、より柔軟なMakoテンプレートレンダリングをサポートするために行われました。</p>
</li>
<li><p class="first">例外が発生したときのWSGI環境でのキー `` repoze.bfg.message``の存在は廃止されました。代わりに、この環境値に依存するコードは、要求の `` exception``属性（例えば、 `` request.exception [0] <a href="#id1"><span class="problematic" id="id2">``</span></a>）を使用してメッセージを取得する必要があります。</p>
</li>
<li><p class="first">キャッシュのための国際化の間に要求に保持された `` bfg_localizer``と `` bfg_locale_name``の値は決してAPIではありませんでした。これらはそれぞれ `` localizer``と `` locale_name``に変更されました。</p>
</li>
<li><p class="first">：class： <cite>pyramid.authentication.AuthTktAuthenticationPolicy`のデフォルトの</cite> <cite>cookie_name``値はデフォルトで</cite> <cite>auth_tkt``（デフォルトは</cite> <cite>repoze.bfg.auth_tkt`</cite>）になりました。</p>
</li>
<li><p class="first">：func： <cite>pyramid.testing.zcml_configure</cite> APIが削除されました。それは：mod： <cite>repoze.bfg</cite> 1.2a1以降に削除されたものとして広告されていましたが、実際には存在していませんでした。</p>
</li>
<li><p class="first">接頭辞 `` BFG_``を使用していたすべての環境変数は、 `` PYRAMID_``の接頭辞になりました（例えば `` BFG_DEBUG_NOTFOUND``は `` PYRAMID_DEBUG_NOTFOUND``です）</p>
</li>
<li><p class="first">：class： <cite>pyramid.interfaces.IAuthenticationPolicy`インターフェースは、ポリシー実装が</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>unauthenticated_userid``メソッドを実装しなければならないように指定するので、サードパーティのカスタム認証ポリシーはすべてこのメソッドを実装する必要があります。ただし、func： <a href="#id3"><span class="problematic" id="id4">`</span></a>pyramid.security.unauthenticated_userid`というグローバル関数が呼び出されたときにのみ呼び出されるため、呼び出さない場合は問題に気付かないでしょう。</p>
</li>
<li><p class="first">デプロイメント設定（Pyramidの `` main``関数に渡される `` ** settings``内の）内の `` configure_zcml``の設定は意味を持ちません。</p>
</li>
<li><p class="first">`` make_app``関数は：mod： <cite>pyramid.router`モジュールから削除されました。これは `</cite> pyramid_zcml``パッケージ内での生活を続けています。これにより、：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.router`モジュールにはAPI関数がありません。</p>
</li>
</ul>
</div>
<div class="section" id="deprecations-and-behavior-differences">
<h2>廃止と行動の相違<a class="headerlink" href="#deprecations-and-behavior-differences" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>：class： <cite>pyramid.configuration.Configurator`は廃止予定です。 ：class： `pyramid.config.Configurator`を使って、コンストラクタ</cite> autocommit = True`を渡してください。 ：class： <cite>pyramid.configuration.Configurator`エイリアスは、すべてのアプリケーションがそれを使用するので、長い間存続しますが、そのインポートは非​​推奨警告を発行します。 ：class： `pyramid.config.Configurator`クラスは：class：</cite> pyramid.configuration.Configurator`クラスと同じAPIを持っています。これはデフォルトでは非自動コミット*コンフィグレータですが、置き換えられることを意味します。現在廃止された `` pyramid.configuration.Configurator``は、設定メソッドが呼び出されるたびに自動的にコミットします。 ：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.configuration`モジュールは残っていますが、非難されています。 mod： <a href="#id3"><span class="problematic" id="id4">`</span></a>pyramid.config`を代わりに使用してください。</li>
<li>：func： <cite>pyramid.settings.get_settings</cite> APIは廃止予定です。代わりに、 `` pyramid.threadlocals.get_current_registry（）。settings``を使用するか、リクエストから利用可能なレジストリの `` settings``属性（ `` request.registry.settings``）を使用してください。</li>
<li>以前は `` pyramid.view.bfg_view``として知られていたデコレータは、ドキュメントと足場のclass： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.view.view_config`として最も正式に知られています。</li>
<li>`` registry。{get | query}ユーティリティ（ISettings） <a href="#id1"><span class="problematic" id="id2">``</span></a>を介して `` settings``オブジェクトを取得することは廃止されました。代わりに `` settings``オブジェクトを `` registry.settings``属性で取得します。 `` setattr（registry、 &amp;#39;settings&amp;#39;、foo） <a href="#id3"><span class="problematic" id="id4">``</span></a>が呼び出されたときに設定オブジェクトをISettingsユーティリティとして登録するために、レジストリオブジェクトに下位互換性のシムが追加されましたが、後のリリースで削除されます。</li>
<li>func： <cite>pyramid.settings.get_settings`を介して</cite> <cite>settings``オブジェクトを取得するようになりました。代わりに、レジストリの `</cite> settings``属性として取得します（func： <cite>pyramid.threadlocal.get_registry`または</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>request.registry``を介してレジストリを取得します）。</li>
</ul>
</div>
<div class="section" id="dependency-changes">
<h2>依存関係の変更<a class="headerlink" href="#dependency-changes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Venusian&amp;gt; = 0.5（スキャン競合例外装飾用）に依存します。</li>
</ul>
</div>
<div class="section" id="documentation-enhancements">
<h2>ドキュメントの機能拡張<a class="headerlink" href="#documentation-enhancements" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>a：mod： <cite>pyramid.httpexceptions</cite> APIドキュメントの章を追加しました。</li>
<li>a：mod： <cite>pyramid.session</cite> APIドキュメントの章を追加しました。</li>
<li>：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.response`モジュール用のAPIの章を追加しました。</li>
<li>a：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>sessions_chapter`ナレーション文書の章を追加しました。</li>
<li>以前に `` webob.Response``を参照していたすべてのドキュメントはclass： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.response.Response`を代わりに使用しています。</li>
<li>ドキュメントは、必須の構成を使用して、宣言的構成（ZCML）の説明を外部パッケージterm： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid_zcml`に移動するように改訂されました。</li>
<li>`` zodbsessions``チュートリアルの章を削除しました。これはまだ有用ですが、SessionFactory抽象化と競合しています。両方の方法でドキュメンテーションを維持することは気を散らすものです。</li>
<li>テストの説明の章：ref： <cite>functional_tests`に</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>WebTest``機能テストの例を追加しました。</li>
<li>「リソース」の章では、リソース関連のAPIの呼び出し例を拡張しました。</li>
<li>ディフェンスのドキュメントを作成するには、&amp;quot;ピラミッドはそれを行う方法の1つ以上を提供する&amp;quot;を追加します。</li>
<li>（弱い）&amp;quot;CMFアプリケーションをPyramidに変換する&amp;quot;チュートリアルは、チュートリアルのセクションから削除されました。それはhttp://docs.pylonsproject.org/projects/pyramid_tutorials/dev/の `` pyramid_tutorials`` Githubリポジトリに移されました。</li>
<li>&amp;quot;ZODOでZODBを使用する&amp;quot;と&amp;quot;repoze.catalogをピラミッド内でtutorialsの中からコアドキュメントとPyramidチュートリアルサイト（<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_tutorials/dev/">http://docs.pylonsproject.org/projects/pyramid_tutorials/dev/</a>）に移動しました。</li>
<li>`` registerDummySecurityPolicy``、 `` registerResources``、 `` registerModels``、 `` registerEventListener``、 `` registerTemplateRenderer``、 `` registerDummyRenderer``という非推奨の `` pyramid.testing`` APIのAPIドキュメントを削除しました。 registerView``、 `` registerUtility``、 `` registerAdapter``、 `` registerSubscriber``、 `` registerRoute``、および `` registerSettings``を返します。</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(機械翻訳)Pyramid 1.0の新機能</a><ul>
<li><a class="reference internal" href="#major-feature-additions">主な機能の追加</a><ul>
<li><a class="reference internal" href="#new-name-and-branding">新しい名前とブランディング</a></li>
<li><a class="reference internal" href="#bfg-conversion-script">BFG変換スクリプト</a></li>
<li><a class="reference internal" href="#scaffold-improvements">足場の改良</a></li>
<li><a class="reference internal" href="#terminology-changes">用語の変更</a></li>
<li><a class="reference internal" href="#better-platform-compatibility-and-support">より良いプラットフォームの互換性とサポート</a></li>
<li><a class="reference internal" href="#sessions">セッション</a></li>
<li><a class="reference internal" href="#mako">マコ</a></li>
<li><a class="reference internal" href="#url-dispatch">URL派遣</a></li>
<li><a class="reference internal" href="#zcml-externalized">ZCML外部化</a></li>
<li><a class="reference internal" href="#imperative-two-phase-configuration">指令2相構成</a></li>
<li><a class="reference internal" href="#better-support-for-global-template-variables-during-rendering">レンダリング時のグローバルテンプレート変数のサポートの強化</a></li>
<li><a class="reference internal" href="#view-mappers">マッパーを表示</a></li>
<li><a class="reference internal" href="#testing-support-improvements">テストサポートの改善</a></li>
<li><a class="reference internal" href="#authentication-support-improvements">認証サポートの改善</a></li>
<li><a class="reference internal" href="#documentation-improvements">ドキュメントの改善</a></li>
</ul>
</li>
<li><a class="reference internal" href="#minor-feature-additions">マイナー機能追加</a></li>
<li><a class="reference internal" href="#backwards-incompatibilities">後方の非互換性</a></li>
<li><a class="reference internal" href="#deprecations-and-behavior-differences">廃止と行動の相違</a></li>
<li><a class="reference internal" href="#dependency-changes">依存関係の変更</a></li>
<li><a class="reference internal" href="#documentation-enhancements">ドキュメントの機能拡張</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="whatsnew-1.1.html"
                        title="前の章へ">(機械翻訳)Pyramid 1.1の新機能</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="changes.html"
                        title="次の章へ">(機械翻訳) <span>Pyramid</span> 変更履歴</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/whatsnew-1.0.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="changes.html" title="(機械翻訳) Pyramid 変更履歴"
             >次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.1.html" title="(機械翻訳)Pyramid 1.1の新機能"
             >前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 11月 03, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1 で生成しました。
    </div>
  </body>
</html>