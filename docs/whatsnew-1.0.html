
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>What&#39;s New in Pyramid 1.0 &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="copyright" title="著作権" href="copyright.html" />
    <link rel="next" title="Pyramid Change History" href="changes.html" />
    <link rel="prev" title="What&#39;s New in Pyramid 1.1" href="whatsnew-1.1.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="changes.html" title="Pyramid Change History"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.1.html" title="What&#39;s New in Pyramid 1.1"
             accesskey="P">前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-pyramid-1-0">
<h1>What's New in Pyramid 1.0<a class="headerlink" href="#what-s-new-in-pyramid-1-0" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>This article explains the new features in Pyramid version 1.0 as compared to
its predecessor, <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> 1.3.  It also documents backwards
incompatibilities between the two versions and deprecations added to Pyramid
1.0, as well as software dependency changes and notable documentation
additions.</p>
<div class="section" id="major-feature-additions">
<h2>Major Feature Additions<a class="headerlink" href="#major-feature-additions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The major feature additions in Pyramid 1.0 are:</p>
<ul class="simple">
<li>New name and branding association with the Pylons Project.</li>
<li>BFG conversion script</li>
<li>Scaffold improvements</li>
<li>Terminology changes</li>
<li>Better platform compatibility and support</li>
<li>Direct built-in support for the Mako templating language.</li>
<li>Built-in support for sessions.</li>
<li>Updated URL dispatch features</li>
<li>Better imperative extensibility</li>
<li>ZCML externalized</li>
<li>Better support for global template variables during rendering</li>
<li>View mappers</li>
<li>Testing system improvements</li>
<li>Authentication support improvements</li>
<li>Documentation improvements</li>
</ul>
<div class="section" id="new-name-and-branding">
<h3>New Name and Branding<a class="headerlink" href="#new-name-and-branding" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The name of <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> has been changed to Pyramid.  The project is also
now a subproject of a new entity, &quot;The Pylons Project&quot;.  The Pylons Project
is the project name for a collection of web-framework-related technologies.
Pyramid was the first package in the Pylons Project. Other packages to the
collection have been added over time, such as support packages useful for
Pylons 1 users as well as ex-Zope users.  Pyramid is the successor to both
<code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> and <a class="reference internal" href="glossary.html#term-pylons"><span class="xref std std-term">Pylons</span></a> version 1.</p>
<p>The Pyramid codebase is derived almost entirely from <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code>
with some changes made for the sake of Pylons 1 compatibility.</p>
<p>Pyramid is technically backwards incompatible with <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code>, as it
has a new package name, so older imports from the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> module will
fail if you do nothing to your existing <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application.
However, you won't have to do much to use your existing BFG applications on
Pyramid. There's automation which will change most of your import statements
and ZCML declarations. See
<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/current/tutorials/bfg/index.html">http://docs.pylonsproject.org/projects/pyramid/current/tutorials/bfg/index.html</a>
for upgrade instructions.</p>
<p>Pylons 1 users will need to do more work to use Pyramid, as Pyramid shares no
&quot;DNA&quot; with Pylons.  It is hoped that over time documentation and upgrade code
will be developed to help Pylons 1 users transition to Pyramid more easily.</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> version 1.3 will be its last major release. Minor updates
will be made for critical bug fixes.  Pylons version 1 will continue to see
maintenance releases, as well.</p>
<p>The Repoze project will continue to exist. Repoze will be able to regain its
original focus: bringing Zope technologies to WSGI. The popularity of
<code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> as its own web framework hindered this goal.</p>
<p>We hope that people are attracted at first by the spirit of cooperation
demonstrated by the Pylons Project and the merging of development
communities. It takes humility to sacrifice a little sovereignty and work
together. The opposite, forking or splintering of projects, is much more
common in the open source world. We feel there is a limited amount of oxygen
in the space of &quot;top-tier&quot; Python web frameworks and we don’t do the Python
community a service by over-crowding.  By merging the <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> and
the philosophically-similar Pylons communities, both gain an expanded
audience and a stronger chance of future success.</p>
</div>
<div class="section" id="bfg-conversion-script">
<h3>BFG Conversion Script<a class="headerlink" href="#bfg-conversion-script" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">bfg2pyramid</span></code> conversion script performs a mostly automated conversion
of an existing <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application to Pyramid.  The process is
described in &quot;Converting a BFG Application to Pyramid&quot;.</p>
</div>
<div class="section" id="scaffold-improvements">
<h3>Scaffold Improvements<a class="headerlink" href="#scaffold-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The scaffolds now have much nicer CSS and graphics.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">development.ini</span></code>, generated by all scaffolds, is now configured to
use the WebError interactive exception debugger by default.</p>
</li>
<li><p class="first">All scaffolds have been normalized: each now uses the name <code class="docutils literal notranslate"><span class="pre">main</span></code>
to represent the function that returns a WSGI application, and each now has
roughly the same shape of development.ini style.</p>
</li>
<li><p class="first">All preexisting scaffolds now use &quot;imperative&quot; configuration
(<code class="docutils literal notranslate"><span class="pre">starter</span></code>, <code class="docutils literal notranslate"><span class="pre">routesalchemy</span></code>, <code class="docutils literal notranslate"><span class="pre">alchemy</span></code>, <code class="docutils literal notranslate"><span class="pre">zodb</span></code>) instead of ZCML
configuration.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">pyramid_zodb</span></code>, <code class="docutils literal notranslate"><span class="pre">routesalchemy</span></code> and <code class="docutils literal notranslate"><span class="pre">pyramid_alchemy</span></code>
scaffolds now use a default &quot;commit veto&quot; hook when configuring the
<code class="docutils literal notranslate"><span class="pre">repoze.tm2</span></code> transaction manager in <code class="docutils literal notranslate"><span class="pre">development.ini</span></code>.  This prevents a
transaction from being committed when the response status code is within
the 400 or 500 ranges.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference external" href="http://docs.repoze.org/tm2/#using-a-commit-veto">http://docs.repoze.org/tm2/#using-a-commit-veto</a>.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="terminology-changes">
<h3>Terminology Changes<a class="headerlink" href="#terminology-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The Pyramid concept previously known as &quot;model&quot; is now known as &quot;resource&quot;.
As a result, the following API renames have been made.  Backwards
compatibility shims for the old names have been left in place in all cases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">model_url</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">resource_url</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">find_model</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find_resource</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">model_path</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">resource_path</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">model_path_tuple</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">resource_path_tuple</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">ModelGraphTraverser</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">ResourceTreeTraverser</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">testing_models</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">testing_resources</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">registerModels</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">registerResources</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">DummyModel</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">DummyResource</span>
</pre></div>
</div>
</li>
<li><p class="first">All documentation which previously referred to &quot;model&quot; now refers to
&quot;resource&quot;.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">starter</span></code> scaffold now has a <code class="docutils literal notranslate"><span class="pre">resources.py</span></code> module instead
of a <code class="docutils literal notranslate"><span class="pre">models.py</span></code> module.</p>
</li>
<li><p class="first">Positional argument names of various APIs have been changed from
<code class="docutils literal notranslate"><span class="pre">model</span></code> to <code class="docutils literal notranslate"><span class="pre">resource</span></code>.</p>
</li>
<li><p class="first">The Pyramid concept previously known as &quot;resource&quot; is now known as &quot;asset&quot;.
As a result, the following API changes were made.  Backwards compatibility
shims have been left in place as necessary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">absolute_resource_spec</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">absolute_asset_spec</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">override_resource</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">override_asset</span>
</pre></div>
</div>
</li>
<li><p class="first">The (non-API) module previously known as <code class="docutils literal notranslate"><span class="pre">pyramid.resource</span></code> is now
known as <code class="docutils literal notranslate"><span class="pre">pyramid.asset</span></code>.</p>
</li>
<li><p class="first">All docs that previously referred to &quot;resource specification&quot; now refer
to &quot;asset specification&quot;.</p>
</li>
<li><p class="first">The setting previously known as <code class="docutils literal notranslate"><span class="pre">BFG_RELOAD_RESOURCES</span></code> (envvar) or
<code class="docutils literal notranslate"><span class="pre">reload_resources</span></code> (config file) is now known, respectively, as
<code class="docutils literal notranslate"><span class="pre">PYRAMID_RELOAD_ASSETS</span></code> and <code class="docutils literal notranslate"><span class="pre">reload_assets</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="better-platform-compatibility-and-support">
<h3>Better Platform Compatibility and Support<a class="headerlink" href="#better-platform-compatibility-and-support" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We've made Pyramid's test suite pass on both Jython and PyPy.  However,
Chameleon doesn't work on either, so you'll need to use Mako or Jinja2
templates on these platforms.</p>
</div>
<div class="section" id="sessions">
<h3>Sessions<a class="headerlink" href="#sessions" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Pyramid now has built-in sessioning support, documented in
<a class="reference internal" href="narr/sessions.html#sessions-chapter"><span class="std std-ref">Sessions</span></a>.  The sessioning implementation is pluggable.  It
also provides flash messaging and cross-site-scripting prevention features.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">request.session</span></code> now returns a (dictionary-like) session object if
a <a class="reference internal" href="glossary.html#term-session-factory"><span class="xref std std-term">session factory</span></a> has been configured.</p>
<p>A new argument to the Configurator constructor exists: <code class="docutils literal notranslate"><span class="pre">session_factory</span></code>
and a new method on the configurator exists:
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.set_session_factory" title="pyramid.config.Configurator.set_session_factory"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.set_session_factory()</span></code></a>.</p>
</div>
<div class="section" id="mako">
<h3>Mako<a class="headerlink" href="#mako" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>In addition to Chameleon templating, Pyramid now also provides built-in
support for <a class="reference internal" href="glossary.html#term-mako"><span class="xref std std-term">Mako</span></a> templating.  See
<a class="reference internal" href="narr/templates.html#available-template-system-bindings"><span class="std std-ref">Available Add-On Template System Bindings</span></a> for more information.</p>
</div>
<div class="section" id="url-dispatch">
<h3>URL Dispatch<a class="headerlink" href="#url-dispatch" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URL Dispatch now allows for replacement markers to be located anywhere
in the pattern, instead of immediately following a <code class="docutils literal notranslate"><span class="pre">/</span></code>.</li>
<li>URL Dispatch now uses the form <code class="docutils literal notranslate"><span class="pre">{marker}</span></code> to denote a replace marker in
the route pattern instead of <code class="docutils literal notranslate"><span class="pre">:marker</span></code>. The old colon-style marker syntax
is still accepted for backwards compatibility. The new format allows a
regular expression for that marker location to be used instead of the
default <code class="docutils literal notranslate"><span class="pre">[^/]+</span></code>, for example <code class="docutils literal notranslate"><span class="pre">{marker:\d+}</span></code> is now valid to require the
marker to be digits.</li>
<li>Addded a new API <a class="reference internal" href="api/url.html#pyramid.url.current_route_url" title="pyramid.url.current_route_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.url.current_route_url()</span></code></a>, which computes a
URL based on the &quot;current&quot; route (if any) and its matchdict values.</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">proute</span></code> command which displays a summary of the routing
table.  See the narrative documentation section entitled
<a class="reference internal" href="narr/commandline.html#displaying-application-routes"><span class="std std-ref">Displaying All Application Routes</span></a>.</li>
<li>Added <code class="docutils literal notranslate"><span class="pre">debug_routematch</span></code> configuration setting (settable in your <code class="docutils literal notranslate"><span class="pre">.ini</span></code>
file) that logs matched routes including the matchdict and predicates.</li>
<li>Add a <a class="reference internal" href="api/url.html#pyramid.url.route_path" title="pyramid.url.route_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.url.route_path()</span></code></a> API, allowing folks to generate
relative URLs.  Calling <code class="docutils literal notranslate"><span class="pre">route_path</span></code> is the same as calling
<a class="reference internal" href="api/url.html#pyramid.url.route_url" title="pyramid.url.route_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.url.route_url()</span></code></a> with the argument <code class="docutils literal notranslate"><span class="pre">_app_url</span></code> equal to the
empty string.</li>
<li>Add a <a class="reference internal" href="api/request.html#pyramid.request.Request.route_path" title="pyramid.request.Request.route_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.request.Request.route_path()</span></code></a> API.  This is a
convenience method of the request which calls
<a class="reference internal" href="api/url.html#pyramid.url.route_url" title="pyramid.url.route_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.url.route_url()</span></code></a>.</li>
<li>Added class vars <code class="docutils literal notranslate"><span class="pre">matchdict</span></code> and <code class="docutils literal notranslate"><span class="pre">matched_route</span></code> to
<a class="reference internal" href="api/request.html#pyramid.request.Request" title="pyramid.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.request.Request</span></code></a>.  Each is set to <code class="docutils literal notranslate"><span class="pre">None</span></code> when a route
isn't matched during a request.</li>
</ul>
</div>
<div class="section" id="zcml-externalized">
<h3>ZCML Externalized<a class="headerlink" href="#zcml-externalized" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">load_zcml</span></code> method of a Configurator has been removed from the
Pyramid core.  Loading ZCML is now a feature of the <a class="reference internal" href="glossary.html#term-pyramid-zcml"><span class="xref std std-term">pyramid_zcml</span></a>
package, which can be downloaded from PyPI.  Documentation for the package
should be available via
<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_zcml/en/latest/">http://docs.pylonsproject.org/projects/pyramid_zcml/en/latest/</a>, which describes how to
add a configuration statement to your <code class="docutils literal notranslate"><span class="pre">main</span></code> block to reobtain this
method.  You will also need to add an <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> dependency upon
the <code class="docutils literal notranslate"><span class="pre">pyramid_zcml</span></code> distribution to your <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file.</li>
<li>The &quot;Declarative Configuration&quot; narrative chapter has been removed (it was
moved to the <code class="docutils literal notranslate"><span class="pre">pyramid_zcml</span></code> package).</li>
<li>Most references to ZCML in narrative chapters have been removed or
redirected to <code class="docutils literal notranslate"><span class="pre">pyramid_zcml</span></code> locations.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">starter_zcml</span></code> paster scaffold has been moved to the <code class="docutils literal notranslate"><span class="pre">pyramid_zcml</span></code>
package.</li>
</ul>
</div>
<div class="section" id="imperative-two-phase-configuration">
<h3>Imperative Two-Phase Configuration<a class="headerlink" href="#imperative-two-phase-configuration" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>To support application extensibility, the <span>Pyramid</span>
<a class="reference internal" href="glossary.html#term-configurator"><span class="xref std std-term">Configurator</span></a>, by default, now detects configuration conflicts and
allows you to include configuration imperatively from other packages or
modules.  It also, by default, performs configuration in two separate phases.
This allows you to ignore relative configuration statement ordering in some
circumstances.  See <a class="reference internal" href="narr/advconfig.html#advconfig-narr"><span class="std std-ref">Advanced Configuration</span></a> for more information.</p>
<p>The <a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_directive" title="pyramid.config.Configurator.add_directive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.add_directive()</span></code></a> allows framework
extenders to add methods to the configurator, which allows extenders to avoid
subclassing a Configurator just to add methods.  See <a class="reference internal" href="narr/extconfig.html#add-directive"><span class="std std-ref">Adding Methods to the Configurator via add_directive</span></a> for
more info.</p>
<p>Surrounding application configuration with <code class="docutils literal notranslate"><span class="pre">config.begin()</span></code> and
<code class="docutils literal notranslate"><span class="pre">config.end()</span></code> is no longer necessary.  All scaffolds have been
changed to no longer call these functions.</p>
</div>
<div class="section" id="better-support-for-global-template-variables-during-rendering">
<h3>Better Support for Global Template Variables During Rendering<a class="headerlink" href="#better-support-for-global-template-variables-during-rendering" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>A new event type named <a class="reference internal" href="api/interfaces.html#pyramid.interfaces.IBeforeRender" title="pyramid.interfaces.IBeforeRender"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.interfaces.IBeforeRender</span></code></a> is now sent
as an event before a renderer is invoked.  Applications may now subscribe to
the <code class="docutils literal notranslate"><span class="pre">IBeforeRender</span></code> event type in order to introspect the and modify the
set of renderer globals before they are passed to a renderer.  The event
object iself has a dictionary-like interface that can be used for this
purpose.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.events</span> <span class="k">import</span> <span class="n">subscriber</span>
<span class="kn">from</span> <span class="nn">pyramid.interfaces</span> <span class="k">import</span> <span class="n">IRendererGlobalsEvent</span>

<span class="nd">@subscriber</span><span class="p">(</span><span class="n">IRendererGlobalsEvent</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_global</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">event</span><span class="p">[</span><span class="s1">&#39;mykey&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="view-mappers">
<h3>View Mappers<a class="headerlink" href="#view-mappers" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>A &quot;view mapper&quot; subsystem has been extracted, which allows framework
extenders to control how view callables are constructed and called.  This
feature is not useful for &quot;civilians&quot;, only for extension writers.  See
<a class="reference internal" href="narr/hooks.html#using-a-view-mapper"><span class="std std-ref">Using a View Mapper</span></a> for more information.</p>
</div>
<div class="section" id="testing-support-improvements">
<h3>Testing Support Improvements<a class="headerlink" href="#testing-support-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The <a class="reference internal" href="api/testing.html#pyramid.testing.setUp" title="pyramid.testing.setUp"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.testing.setUp()</span></code></a> and <a class="reference internal" href="api/testing.html#pyramid.testing.tearDown" title="pyramid.testing.tearDown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.testing.tearDown()</span></code></a> APIs
have been undeprecated.  They are now the canonical setup and teardown APIs
for test configuration, replacing &quot;direct&quot; creation of a Configurator.  This
is a change designed to provide a facade that will protect against any future
Configurator deprecations.</p>
</div>
<div class="section" id="authentication-support-improvements">
<h3>Authentication Support Improvements<a class="headerlink" href="#authentication-support-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <a class="reference internal" href="api/interfaces.html#pyramid.interfaces.IAuthenticationPolicy" title="pyramid.interfaces.IAuthenticationPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.interfaces.IAuthenticationPolicy</span></code></a> interface now
specifies an <code class="docutils literal notranslate"><span class="pre">unauthenticated_userid</span></code> method.  This method supports an
important optimization required by people who are using persistent storages
which do not support object caching and whom want to create a &quot;user object&quot;
as a request attribute.</li>
<li>A new API has been added to the <a class="reference internal" href="api/security.html#module-pyramid.security" title="pyramid.security"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.security</span></code></a> module named
<code class="docutils literal notranslate"><span class="pre">unauthenticated_userid</span></code>.  This API function calls the
<code class="docutils literal notranslate"><span class="pre">unauthenticated_userid</span></code> method of the effective security policy.</li>
<li>The class <a class="reference internal" href="api/authentication.html#pyramid.authentication.AuthTktCookieHelper" title="pyramid.authentication.AuthTktCookieHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.authentication.AuthTktCookieHelper</span></code></a> is now an
API.  This class can be used by third-party authentication policy
developers to help in the mechanics of authentication cookie-setting.</li>
<li>The <a class="reference internal" href="api/authentication.html#pyramid.authentication.AuthTktAuthenticationPolicy" title="pyramid.authentication.AuthTktAuthenticationPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.authentication.AuthTktAuthenticationPolicy</span></code></a> now accepts
a <code class="docutils literal notranslate"><span class="pre">tokens</span></code> parameter via <a class="reference internal" href="api/security.html#pyramid.security.remember" title="pyramid.security.remember"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.security.remember()</span></code></a>.  The value
must be a sequence of strings.  Tokens are placed into the auth_tkt
&quot;tokens&quot; field and returned in the auth_tkt cookie.</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">wild_domain</span></code> argument to
<a class="reference internal" href="api/authentication.html#pyramid.authentication.AuthTktAuthenticationPolicy" title="pyramid.authentication.AuthTktAuthenticationPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.authentication.AuthTktAuthenticationPolicy</span></code></a>, which defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  If it is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the feature of the policy which
sets a cookie with a wilcard domain will be turned off.</li>
</ul>
</div>
<div class="section" id="documentation-improvements">
<h3>Documentation Improvements<a class="headerlink" href="#documentation-improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Casey Duncan, a good friend, and an excellent technical writer has given us
the gift of professionally editing the entire Pyramid documentation set.
Any faults in the documentation are the development team's, and all
improvements are his.</li>
<li>The &quot;Resource Location and View Lookup&quot; chapter has been replaced with a
variant of Rob Miller's &quot;Much Ado About Traversal&quot; (originally published at
<a class="reference external" href="http://blog.nonsequitarian.org/2010/much-ado-about-traversal/">http://blog.nonsequitarian.org/2010/much-ado-about-traversal/</a>).</li>
<li>Many users have contributed documentation fixes and improvements including
Ben Bangert, Blaise Laflamme, Rob Miller, Mike Orr, Carlos de la Guardia,
Paul Everitt, Tres Seaver, John Shipman, Marius Gedminas, Chris Rossi,
Joachim Krebs, Xavier Spriet, Reed O'Brien, William Chambers, Charlie
Choiniere, and Jamaludin Ahmad.</li>
</ul>
</div>
</div>
<div class="section" id="minor-feature-additions">
<h2>Minor Feature Additions<a class="headerlink" href="#minor-feature-additions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">settings</span></code> dictionary passed to the Configurator is now available as
<code class="docutils literal notranslate"><span class="pre">config.registry.settings</span></code> in configuration code and
<code class="docutils literal notranslate"><span class="pre">request.registry.settings</span></code> in view code).</li>
<li><a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.add_view()</span></code></a> now accepts a <code class="docutils literal notranslate"><span class="pre">decorator</span></code>
keyword argument, a callable which will decorate the view callable before
it is added to the registry.</li>
<li>Allow static renderer provided during view registration to be overridden at
request time via a request attribute named <code class="docutils literal notranslate"><span class="pre">override_renderer</span></code>, which
should be the name of a previously registered renderer.  Useful to provide
&quot;omnipresent&quot; RPC using existing rendered views.</li>
<li>If a resource implements a <code class="docutils literal notranslate"><span class="pre">__resource_url__</span></code> method, it will be called
as the result of invoking the <a class="reference internal" href="api/url.html#pyramid.url.resource_url" title="pyramid.url.resource_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.url.resource_url()</span></code></a> function to
generate a URL, overriding the default logic.  See
<a class="reference internal" href="narr/resources.html#generating-the-url-of-a-resource"><span class="std std-ref">Generating the URL of a Resource</span></a> for more information.</li>
<li>The name <code class="docutils literal notranslate"><span class="pre">registry</span></code> is now available in a <code class="docutils literal notranslate"><span class="pre">pshell</span></code> environment by
default.  It is the application registry object.</li>
<li>Added support for json on Google App Engine by catching
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> and importing <code class="docutils literal notranslate"><span class="pre">simplejson</span></code> from
<code class="docutils literal notranslate"><span class="pre">django.utils</span></code>.</li>
<li>Added the <a class="reference internal" href="api/httpexceptions.html#module-pyramid.httpexceptions" title="pyramid.httpexceptions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.httpexceptions</span></code></a> module, which is a facade for the
<code class="docutils literal notranslate"><span class="pre">webob.exc</span></code> module.</li>
<li>New class: <a class="reference internal" href="api/response.html#pyramid.response.Response" title="pyramid.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.response.Response</span></code></a>.  This is a pure facade for
<code class="docutils literal notranslate"><span class="pre">webob.Response</span></code> (old code need not change to use this facade, it's
existence is mostly for vanity and documentation-generation purposes).</li>
<li>The request now has a new attribute: <code class="docutils literal notranslate"><span class="pre">tmpl_context</span></code> for benefit of
Pylons users.</li>
<li>New API methods for <a class="reference internal" href="api/request.html#pyramid.request.Request" title="pyramid.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.request.Request</span></code></a>: <code class="docutils literal notranslate"><span class="pre">model_url</span></code>,
<code class="docutils literal notranslate"><span class="pre">route_url</span></code>, and <code class="docutils literal notranslate"><span class="pre">static_url</span></code>.  These are simple passthroughs for their
respective functions in <a class="reference internal" href="api/url.html#module-pyramid.url" title="pyramid.url"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.url</span></code></a>.</li>
</ul>
</div>
<div class="section" id="backwards-incompatibilities">
<h2>Backwards Incompatibilities<a class="headerlink" href="#backwards-incompatibilities" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul>
<li><p class="first">When a <a class="reference internal" href="api/exceptions.html#pyramid.exceptions.Forbidden" title="pyramid.exceptions.Forbidden"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.exceptions.Forbidden</span></code></a> error is raised, its status
code now <code class="docutils literal notranslate"><span class="pre">403</span> <span class="pre">Forbidden</span></code>.  It was previously <code class="docutils literal notranslate"><span class="pre">401</span> <span class="pre">Unauthorized</span></code>, for
backwards compatibility purposes with <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code>.  This change will
cause problems for users of Pyramid with <a class="reference external" href="https://repozewho.readthedocs.io/en/latest/index.html#module-repoze.who" title="(in repoze.who v2.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.who</span></code></a>, which
intercepts <code class="docutils literal notranslate"><span class="pre">401</span> <span class="pre">Unauthorized</span></code> by default, but allows <code class="docutils literal notranslate"><span class="pre">403</span> <span class="pre">Forbidden</span></code> to
pass through.  Those deployments will need to configure <a class="reference external" href="https://repozewho.readthedocs.io/en/latest/index.html#module-repoze.who" title="(in repoze.who v2.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.who</span></code></a>
to also react to <code class="docutils literal notranslate"><span class="pre">403</span> <span class="pre">Forbidden</span></code>.  To do so, use a repoze.who
<code class="docutils literal notranslate"><span class="pre">challenge_decider</span></code> that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">zope.interface</span>
<span class="kn">from</span> <span class="nn">repoze.who.interfaces</span> <span class="k">import</span> <span class="n">IChallengeDecider</span>

<span class="k">def</span> <span class="nf">challenge_decider</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">status</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;403&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">status</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;401&#39;</span><span class="p">)</span>
<span class="n">zope</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">directlyProvides</span><span class="p">(</span><span class="n">challenge_decider</span><span class="p">,</span> <span class="n">IChallengeDecider</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">bfgshell</span></code> command is now known as <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">pshell</span></code>.</p>
</li>
<li><p class="first">There is no longer an <code class="docutils literal notranslate"><span class="pre">IDebugLogger</span></code> object registered as a named utility
with the name <code class="docutils literal notranslate"><span class="pre">repoze.bfg.debug</span></code>.</p>
</li>
<li><p class="first">These deprecated APIs have been removed:
<code class="docutils literal notranslate"><span class="pre">pyramid.testing.registerViewPermission</span></code>,
<code class="docutils literal notranslate"><span class="pre">pyramid.testing.registerRoutesMapper</span></code>, <code class="docutils literal notranslate"><span class="pre">pyramid.request.get_request</span></code>,
<code class="docutils literal notranslate"><span class="pre">pyramid.security.Unauthorized</span></code>,
<code class="docutils literal notranslate"><span class="pre">pyramid.view.view_execution_permitted</span></code>, <code class="docutils literal notranslate"><span class="pre">pyramid.view.NotFound</span></code></p>
</li>
<li><p class="first">The Venusian &quot;category&quot; for all built-in Venusian decorators
(e.g. <code class="docutils literal notranslate"><span class="pre">subscriber</span></code> and <code class="docutils literal notranslate"><span class="pre">view_config</span></code>/<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>) is now
<code class="docutils literal notranslate"><span class="pre">pyramid</span></code> instead of <code class="docutils literal notranslate"><span class="pre">bfg</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">pyramid.renderers.rendered_response</span></code> function removed; use
<a class="reference internal" href="api/renderers.html#pyramid.renderers.render_to_response" title="pyramid.renderers.render_to_response"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.renderers.render_to_response()</span></code></a> instead.</p>
</li>
<li><p class="first">Renderer factories now accept a <em>renderer info object</em> rather than an
absolute resource specification or an absolute path.  The object has the
following attributes: <code class="docutils literal notranslate"><span class="pre">name</span></code> (the <code class="docutils literal notranslate"><span class="pre">renderer=</span></code> value), <code class="docutils literal notranslate"><span class="pre">package</span></code> (the
'current package' when the renderer configuration statement was found),
<code class="docutils literal notranslate"><span class="pre">type</span></code>: the renderer type, <code class="docutils literal notranslate"><span class="pre">registry</span></code>: the current registry, and
<code class="docutils literal notranslate"><span class="pre">settings</span></code>: the deployment settings dictionary.  Third-party
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> renderer implementations that must be ported to Pyramid will
need to account for this.  This change was made primarily to support more
flexible Mako template rendering.</p>
</li>
<li><p class="first">The presence of the key <code class="docutils literal notranslate"><span class="pre">repoze.bfg.message</span></code> in the WSGI environment when
an exception occurs is now deprecated.  Instead, code which relies on this
environ value should use the <code class="docutils literal notranslate"><span class="pre">exception</span></code> attribute of the request
(e.g. <code class="docutils literal notranslate"><span class="pre">request.exception[0]</span></code>) to retrieve the message.</p>
</li>
<li><p class="first">The values <code class="docutils literal notranslate"><span class="pre">bfg_localizer</span></code> and <code class="docutils literal notranslate"><span class="pre">bfg_locale_name</span></code> kept on the request
during internationalization for caching purposes were never APIs.  These
however have changed to <code class="docutils literal notranslate"><span class="pre">localizer</span></code> and <code class="docutils literal notranslate"><span class="pre">locale_name</span></code>, respectively.</p>
</li>
<li><p class="first">The default <code class="docutils literal notranslate"><span class="pre">cookie_name</span></code> value of the
<a class="reference internal" href="api/authentication.html#pyramid.authentication.AuthTktAuthenticationPolicy" title="pyramid.authentication.AuthTktAuthenticationPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.authentication.AuthTktAuthenticationPolicy</span></code></a> now defaults to
<code class="docutils literal notranslate"><span class="pre">auth_tkt</span></code> (it used to default to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.auth_tkt</span></code>).</p>
</li>
<li><p class="first">The <code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.testing.zcml_configure()</span></code> API has been removed.  It had
been advertised as removed since <code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> 1.2a1, but hadn't
actually been.</p>
</li>
<li><p class="first">All environment variables which used to be prefixed with <code class="docutils literal notranslate"><span class="pre">BFG_</span></code> are now
prefixed with <code class="docutils literal notranslate"><span class="pre">PYRAMID_</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_NOTFOUND</span></code> is now
<code class="docutils literal notranslate"><span class="pre">PYRAMID_DEBUG_NOTFOUND</span></code>)</p>
</li>
<li><p class="first">Since the <a class="reference internal" href="api/interfaces.html#pyramid.interfaces.IAuthenticationPolicy" title="pyramid.interfaces.IAuthenticationPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.interfaces.IAuthenticationPolicy</span></code></a> interface now
specifies that a policy implementation must implement an
<code class="docutils literal notranslate"><span class="pre">unauthenticated_userid</span></code> method, all third-party custom authentication
policies now must implement this method.  It, however, will only be called
when the global function named
<a class="reference internal" href="api/security.html#pyramid.security.unauthenticated_userid" title="pyramid.security.unauthenticated_userid"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.security.unauthenticated_userid()</span></code></a> is invoked, so if you're
not invoking that, you will not notice any issues.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">configure_zcml</span></code> setting within the deployment settings (within
<code class="docutils literal notranslate"><span class="pre">**settings</span></code> passed to a Pyramid <code class="docutils literal notranslate"><span class="pre">main</span></code> function) has ceased to have any
meaning.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">make_app</span></code> function has been removed from the <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.router</span></code>
module.  It continues life within the <code class="docutils literal notranslate"><span class="pre">pyramid_zcml</span></code> package.  This
leaves the <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.router</span></code> module without any API functions.</p>
</li>
</ul>
</div>
<div class="section" id="deprecations-and-behavior-differences">
<h2>Deprecations and Behavior Differences<a class="headerlink" href="#deprecations-and-behavior-differences" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.configuration.Configurator</span></code> is now deprecated.  Use
<a class="reference internal" href="api/config.html#pyramid.config.Configurator" title="pyramid.config.Configurator"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.config.Configurator</span></code></a>, passing its constructor
<code class="docutils literal notranslate"><span class="pre">autocommit=True</span></code> instead.  The
<code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.configuration.Configurator</span></code> alias will live for a long
time, as every application uses it, but its import now issues a deprecation
warning.  The <a class="reference internal" href="api/config.html#pyramid.config.Configurator" title="pyramid.config.Configurator"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.config.Configurator</span></code></a> class has the same API
as the <code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.configuration.Configurator</span></code> class, which it means to
replace, except by default it is a <em>non-autocommitting</em> configurator. The
now-deprecated <code class="docutils literal notranslate"><span class="pre">pyramid.configuration.Configurator</span></code> will autocommit every
time a configuration method is called.  The <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.configuration</span></code>
module remains, but it is deprecated.  Use <a class="reference internal" href="api/config.html#module-pyramid.config" title="pyramid.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.config</span></code></a> instead.</li>
<li>The <code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.settings.get_settings()</span></code> API is now deprecated.  Use
<code class="docutils literal notranslate"><span class="pre">pyramid.threadlocals.get_current_registry().settings</span></code> instead or use the
<code class="docutils literal notranslate"><span class="pre">settings</span></code> attribute of the registry available from the request
(<code class="docutils literal notranslate"><span class="pre">request.registry.settings</span></code>).</li>
<li>The decorator previously known as <code class="docutils literal notranslate"><span class="pre">pyramid.view.bfg_view</span></code> is now known
most formally as <a class="reference internal" href="api/view.html#pyramid.view.view_config" title="pyramid.view.view_config"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.view.view_config</span></code></a> in docs and scaffolds.</li>
<li>Obtaining the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object via
<code class="docutils literal notranslate"><span class="pre">registry.{get|query}Utility(ISettings)</span></code> is now deprecated.  Instead,
obtain the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object via the <code class="docutils literal notranslate"><span class="pre">registry.settings</span></code> attribute.  A
backwards compatibility shim was added to the registry object to register
the settings object as an ISettings utility when <code class="docutils literal notranslate"><span class="pre">setattr(registry,</span>
<span class="pre">'settings',</span> <span class="pre">foo)</span></code> is called, but it will be removed in a later release.</li>
<li>Obtaining the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object via <code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.settings.get_settings()</span></code>
is now deprecated.  Obtain it instead as the <code class="docutils literal notranslate"><span class="pre">settings</span></code> attribute of the
registry now (obtain the registry via
<code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.threadlocal.get_registry()</span></code> or as <code class="docutils literal notranslate"><span class="pre">request.registry</span></code>).</li>
</ul>
</div>
<div class="section" id="dependency-changes">
<h2>Dependency Changes<a class="headerlink" href="#dependency-changes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Depend on Venusian &gt;= 0.5 (for scanning conflict exception decoration).</li>
</ul>
</div>
<div class="section" id="documentation-enhancements">
<h2>Documentation Enhancements<a class="headerlink" href="#documentation-enhancements" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Added a <a class="reference internal" href="api/httpexceptions.html#module-pyramid.httpexceptions" title="pyramid.httpexceptions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.httpexceptions</span></code></a> API documentation chapter.</li>
<li>Added a <a class="reference internal" href="api/session.html#module-pyramid.session" title="pyramid.session"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.session</span></code></a> API documentation chapter.</li>
<li>Added an API chapter for the <a class="reference internal" href="api/response.html#module-pyramid.response" title="pyramid.response"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid.response</span></code></a> module.</li>
<li>Added a <a class="reference internal" href="narr/sessions.html#sessions-chapter"><span class="std std-ref">Sessions</span></a> narrative documentation chapter.</li>
<li>All documentation which previously referred to <code class="docutils literal notranslate"><span class="pre">webob.Response</span></code> now uses
<a class="reference internal" href="api/response.html#pyramid.response.Response" title="pyramid.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid.response.Response</span></code></a> instead.</li>
<li>The documentation has been overhauled to use imperative configuration,
moving declarative configuration (ZCML) explanations to an external
package, <a class="reference internal" href="glossary.html#term-pyramid-zcml"><span class="xref std std-term">pyramid_zcml</span></a>.</li>
<li>Removed <code class="docutils literal notranslate"><span class="pre">zodbsessions</span></code> tutorial chapter.  It's still useful, but we now
have a SessionFactory abstraction which competes with it, and maintaining
documentation on both ways to do it is a distraction.</li>
<li>Added an example of <code class="docutils literal notranslate"><span class="pre">WebTest</span></code> functional testing to the testing narrative
chapter at <a class="reference internal" href="narr/testing.html#functional-tests"><span class="std std-ref">Creating Functional Tests</span></a>.</li>
<li>Extended the Resources chapter with examples of calls to resource-related
APIs.</li>
<li>Add &quot;Pyramid Provides More Than One Way to Do It&quot; to Design Defense
documentation.</li>
<li>The (weak) &quot;Converting a CMF Application to Pyramid&quot; tutorial has been
removed from the tutorials section.  It was moved to the
<code class="docutils literal notranslate"><span class="pre">pyramid_tutorials</span></code> Github repository at
<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_tutorials/dev/">http://docs.pylonsproject.org/projects/pyramid_tutorials/dev/</a>.</li>
<li>Moved &quot;Using ZODB With ZEO&quot; and &quot;Using repoze.catalog Within Pyramid&quot;
tutorials out of core documentation and into the Pyramid Tutorials site
(<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_tutorials/dev/">http://docs.pylonsproject.org/projects/pyramid_tutorials/dev/</a>).</li>
<li>Removed API documentation for deprecated <code class="docutils literal notranslate"><span class="pre">pyramid.testing</span></code> APIs named
<code class="docutils literal notranslate"><span class="pre">registerDummySecurityPolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">registerResources</span></code>, <code class="docutils literal notranslate"><span class="pre">registerModels</span></code>,
<code class="docutils literal notranslate"><span class="pre">registerEventListener</span></code>, <code class="docutils literal notranslate"><span class="pre">registerTemplateRenderer</span></code>,
<code class="docutils literal notranslate"><span class="pre">registerDummyRenderer</span></code>, <code class="docutils literal notranslate"><span class="pre">registerView</span></code>, <code class="docutils literal notranslate"><span class="pre">registerUtility</span></code>,
<code class="docutils literal notranslate"><span class="pre">registerAdapter</span></code>, <code class="docutils literal notranslate"><span class="pre">registerSubscriber</span></code>, <code class="docutils literal notranslate"><span class="pre">registerRoute</span></code>, and
<code class="docutils literal notranslate"><span class="pre">registerSettings</span></code>.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">What's New in Pyramid 1.0</a><ul>
<li><a class="reference internal" href="#major-feature-additions">Major Feature Additions</a><ul>
<li><a class="reference internal" href="#new-name-and-branding">New Name and Branding</a></li>
<li><a class="reference internal" href="#bfg-conversion-script">BFG Conversion Script</a></li>
<li><a class="reference internal" href="#scaffold-improvements">Scaffold Improvements</a></li>
<li><a class="reference internal" href="#terminology-changes">Terminology Changes</a></li>
<li><a class="reference internal" href="#better-platform-compatibility-and-support">Better Platform Compatibility and Support</a></li>
<li><a class="reference internal" href="#sessions">Sessions</a></li>
<li><a class="reference internal" href="#mako">Mako</a></li>
<li><a class="reference internal" href="#url-dispatch">URL Dispatch</a></li>
<li><a class="reference internal" href="#zcml-externalized">ZCML Externalized</a></li>
<li><a class="reference internal" href="#imperative-two-phase-configuration">Imperative Two-Phase Configuration</a></li>
<li><a class="reference internal" href="#better-support-for-global-template-variables-during-rendering">Better Support for Global Template Variables During Rendering</a></li>
<li><a class="reference internal" href="#view-mappers">View Mappers</a></li>
<li><a class="reference internal" href="#testing-support-improvements">Testing Support Improvements</a></li>
<li><a class="reference internal" href="#authentication-support-improvements">Authentication Support Improvements</a></li>
<li><a class="reference internal" href="#documentation-improvements">Documentation Improvements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#minor-feature-additions">Minor Feature Additions</a></li>
<li><a class="reference internal" href="#backwards-incompatibilities">Backwards Incompatibilities</a></li>
<li><a class="reference internal" href="#deprecations-and-behavior-differences">Deprecations and Behavior Differences</a></li>
<li><a class="reference internal" href="#dependency-changes">Dependency Changes</a></li>
<li><a class="reference internal" href="#documentation-enhancements">Documentation Enhancements</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="whatsnew-1.1.html"
                        title="前の章へ">What's New in Pyramid 1.1</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="changes.html"
                        title="次の章へ"><span>Pyramid</span> Change History</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/whatsnew-1.0.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="changes.html" title="Pyramid Change History"
             >次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.1.html" title="What&#39;s New in Pyramid 1.1"
             >前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 8月 20, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4 で生成しました。
    </div>
  </body>
</html>