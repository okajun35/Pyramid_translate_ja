
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Environment Variables and .ini File Settings &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="../_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="next" title="Logging" href="logging.html" />
    <link rel="prev" title="Using Events" href="events.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="../_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="../index.html">
      		<img class="logo" src="../_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="logging.html" title="Logging"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="events.html" title="Using Events"
             accesskey="P">前へ</a> |</li>
    	<li><a href="../index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="environment-variables-and-ini-file-settings">
<span id="environment-chapter"></span><span id="index-0"></span><h1>Environment Variables and <code class="docutils literal notranslate"><span class="pre">.ini</span></code> File Settings<a class="headerlink" href="#environment-variables-and-ini-file-settings" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><span>Pyramid</span> behavior can be configured through a combination of operating
system environment variables and <code class="docutils literal notranslate"><span class="pre">.ini</span></code> configuration file application
section settings.  The meaning of the environment variables and the
configuration file settings overlap.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Where a configuration file setting exists with the same meaning as an
environment variable, and both are present at application startup time, the
environment variable setting takes precedence.</p>
</div>
<p>The term &quot;configuration file setting name&quot; refers to a key in the <code class="docutils literal notranslate"><span class="pre">.ini</span></code>
configuration for your application.  The configuration file setting names
documented in this chapter are reserved for <span>Pyramid</span> use.  You should not
use them to indicate application-specific configuration settings.</p>
<div class="section" id="reloading-templates">
<h2>Reloading Templates<a class="headerlink" href="#reloading-templates" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>When this value is true, templates are automatically reloaded whenever they are
modified without restarting the application, so you can see changes to
templates take effect immediately during development.  This flag is meaningful
to Chameleon and Mako templates, as well as most third-party template rendering
extensions.</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_RELOAD_TEMPLATES</span></code></td>
<td><dl class="first last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">pyramid.reload_templates</span></code></dt>
<dd>or <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reloading-assets">
<h2>Reloading Assets<a class="headerlink" href="#reloading-assets" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Don't cache any asset file data when this value is true.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="assets.html#overriding-assets-section"><span class="std std-ref">Overriding Assets</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_RELOAD_ASSETS</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code>
or <code class="docutils literal notranslate"><span class="pre">reload_assets</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">For backwards compatibility purposes, aliases can be used for
configuring asset reloading: <code class="docutils literal notranslate"><span class="pre">PYRAMID_RELOAD_RESOURCES</span></code> (envvar) and
<code class="docutils literal notranslate"><span class="pre">pyramid.reload_resources</span></code> (config file).</p>
</div>
</div>
<div class="section" id="debugging-authorization">
<h2>Debugging Authorization<a class="headerlink" href="#debugging-authorization" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Print view authorization failure and success information to stderr when this
value is true.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="security.html#debug-authorization-section"><span class="std std-ref">Debugging View Authorization Failures</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_DEBUG_AUTHORIZATION</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.debug_authorization</span></code>
or <code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="debugging-not-found-errors">
<h2>Debugging Not Found Errors<a class="headerlink" href="#debugging-not-found-errors" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Print view-related <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> debug messages to stderr when this value is
true.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="viewconfig.html#debug-notfound-section"><span class="std std-ref">NotFound Errors</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_DEBUG_NOTFOUND</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.debug_notfound</span></code>
or <code class="docutils literal notranslate"><span class="pre">debug_notfound</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="debugging-route-matching">
<h2>Debugging Route Matching<a class="headerlink" href="#debugging-route-matching" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Print debugging messages related to <a class="reference internal" href="../glossary.html#term-url-dispatch"><span class="xref std std-term">url dispatch</span></a> route matching when
this value is true.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="urldispatch.html#debug-routematch-section"><span class="std std-ref">Debugging Route Matching</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_DEBUG_ROUTEMATCH</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.debug_routematch</span></code>
or <code class="docutils literal notranslate"><span class="pre">debug_routematch</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="preventing-http-caching">
<span id="id1"></span><h2>Preventing HTTP Caching<a class="headerlink" href="#preventing-http-caching" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Prevent the <code class="docutils literal notranslate"><span class="pre">http_cache</span></code> view configuration argument from having any effect
globally in this process when this value is true.  No HTTP caching-related
response headers will be set by the <span>Pyramid</span> <code class="docutils literal notranslate"><span class="pre">http_cache</span></code> view
configuration feature when this is true.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="viewconfig.html#influencing-http-caching"><span class="std std-ref">Influencing HTTP Caching</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_PREVENT_HTTP_CACHE</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.prevent_http_cache</span></code>
or <code class="docutils literal notranslate"><span class="pre">prevent_http_cache</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="preventing-cache-busting">
<h2>Preventing Cache Busting<a class="headerlink" href="#preventing-cache-busting" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Prevent the <code class="docutils literal notranslate"><span class="pre">cachebust</span></code> static view configuration argument from having any
effect globally in this process when this value is true.  No cache buster will
be configured or used when this is true.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.6 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="assets.html#cache-busting"><span class="std std-ref">Cache Busting</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_PREVENT_CACHEBUST</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.prevent_cachebust</span></code>
or <code class="docutils literal notranslate"><span class="pre">prevent_cachebust</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="debugging-all">
<h2>Debugging All<a class="headerlink" href="#debugging-all" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Turns on all <code class="docutils literal notranslate"><span class="pre">debug*</span></code> settings.</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_DEBUG_ALL</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.debug_all</span></code>
or <code class="docutils literal notranslate"><span class="pre">debug_all</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reloading-all">
<h2>Reloading All<a class="headerlink" href="#reloading-all" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Turns on all <code class="docutils literal notranslate"><span class="pre">reload*</span></code> settings.</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_RELOAD_ALL</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.reload_all</span></code> or
<code class="docutils literal notranslate"><span class="pre">reload_all</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="default-locale-name">
<span id="default-locale-name-setting"></span><h2>Default Locale Name<a class="headerlink" href="#default-locale-name" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The value supplied here is used as the default locale name when a <a class="reference internal" href="../glossary.html#term-locale-negotiator"><span class="xref std std-term">locale
negotiator</span></a> is not registered.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">See also <a class="reference internal" href="i18n.html#localization-deployment-settings"><span class="std std-ref">Localization-Related Deployment Settings</span></a>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PYRAMID_DEFAULT_LOCALE_NAME</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">pyramid.default_locale_name</span></code>
or <code class="docutils literal notranslate"><span class="pre">default_locale_name</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="including-packages">
<span id="id2"></span><h2>Including Packages<a class="headerlink" href="#including-packages" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> instructs your application to include other packages.
Using the setting is equivalent to using the
<a class="reference internal" href="../api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.include()</span></code></a> method.</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code></td>
</tr>
</tbody>
</table>
<p>The value assigned to <code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> should be a sequence.  The sequence
can take several different forms.</p>
<ol class="arabic">
<li><p class="first">It can be a string.</p>
<p>If it is a string, the package names can be separated by spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package1</span> <span class="n">package2</span> <span class="n">package3</span>
</pre></div>
</div>
<p>The package names can also be separated by carriage returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package1</span>
<span class="n">package2</span>
<span class="n">package3</span>
</pre></div>
</div>
</li>
<li><p class="first">It can be a Python list, where the values are strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;package1&#39;</span><span class="p">,</span> <span class="s1">&#39;package2&#39;</span><span class="p">,</span> <span class="s1">&#39;package3&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
<p>Each value in the sequence should be a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><span class="xref std std-term">dotted Python name</span></a>.</p>
<div class="section" id="pyramid-includes-vs-pyramid-config-configurator-include">
<h3><code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> vs. <a class="reference internal" href="../api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.include()</span></code></a><a class="headerlink" href="#pyramid-includes-vs-pyramid-config-configurator-include" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Two methods exist for including packages: <code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> and
<a class="reference internal" href="../api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.include()</span></code></a>.  This section explains their
equivalence.</p>
<div class="section" id="using-pastedeploy">
<h4>Using PasteDeploy<a class="headerlink" href="#using-pastedeploy" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>Using the following <code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> setting in the PasteDeploy <code class="docutils literal notranslate"><span class="pre">.ini</span></code>
file in your application:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[app:main]</span>
<span class="na">pyramid.includes</span> <span class="o">=</span> <span class="s">pyramid_debugtoolbar</span>
<span class="s">                   pyramid_tm</span>
</pre></div>
</div>
<p>Is equivalent to using the following statements in your configuration code:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_debugtoolbar&#39;</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_tm&#39;</span><span class="p">)</span>
    <span class="c1"># ...</span>
</pre></div>
</td></tr></table></div>
<p>It is fine to use both or either form.</p>
</div>
<div class="section" id="plain-python">
<h4>Plain Python<a class="headerlink" href="#plain-python" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>Using the following <code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> setting in your plain-Python Pyramid
application:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pyramid.includes&#39;</span><span class="p">:</span><span class="s1">&#39;pyramid_debugtoolbar pyramid_tm&#39;</span><span class="p">}</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Is equivalent to using the following statements in your configuration code:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_debugtoolbar&#39;</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_tm&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>It is fine to use both or either form.</p>
</div>
</div>
</div>
<div class="section" id="explicit-tween-configuration">
<span id="explicit-tween-config"></span><h2>Explicit Tween Configuration<a class="headerlink" href="#explicit-tween-configuration" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>This value allows you to perform explicit <a class="reference internal" href="../glossary.html#term-tween"><span class="xref std std-term">tween</span></a> ordering in your
configuration.  Tweens are bits of code used by add-on authors to extend
Pyramid.  They form a chain, and require ordering.</p>
<p>Ideally you won't need to use the <code class="docutils literal notranslate"><span class="pre">pyramid.tweens</span></code> setting at all.  Tweens
are generally ordered and included &quot;implicitly&quot; when an add-on package which
registers a tween is &quot;included&quot;.  Packages are included when you name a
<code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> setting in your configuration or when you call
<a class="reference internal" href="../api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid.config.Configurator.include()</span></code></a>.</p>
<p>Authors of included add-ons provide &quot;implicit&quot; tween configuration ordering
hints to Pyramid when their packages are included.  However, the implicit tween
ordering is only best-effort.  Pyramid will attempt to provide an implicit
order of tweens as best it can using hints provided by add-on authors, but
because it's only best-effort, if very precise tween ordering is required, the
only surefire way to get it is to use an explicit tween order. You may be
required to inspect your tween ordering (see <a class="reference internal" href="commandline.html#displaying-tweens"><span class="std std-ref">Displaying &quot;Tweens&quot;</span></a>) and add
a <code class="docutils literal notranslate"><span class="pre">pyramid.tweens</span></code> configuration value at the behest of an add-on author.</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Config File Setting Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">pyramid.tweens</span></code></td>
</tr>
</tbody>
</table>
<p>The value assigned to <code class="docutils literal notranslate"><span class="pre">pyramid.tweens</span></code> should be a sequence.  The sequence
can take several different forms.</p>
<ol class="arabic">
<li><p class="first">It can be a string.</p>
<p>If it is a string, the tween names can be separated by spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">.</span><span class="n">tween_factory1</span> <span class="n">pkg</span><span class="o">.</span><span class="n">tween_factory2</span> <span class="n">pkg</span><span class="o">.</span><span class="n">tween_factory3</span>
</pre></div>
</div>
<p>The tween names can also be separated by carriage returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span><span class="o">.</span><span class="n">tween_factory1</span>
<span class="n">pkg</span><span class="o">.</span><span class="n">tween_factory2</span>
<span class="n">pkg</span><span class="o">.</span><span class="n">tween_factory3</span>
</pre></div>
</div>
</li>
<li><p class="first">It can be a Python list, where the values are strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;pkg.tween_factory1&#39;</span><span class="p">,</span> <span class="s1">&#39;pkg.tween_factory2&#39;</span><span class="p">,</span> <span class="s1">&#39;pkg.tween_factory3&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
<p>Each value in the sequence should be a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><span class="xref std std-term">dotted Python name</span></a>.</p>
<div class="section" id="pastedeploy-configuration-vs-plain-python-configuration">
<h3>PasteDeploy Configuration vs. Plain-Python Configuration<a class="headerlink" href="#pastedeploy-configuration-vs-plain-python-configuration" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Using the following <code class="docutils literal notranslate"><span class="pre">pyramid.tweens</span></code> setting in the PasteDeploy <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file
in your application:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[app:main]</span>
<span class="na">pyramid.tweens</span> <span class="o">=</span> <span class="s">pyramid_debugtoolbar.toolbar.tween_factory</span>
<span class="s">                 pyramid.tweens.excview_tween_factory</span>
<span class="s">                 pyramid_tm.tm_tween_factory</span>
</pre></div>
</div>
<p>Is equivalent to using the following statements in your configuration code:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pyramid.tweens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;pyramid_debugtoolbar.toolbar.tween_factory&#39;</span><span class="p">,</span>
            <span class="s1">&#39;pyramid.tweebs.excview_tween_factory&#39;</span><span class="p">,</span>
            <span class="s1">&#39;pyramid_tm.tm_tween_factory&#39;</span><span class="p">,</span>
             <span class="p">]</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>It is fine to use both or either form.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Let's presume your configuration file is named <code class="docutils literal notranslate"><span class="pre">MyProject.ini</span></code>, and there is
a section representing your application named <code class="docutils literal notranslate"><span class="pre">[app:main]</span></code> within the file
that represents your <span>Pyramid</span> application. The configuration file
settings documented in the above &quot;Config File Setting Name&quot; column would go in
the <code class="docutils literal notranslate"><span class="pre">[app:main]</span></code> section.  Here's an example of such a section:</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[app:main]</span>
<span class="na">use</span> <span class="o">=</span> <span class="s">egg:MyProject</span>
<span class="na">pyramid.reload_templates</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">pyramid.debug_authorization</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</td></tr></table></div>
<p>You can also use environment variables to accomplish the same purpose for
settings documented as such.  For example, you might start your <span>Pyramid</span>
application using the following command line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ PYRAMID_DEBUG_AUTHORIZATION=1 PYRAMID_RELOAD_TEMPLATES=1 \
       $VENV/bin/pserve MyProject.ini
</pre></div>
</div>
<p>If you started your application this way, your <span>Pyramid</span> application would
behave in the same manner as if you had placed the respective settings in the
<code class="docutils literal notranslate"><span class="pre">[app:main]</span></code> section of your application's <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file.</p>
<p>If you want to turn all <code class="docutils literal notranslate"><span class="pre">debug</span></code> settings (every setting that starts with
<code class="docutils literal notranslate"><span class="pre">pyramid.debug_</span></code>) on in one fell swoop, you can use <code class="docutils literal notranslate"><span class="pre">PYRAMID_DEBUG_ALL=1</span></code>
as an environment variable setting or you may use <code class="docutils literal notranslate"><span class="pre">pyramid.debug_all=true</span></code> in
the config file.  Note that this does not affect settings that do not start
with <code class="docutils literal notranslate"><span class="pre">pyramid.debug_*</span></code> such as <code class="docutils literal notranslate"><span class="pre">pyramid.reload_templates</span></code>.</p>
<p>If you want to turn all <code class="docutils literal notranslate"><span class="pre">pyramid.reload</span></code> settings (every setting that starts
with <code class="docutils literal notranslate"><span class="pre">pyramid.reload_</span></code>) on in one fell swoop, you can use
<code class="docutils literal notranslate"><span class="pre">PYRAMID_RELOAD_ALL=1</span></code> as an environment variable setting or you may use
<code class="docutils literal notranslate"><span class="pre">pyramid.reload_all=true</span></code> in the config file.  Note that this does not affect
settings that do not start with <code class="docutils literal notranslate"><span class="pre">pyramid.reload_*</span></code> such as
<code class="docutils literal notranslate"><span class="pre">pyramid.debug_notfound</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Specifying configuration settings via environment variables is generally
most useful during development, where you may wish to augment or override
the more permanent settings in the configuration file. This is useful
because many of the reload and debug settings may have performance or
security (i.e., disclosure) implications that make them undesirable in a
production environment.</p>
</div>
</div>
<div class="section" id="understanding-the-distinction-between-reload-templates-and-reload-assets">
<span id="index-1"></span><h2>Understanding the Distinction Between <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code> and <code class="docutils literal notranslate"><span class="pre">reload_assets</span></code><a class="headerlink" href="#understanding-the-distinction-between-reload-templates-and-reload-assets" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The difference between <code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code> and
<code class="docutils literal notranslate"><span class="pre">pyramid.reload_templates</span></code> is a bit subtle. Templates are themselves also
treated by <span>Pyramid</span> as asset files (along with other static files), so
the distinction can be confusing.  It's helpful to read
<a class="reference internal" href="assets.html#overriding-assets-section"><span class="std std-ref">Overriding Assets</span></a> for some context about assets in general.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">pyramid.reload_templates</span></code> is true, <span>Pyramid</span> takes advantage of
the underlying templating system's ability to check for file modifications to
an individual template file.  When <code class="docutils literal notranslate"><span class="pre">pyramid.reload_templates</span></code> is true, but
<code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code> is <em>not</em> true, the template filename returned by the
<code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> package (used under the hood by asset resolution) is cached
by <span>Pyramid</span> on the first request.  Subsequent requests for the same
template file will return a cached template filename.  The underlying
templating system checks for modifications to this particular file for every
request.  Setting <code class="docutils literal notranslate"><span class="pre">pyramid.reload_templates</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> doesn't affect
performance dramatically (although it should still not be used in production
because it has some effect).</p>
<p>However, when <code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code> is true, <span>Pyramid</span> will not cache
the template filename, meaning you can see the effect of changing the content
of an overridden asset directory for templates without restarting the server
after every change.  Subsequent requests for the same template file may return
different filenames based on the current state of overridden asset directories.
Setting <code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> affects performance
<em>dramatically</em>, slowing things down by an order of magnitude for each template
rendering.  However, it's convenient to enable when moving files around in
overridden asset directories. <code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code> makes the system <em>very
slow</em> when templates are in use.  Never set <code class="docutils literal notranslate"><span class="pre">pyramid.reload_assets</span></code> to
<code class="docutils literal notranslate"><span class="pre">True</span></code> on a production system.</p>
</div>
<div class="section" id="adding-a-custom-setting">
<span id="index-2"></span><span id="id3"></span><h2>Adding a Custom Setting<a class="headerlink" href="#adding-a-custom-setting" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>From time to time, you may need to add a custom setting to your application.
Here's how:</p>
<ul>
<li><p class="first">If you're using an <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file, change the <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file, adding the
setting to the <code class="docutils literal notranslate"><span class="pre">[app:foo]</span></code> section representing your Pyramid application.
For example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[app:main]</span>
<span class="c1"># .. other settings</span>
<span class="na">debug_frobnosticator</span> <span class="o">=</span> <span class="s">True</span>
</pre></div>
</div>
</li>
<li><p class="first">In the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function that represents the place that your Pyramid WSGI
application is created, anticipate that you'll be getting this key/value pair
as a setting and do any type conversion necessary.</p>
<p>If you've done any type conversion of your custom value, reset the converted
values into the <code class="docutils literal notranslate"><span class="pre">settings</span></code> dictionary <em>before</em> you pass the dictionary as
<code class="docutils literal notranslate"><span class="pre">settings</span></code> to the <a class="reference internal" href="../glossary.html#term-configurator"><span class="xref std std-term">Configurator</span></a>.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="kn">from</span> <span class="nn">pyramid.settings</span> <span class="kn">import</span> <span class="n">asbool</span>
    <span class="n">debug_frobnosticator</span> <span class="o">=</span> <span class="n">asbool</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
               <span class="s1">&#39;debug_frobnosticator&#39;</span><span class="p">,</span> <span class="s1">&#39;false&#39;</span><span class="p">))</span>
    <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;debug_frobnosticator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">debug_frobnosticator</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">It's especially important that you mutate the <code class="docutils literal notranslate"><span class="pre">settings</span></code> dictionary with
the converted version of the variable <em>before</em> passing it to the
Configurator: the configurator makes a <em>copy</em> of <code class="docutils literal notranslate"><span class="pre">settings</span></code>, it doesn't
use the one you pass directly.</p>
</div>
</li>
<li><p class="first">When creating an <code class="docutils literal notranslate"><span class="pre">includeme</span></code> function that will be later added to your
application's configuration you may access the <code class="docutils literal notranslate"><span class="pre">settings</span></code> dictionary
through the instance of the <a class="reference internal" href="../glossary.html#term-configurator"><span class="xref std std-term">Configurator</span></a> that is passed into the
function as its only argument.  For Example:</p>
</li>
</ul>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">includeme</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">settings</span>
    <span class="n">debug_frobnosticator</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;debug_frobnosticator&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p class="first">In the runtime code from where you need to access the new settings value,
find the value in the <code class="docutils literal notranslate"><span class="pre">registry.settings</span></code> dictionary and use it.  In
<a class="reference internal" href="../glossary.html#term-view"><span class="xref std std-term">view</span></a> code (or any other code that has access to the request), the
easiest way to do this is via <code class="docutils literal notranslate"><span class="pre">request.registry.settings</span></code>.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">settings</span>
<span class="n">debug_frobnosticator</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;debug_frobnosticator&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you wish to use the value in code that does not have access to the request
and you wish to use the value, you'll need to use the
<a class="reference internal" href="../api/threadlocal.html#pyramid.threadlocal.get_current_registry" title="pyramid.threadlocal.get_current_registry"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyramid.threadlocal.get_current_registry()</span></code></a> API to obtain the current
registry, then ask for its <code class="docutils literal notranslate"><span class="pre">settings</span></code> attribute.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">registry</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">threadlocal</span><span class="o">.</span><span class="n">get_current_registry</span><span class="p">()</span>
<span class="n">settings</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">settings</span>
<span class="n">debug_frobnosticator</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;debug_frobnosticator&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">Environment Variables and <code class="docutils literal notranslate"><span class="pre">.ini</span></code> File Settings</a><ul>
<li><a class="reference internal" href="#reloading-templates">Reloading Templates</a></li>
<li><a class="reference internal" href="#reloading-assets">Reloading Assets</a></li>
<li><a class="reference internal" href="#debugging-authorization">Debugging Authorization</a></li>
<li><a class="reference internal" href="#debugging-not-found-errors">Debugging Not Found Errors</a></li>
<li><a class="reference internal" href="#debugging-route-matching">Debugging Route Matching</a></li>
<li><a class="reference internal" href="#preventing-http-caching">Preventing HTTP Caching</a></li>
<li><a class="reference internal" href="#preventing-cache-busting">Preventing Cache Busting</a></li>
<li><a class="reference internal" href="#debugging-all">Debugging All</a></li>
<li><a class="reference internal" href="#reloading-all">Reloading All</a></li>
<li><a class="reference internal" href="#default-locale-name">Default Locale Name</a></li>
<li><a class="reference internal" href="#including-packages">Including Packages</a><ul>
<li><a class="reference internal" href="#pyramid-includes-vs-pyramid-config-configurator-include"><code class="docutils literal notranslate"><span class="pre">pyramid.includes</span></code> vs. <code class="docutils literal notranslate"><span class="pre">pyramid.config.Configurator.include()</span></code></a><ul>
<li><a class="reference internal" href="#using-pastedeploy">Using PasteDeploy</a></li>
<li><a class="reference internal" href="#plain-python">Plain Python</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#explicit-tween-configuration">Explicit Tween Configuration</a><ul>
<li><a class="reference internal" href="#pastedeploy-configuration-vs-plain-python-configuration">PasteDeploy Configuration vs. Plain-Python Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#understanding-the-distinction-between-reload-templates-and-reload-assets">Understanding the Distinction Between <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code> and <code class="docutils literal notranslate"><span class="pre">reload_assets</span></code></a></li>
<li><a class="reference internal" href="#adding-a-custom-setting">Adding a Custom Setting</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="events.html"
                        title="前の章へ">Using Events</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="logging.html"
                        title="次の章へ">Logging</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/narr/environment.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="logging.html" title="Logging"
             >次へ</a> |</li>
        <li class="right" >
          <a href="events.html" title="Using Events"
             >前へ</a> |</li>
    	<li><a href="../index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 8月 04, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4 で生成しました。
    </div>
  </body>
</html>