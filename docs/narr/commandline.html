
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>(機械翻訳) コマンドラインピラミッド &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="../_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="next" title="(機械翻訳) 国際化とローカリゼーション" href="i18n.html" />
    <link rel="prev" title="(機械翻訳) PasteDeploy設定ファイル" href="paste.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="../_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="../index.html">
      		<img class="logo" src="../_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="i18n.html" title="(機械翻訳) 国際化とローカリゼーション"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="paste.html" title="(機械翻訳) PasteDeploy設定ファイル"
             accesskey="P">前へ</a> |</li>
    	<li><a href="../index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="command-line-pyramid">
<span id="command-line-chapter"></span><h1>(機械翻訳) コマンドラインピラミッド<a class="headerlink" href="#command-line-pyramid" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Your：app： <a href="#id1"><span class="problematic" id="id2">`</span></a>Pyramid`アプリケーションは、さまざまなコマンドラインユーティリティを使用して制御および検査できます。これらのユーティリティは、この章で説明されています。</p>
<div class="section" id="displaying-matching-views-for-a-given-url">
<span id="displaying-matching-views"></span><span id="index-0"></span><h2>指定されたURLの一致するビューの表示<a class="headerlink" href="#displaying-matching-views-for-a-given-url" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>pviews --helpの出力も参照してください。 &lt;pviews_script&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
<p>いくつかのビューを持つ大きなアプリケーションでは、すべてのビューを自分で定義したとしても、ビューの設定の詳細を頭に入れておくことは難しいでしょう。ターミナルウィンドウで `` pviews``コマンドを使うと、アプリケーション内の指定されたURLに対応するルートとビューの要約を表示できます。 `` pviews``コマンドは2つの引数を受け取ります。 `` pviews``の最初の引数はアプリケーションの `` .ini``ファイルへのパスで、 <cite>.ini`ファイル内のセクション名はアプリケーションを指しています。これは、 `</cite> config_file＃section_name``の形式でなければなりません。 2番目の引数は、一致するビューをテストするURLです。 `` section_name``は省略することができます。そうであれば、それは「主」とみなされます。</p>
<p>以下は、単純なビュー設定の例です：term： <cite>traversal</cite>：</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ $VENV/bin/pviews development.ini#tutorial /FrontPage

URL = /FrontPage

    context: &lt;tutorial.models.Page object at 0xa12536c&gt;
    view name:

    View:
    -----
    tutorial.views.view_page
    required permission = view
</pre></div>
</td></tr></table></div>
<p>出力には常に、要求されたURLがそのビュー構成の詳細と一致するすべてのビューの上部と下部に表示されます。この例では1つのビューのみが一致しているので、* View <a href="#id1"><span class="problematic" id="id2">*</span></a>セクションは1つだけです。一致するビューごとに、呼び出し可能な関連ビューへの完全なコードパスが、そのビュー設定の一部であるすべての権限と述部とともに表示されます。</p>
<p>より複雑な設定では、次のようなものが生成される可能性があります。</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ $VENV/bin/pviews development.ini#shootout /about

URL = /about

    context: &lt;shootout.models.RootFactory object at 0xa56668c&gt;
    view name: about

    Route:
    ------
    route name: about
    route pattern: /about
    route path: /about
    subpath:
    route predicates (request method = GET)

        View:
        -----
        shootout.views.about_view
        required permission = view
        view predicates (request_param testing, header X/header)

    Route:
    ------
    route name: about_post
    route pattern: /about
    route path: /about
    subpath:
    route predicates (request method = POST)

        View:
        -----
        shootout.views.about_view_post
        required permission = view
        view predicates (request_param test)

        View:
        -----
        shootout.views.about_view_post2
        required permission = view
        view predicates (request_param test2)
</pre></div>
</td></tr></table></div>
<p>この例では、：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>URL dispatch`アプリケーションを扱っています。この特定のURLには、2つの一致するルートがあります。一致するルート情報が最初に表示され、その後にそのルートに関連付けられたビューが表示されます。第2の一致するルート出力からわかるように、ルートは複数のビューに関連付けることができます。</p>
<p>ビューと一致しないURLの場合、 `` pviews``は単に* Not found <a href="#id1"><span class="problematic" id="id2">*</span></a>メッセージを出力します。</p>
</div>
<div class="section" id="the-interactive-shell">
<span id="interactive-shell"></span><span id="index-1"></span><h2>インタラクティブシェル<a class="headerlink" href="#the-interactive-shell" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>pshell --helpの出力も参照してください。 &lt;pshell_script&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
<p>`` pip install -e .``を使って開発用にプログラムをインストールしたら、インタラクティブなPythonシェルを使ってPython環境で式を実行することができます&amp;quot;これを行うには、 `` pshell``コマンドラインユーティリティを使用します。</p>
<p>`` pshell`の引数は `` config_file＃section_name``の形式に従います。 `` config_file``はアプリケーションの `` .ini``ファイルへのパスで、 `` section_name``は `` app``です。あなたのアプリケーションを指し示す `` .ini``ファイル内のセクション名。例えば、あなたのアプリケーションの `` .ini``ファイルには、次のような `` [app：main] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションがあります：</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[app:main]</span>
<span class="na">use</span> <span class="o">=</span> <span class="s">egg:MyProject</span>
<span class="na">pyramid.reload_templates</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">pyramid.debug_authorization</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">pyramid.debug_notfound</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">pyramid.debug_templates</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">pyramid.default_locale_name</span> <span class="o">=</span> <span class="s">en</span>
</pre></div>
</td></tr></table></div>
<p>そのような場合は、次のコマンドを使用してセクション名として `` main``という名前を使用してデバッグシェルを呼び出すことができます：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/pshell starter/development.ini#main
Python 2.6.5 (r265:79063, Apr 29 2010, 00:31:32)
[GCC 4.4.3] on linux2
Type &quot;help&quot; for more information.

Environment:
  app          The WSGI application.
  registry     Active Pyramid registry.
  request      Active request object.
  root         Root of the default resource tree.
  root_factory Default root factory used to create `root`.

&gt;&gt;&gt; root
&lt;myproject.resources.MyResource object at 0x445270&gt;
&gt;&gt;&gt; registry
&lt;Registry myproject&gt;
&gt;&gt;&gt; registry.settings[&#39;pyramid.debug_notfound&#39;]
False
&gt;&gt;&gt; from myproject.views import my_view
&gt;&gt;&gt; from pyramid.request import Request
&gt;&gt;&gt; r = Request.blank(&#39;/&#39;)
&gt;&gt;&gt; my_view(r)
{&#39;project&#39;: &#39;myproject&#39;}
</pre></div>
</div>
<p>読み込まれたWSGIアプリケーションは、 `` app``グローバルとしてシェル内で利用可能になります。また、読み込まれたアプリケーションが：surrounding：term： <cite>middleware`を持たない：app：</cite> Pyramid`アプリケーションであれば、デフォルト：term： <cite>ルートファクトリ</cite>、 `` registry``によって返される <a href="#id1"><span class="problematic" id="id2">``</span></a>ルート <a href="#id3"><span class="problematic" id="id4">``</span></a>オブジェクト`と` <a href="#id5"><span class="problematic" id="id6">`</span></a>要求 &amp;#39;&amp;#39;が利用可能になります。</p>
<p>ファイル名の後にハッシュを省略することで、 `` main``のデフォルトのセクション名に頼ることもできます：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/pshell starter/development.ini
</pre></div>
</div>
<p>対話シェルを終了するには `` Ctrl-D``を押します（Windowsでは `` Ctrl-Z``）。</p>
<div class="section" id="extending-the-shell">
<span id="extending-pshell"></span><span id="index-2"></span><h3>シェルの拡張<a class="headerlink" href="#extending-the-shell" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` pshell``を起動したときに、対話型シェルを使って、アプリケーションにとって重要な変数を既にグローバルとしてロードしている場合に便利です。これを容易にするために、 `` pshell``はINIファイル内の特別な `` [pshell] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションを探し、後続のキーと値のペアをシェルに公開します。各キーは、pshellセッション内でグローバルになる変数名です。各値は：term： <cite>点線のPython名`です。指定した場合、特殊キー `</cite> setup``は：term： <cite>ドット付きPython名`でなければなりません。シェルにロードされるグローバルの辞書を受け付ける呼び出し可能ファイルを指します。これにより、 `</cite> pshell``が実行されるたびにカスタム初期化コードが実行されるようになります。 INIファイルのキーを上書きする `` --setup``オプションを使用して、コマンドラインから `` setup``呼び出し可能ファイルを指定することもできます。</p>
<p>たとえば、実際のデータベースでモデルを変更できるように、モデルをシェルに公開してデータベースセッションとしたいとします。ここでは、モデルが `` myapp.models``パッケージに格納されていると仮定します。</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[pshell]</span>
<span class="na">setup</span> <span class="o">=</span> <span class="s">myapp.lib.pshell.setup</span>
<span class="na">m</span> <span class="o">=</span> <span class="s">myapp.models</span>
<span class="na">session</span> <span class="o">=</span> <span class="s">myapp.models.DBSession</span>
<span class="na">t</span> <span class="o">=</span> <span class="s">transaction</span>
</pre></div>
</td></tr></table></div>
<p>`` setup``を呼び出し可能にすることで、シェルに公開される前に地球環境を受け取る `` setup``という名前の呼び出し可能モジュールを含む `` myapp.lib.pshell``モジュールを作成します。ここでは、環境の要求を変更し、要求を簡単に提出できるWebTestバージョンのアプリケーションを含む新しい値を追加します。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># myapp/lib/pshell.py</span>
<span class="kn">from</span> <span class="nn">webtest</span> <span class="kn">import</span> <span class="n">TestApp</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="n">env</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;www.example.com&#39;</span>
    <span class="n">env</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">scheme</span> <span class="o">=</span> <span class="s1">&#39;https&#39;</span>
    <span class="n">env</span><span class="p">[</span><span class="s1">&#39;testapp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">TestApp</span><span class="p">(</span><span class="n">env</span><span class="p">[</span><span class="s1">&#39;app&#39;</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>このINIファイルがロードされると、余分な変数 `` m``、 `` session``、 `` t``がすぐに利用できるようになります。 `` setup``呼び出し可能関数も指定されているので、それが実行され、新しい変数 `` testapp``が公開され、リクエストはホスト `` http：// www.example.com``からURLを生成するように設定されます`。例えば：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/pshell starter/development.ini
Python 2.6.5 (r265:79063, Apr 29 2010, 00:31:32)
[GCC 4.4.3] on linux2
Type &quot;help&quot; for more information.

Environment:
  app          The WSGI application.
  registry     Active Pyramid registry.
  request      Active request object.
  root         Root of the default resource tree.
  root_factory Default root factory used to create `root`.
  testapp      &lt;webtest.TestApp object at ...&gt;

Custom Variables:
  m            myapp.models
  session      myapp.models.DBSession
  t            transaction

&gt;&gt;&gt; testapp.get(&#39;/&#39;)
&lt;200 OK text/html body=&#39;&lt;!DOCTYPE...l&gt;\n&#39;/3337&gt;
&gt;&gt;&gt; request.route_url(&#39;home&#39;)
&#39;https://www.example.com/&#39;
</pre></div>
</div>
</div>
<div class="section" id="alternative-shells">
<span id="ipython-or-bpython"></span><h3>代替シェル<a class="headerlink" href="#alternative-shells" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` pshell``コマンドは、デフォルトのpython REPLが満足のいくものでなければ、別のREPLで簡単に拡張できます。 `` pyramid_ipython``のようなバインディングがインストールされていると仮定すると、通常自動的に選択されて使用されます。また、 `` -p choice``や `` --python-shell choice``オプションを使って選択を呼び出すこともできます。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/pshell -p ipython development.ini#MyProject
</pre></div>
</div>
<p>使用可能なシェルを見るには、 `` --list-shells``オプションを使用してください。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/pshell --list-shells
Available shells:
  bpython
  ipython
  python
</pre></div>
</div>
<p>箱の中でサポートされていないシェルを使いたい場合は、 `` setup.py``にエントリポイントを登録することで新しいシェルを導入できます：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span><span class="p">(</span>
    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;pyramid.pshell_runner&#39;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s1">&#39;myshell=my_app:ptpython_shell_factory&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
<p>そして、あなたのシェルファクトリは `` env``と `` help``という2つの引数を受け付ける関数を返すべきです。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ptpython.repl</span> <span class="kn">import</span> <span class="n">embed</span>

<span class="k">def</span> <span class="nf">ptpython_shell_runner</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">help</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">help</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">embed</span><span class="p">(</span><span class="nb">locals</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.6 で変更: </span>エントリポイントを使用してユーザ定義のシェルを登録することができます。それ以前はサポートされていたシェルは `` ipython``、 `` bpython``、 `` python``でした。</p>
<p>`` ipython``と `` bpython``はそれぞれのパッケージ `` ​​pyramid_ipython``と `` pyramid_bpython``に移されました。</p>
</div>
</div>
<div class="section" id="setting-a-default-shell">
<h3>デフォルトシェルの設定<a class="headerlink" href="#setting-a-default-shell" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>あなたの `` [pshell] `` iniセクションで `` default_shell``オプションを使って好みのシェルのリストを指定することができます。</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[pshell]</span>
<span class="na">default_shell</span> <span class="o">=</span> <span class="s">ptpython ipython bpython</span>
</pre></div>
</td></tr></table></div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.6 で追加.</span></p>
</div>
</div>
</div>
<div class="section" id="displaying-all-application-routes">
<span id="displaying-application-routes"></span><span id="index-3"></span><h2>すべてのアプリケーションルートの表示<a class="headerlink" href="#displaying-all-application-routes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>proutes --helpの出力も参照してください。 &lt;proutes_script&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
<p>ターミナルウィンドウで `` proutes``コマンドを使うと、アプリケーションに関連するルートの要約を表示できます。 `` pshell`コマンド（ref： <cite>interactive_shell`参照）と同様に、</cite> <cite>proutes``コマンドは、</cite> <cite>config_file＃section_name``という形式の引数を受け取ります。 `</cite> config_file``はあなたのアプリケーションの `` .ini``ファイルへのパスです。 `` section_name``はあなたのアプリケーションを指し示す `` .ini``ファイル内の `` app``セクション名です。デフォルトでは、 `` section_name``は `` main``であり省略することができます。</p>
<p>例えば：</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ $VENV/bin/proutes development.ini
Name                       Pattern                     View                                          Method
----                       -------                     ----                                          ------
debugtoolbar               /_debug_toolbar/*subpath    &lt;wsgiapp&gt;                                     *
__static/                  /static/*subpath            dummy_starter:static/                         *
__static2/                 /static2/*subpath           /var/www/static/                              *
__pdt_images/              /pdt_images/*subpath        pyramid_debugtoolbar:static/img/              *
a                          /                           &lt;unknown&gt;                                     *
no_view_attached           /                           &lt;unknown&gt;                                     *
route_and_view_attached    /                           app1.standard_views.route_and_view_attached   *
method_conflicts           /conflicts                  app1.standard_conflicts                       &lt;route mismatch&gt;
multiview                  /multiview                  app1.standard_views.multiview                 GET,PATCH
not_post                   /not_post                   app1.standard_views.multview                  !POST,*
</pre></div>
</td></tr></table></div>
<p>`` proutes``は* Name <em>、</em> Pattern <em>、</em> View <em>、</em> Method <a href="#id1"><span class="problematic" id="id2">*</span></a>の4つのカラムを持つテーブルを生成します。 「名前」列にリストされている項目はルート名、「パターン」列にリストされている項目はルート・パターン、「ビュー」列にリストされている項目は、要求が関連するルート・パターンと一致したときに呼び出される、 [メソッド]列にリストされている項目は、ルート名に関連付けられているリクエストメソッドです。 [表示]列には、 &lt;unknown&gt;関連するビュー呼び出し可能なものが見つからない場合は <a href="#id3"><span class="problematic" id="id4">``</span></a>ルート名のMethodカラムには、 `` &lt;route mismatch&gt; <a href="#id5"><span class="problematic" id="id6">``</span></a>呼び出し可能なビューがルートのリクエストメソッドのどれも受け入れない場合は `` <a href="#id7"><span class="problematic" id="id8">``</span></a>、呼び出し可能なビューがルートのリクエストメソッドのいずれかを受け入れる場合は `` * <a href="#id9"><span class="problematic" id="id10">``</span></a>アプリケーション内でルートが設定されていない場合、 `` proutes``が実行されるとコンソールに何も出力されません。</p>
<p>`` proutes``コマンドを頻繁に使用して、表示する列や順序を設定すると便利です。これを容易にするため、 `` proutes``はあなたの `` .ini``ファイル中の特別な `` [proutes] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションを探し、デフォルトとして使用します。</p>
<p>たとえば、リクエストメソッドを削除して、ビューを最初に配置することができます。</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>  [proutes]
  format = view
           name
           pattern
</pre></div>
</td></tr></table></div>
<p>コンマまたはスペースでフォーマットを区切ることもできます。</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>  [proutes]
  format = view name pattern

  [proutes]
  format = view, name, pattern
</pre></div>
</td></tr></table></div>
<p>一時的に列と順序を設定したい場合は、 `` --format``という引数があります。これは、カンマ区切りの列のリストです。現在利用可能なフォーマットは <a href="#id1"><span class="problematic" id="id2">``</span></a>名前 <a href="#id3"><span class="problematic" id="id4">``</span></a>、 <a href="#id5"><span class="problematic" id="id6">``</span></a>パターン <a href="#id7"><span class="problematic" id="id8">``</span></a>、 <a href="#id9"><span class="problematic" id="id10">``</span></a>ビュー <a href="#id11"><span class="problematic" id="id12">``</span></a>、 <a href="#id13"><span class="problematic" id="id14">``</span></a>メソッド <a href="#id15"><span class="problematic" id="id16">``</span></a>です。</p>
</div>
<div class="section" id="displaying-tweens">
<span id="index-4"></span><span id="id1"></span><h2>&amp;quot;Tweens <a class="headerlink" href="#displaying-tweens" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>ptweens --helpの出力も参照してください。 &lt;ptweens_script&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
<p>A：term： <cite>tween`はPyramidの主なアプリケーションリクエストハンドラとそれを呼び出すWSGIアプリケーションの間にあるコードです。暗黙的なトゥイーンの順序（：meth： `pyramid.config.Configurator.add_tween`の呼び出しで指定された順序）と明示的なトゥイーンの順序（</cite> <cite>pyramid.tweens``設定の設定で指定された順序） `</cite> ptweens``コマンドを使用します。 Tweenファクトリは、 `` ptweens``の出力に標準的なPythonの点線の名前で表されます。</p>
<p>たとえば、明示的なtweensなしで設定されたシステムに対して `` ptweens``コマンドを実行すると、次のようになります。</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ $VENV/bin/ptweens development.ini
&quot;pyramid.tweens&quot; config value NOT set (implicitly ordered tweens used)

Implicit Tween Chain

Position    Name                                                Alias
--------    ----                                                -----
-           -                                                   INGRESS
0           pyramid_debugtoolbar.toolbar.toolbar_tween_factory  pdbt
1           pyramid.tweens.excview_tween_factory                excview
-           -                                                   MAIN
</pre></div>
</td></tr></table></div>
<p>`` development.ini``ファイルで*明示的に定義されたtweensで設定されたシステムに対して実行される `` ptweens``コマンドは次のとおりです：</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ ptweens development.ini
&quot;pyramid.tweens&quot; config value set (explicitly ordered tweens used)

Explicit Tween Chain (used)

Position    Name
--------    ----
-           INGRESS
0           starter.tween_factory2
1           starter.tween_factory1
2           pyramid.tweens.excview_tween_factory
-           MAIN

Implicit Tween Chain (not used)

Position    Name
--------    ----
-           INGRESS
0           pyramid_debugtoolbar.toolbar.toolbar_tween_factory
1           pyramid.tweens.excview_tween_factory
-           MAIN
</pre></div>
</td></tr></table></div>
<p>上記の `` ptweens``コマンドで使用される `` development.ini``のアプリケーション設定セクションは、明示的なトゥイーンチェーンが使用されていることを報告します：</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">[app:main]</span>
<span class="na">use</span> <span class="o">=</span> <span class="s">egg:starter</span>
<span class="na">reload_templates</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">debug_authorization</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">debug_notfound</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">debug_routematch</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">debug_templates</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">default_locale_name</span> <span class="o">=</span> <span class="s">en</span>
<span class="na">pyramid.include</span> <span class="o">=</span> <span class="s">pyramid_debugtoolbar</span>
<span class="na">pyramid.tweens</span> <span class="o">=</span> <span class="s">starter.tween_factory2</span>
<span class="s">                 starter.tween_factory1</span>
<span class="s">                 pyramid.tweens.excview_tween_factory</span>
</pre></div>
</td></tr></table></div>
<p>トゥイーンの詳細については、ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>registration_tweens`を参照してください。</p>
</div>
<div class="section" id="invoking-a-request">
<span id="index-5"></span><span id="id2"></span><h2>リクエストの呼び出し<a class="headerlink" href="#invoking-a-request" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>prequest --helpの出力も参照してください。 &lt;prequest_script&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
<p>`` prequest``コマンドラインユーティリティを使ってアプリケーションにリクエストを送信し、サーバを起動せずにレスポンスボディを見ることができます。</p>
<p>`` prequest``には二つの必須引数があります：</p>
<ul class="simple">
<li>設定ファイル/セクションは `` config_file＃section_name``フォーマットに従います。 `` config_file``はアプリケーションの `` .ini``ファイルへのパスで、 `` section_name``は `` app``セクションです`` .ini``ファイルの中の名前。 `` section_name``はオプションです。デフォルトは `` main``です。例えば、 `` development.ini``です。</li>
<li>パス：これは、サーバー上でレンダリングするリソースへのURLのURLで引用されていないパス要素です。たとえば、 `` / <a href="#id1"><span class="problematic" id="id2">``</span></a>とします。</li>
</ul>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/prequest development.ini /
</pre></div>
</div>
<p>これにより、応答の本体が呼び出されたコンソールに表示されます。</p>
<p>いくつかのオプションは `` prequest``でサポートされています。これらは、設定ファイル名またはURLの前に置く必要があります。</p>
<p>`` prequest``には出力前にサーバから返されたステータスとヘッダを出力する `` -d``（つまり `` --display-headers``）オプションがあります：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/prequest -d development.ini /
</pre></div>
</div>
<p>これにより、コンソールへの応答のステータス、ヘッダー、および本文が出力されます。</p>
<p><a href="#id1"><span class="problematic" id="id2">`</span></a>--header``オプションを使ってリクエストヘッダの値を追加することができます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/prequest --header=Host:example.com development.ini /
</pre></div>
</div>
<p>ヘッダは、CGI / WSGIに相当するものに変換することでWSGI環境に追加されます（例えば `` Host = example.com``は `` example.com``の値として `` HTTP_HOST``ヘッダ変数を挿入します）。複数の <cite>--header``オプションを指定できます。特別なヘッダ値 `</cite> content-type``は、WSGI環境で `` CONTENT_TYPE``を設定します。</p>
<p>デフォルトでは、 `` prequest``は `` GET``要求を送信します。これを変更するには、 `` -m``（別名 `` --method``）オプションを使用します。現在、 `` GET``、 `` HEAD``、 `` POST``、 `` DELETE``がサポートされています。 `` POST``を使うと `` prequest``プロセスの標準入力が `` POST``本体として使われます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/prequest -mPOST development.ini / &lt; somefile
</pre></div>
</div>
</div>
<div class="section" id="using-custom-arguments-to-python-when-running-p-scripts">
<h2>`` p * <a href="#id1"><span class="problematic" id="id2">``</span></a>スクリプトを実行するときのPythonへのカスタム引数の使用<a class="headerlink" href="#using-custom-arguments-to-python-when-running-p-scripts" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.5 で追加.</span></p>
</div>
<p>Pyramidのコンソールスクリプト（ `` pserve``、 `` pviews``など）は、 `` python3 -m``を使って直接実行でき、実行時にカスタム引数をPythonインタプリタに送ることができます。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">scripts</span><span class="o">.</span><span class="n">pserve</span> <span class="n">development</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</div>
<div class="section" id="showing-all-installed-distributions-and-their-versions">
<span id="showing-distributions"></span><span id="index-6"></span><h2>インストールされているすべてのディストリビューションとそのバージョンの表示<a class="headerlink" href="#showing-all-installed-distributions-and-their-versions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.5 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>pdistreport --helpの出力も参照してください。 &lt;pdistreport_script&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
<p>`` pdistreport``コマンドを使って：app： <a href="#id1"><span class="problematic" id="id2">`</span></a>Pyramid`のバージョン、使用しているPythonのバージョン、Python環境のすべてのPythonディストリビューションのバージョンを表示することができます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $VENV/bin/pdistreport
Pyramid version: 1.5dev
Platform Linux-3.2.0-51-generic-x86_64-with-debian-wheezy-sid
Packages:
  authapp 0.0
    /home/chrism/projects/foo/src/authapp
  beautifulsoup4 4.1.3
    /home/chrism/projects/foo/lib/python2.7/site-packages/beautifulsoup4-4.1.3-py2.7.egg
... more output ...
</pre></div>
</div>
<p>`` pdistreport``オプションはありません。その出力は、問題を抱えているときにペーストビンに貼り付けるのに便利です。あなたの環境を見なければならないよりPythonのパッケージ化と配布に精通した人が必要です。</p>
</div>
<div class="section" id="writing-a-script">
<span id="id3"></span><h2>スクリプトを書く<a class="headerlink" href="#writing-a-script" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>すべてのWebアプリケーションは、要求を受け入れて応答を返すシステムです。 ：app： <cite>Pyramid`アプリケーションによって要求が受け入れられると、システムは要求から状態を受け取ります。要求は、後でアプリケーションコードに依存します。たとえば、term： `view callable`は、特定のコンポジションの</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>request.matchdict``を持つリクエストに対して動作していると仮定していますが、別のものはmatchdictの異なる構成を想定しています。</p>
<p>それと同時に、：app： <a href="#id1"><span class="problematic" id="id2">`</span></a>Pyramid`アプリケーションで使用されるデータベーステーブルを更新するなど、Pyramid環境で動作するPythonスクリプトを書くことが便利です。しかし、&amp;quot;実&amp;quot;ピラミッド環境は、要求に依存しない完全に静的な状態を持っていません。あなたのアプリケーション（とPyramid自体）は、ほとんどの場合、要求から情報を得ることに頼っています。アプリケーションからコードを単純にインポートして実行しようとするPythonスクリプトを実行すると、実際のWeb要求がないため、要求データはありません。したがって、アプリケーションのいくつかの部分といくつかのPyramid APIは動作しません。</p>
<p>このため、：app： <cite>Pyramid`は、特定の：term：</cite> request`があなたの：app： <a href="#id1"><span class="problematic" id="id2">`</span></a>Pyramid`アプリケーションに到達したときに生成される環境のような環境でスクリプトを実行することを可能にします。これは、スクリプト本体に：func： <a href="#id3"><span class="problematic" id="id4">`</span></a>pyramid.paster.bootstrap`コマンドを使用することで実現します。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.1 で追加: </span>：func： <cite>pyramid.paster.bootstrap</cite></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.8 で変更: </span>`` boot```を `` with``文で自動的にクリーンアップする機能を追加しました。</p>
</div>
<p>最も単純なケースでは、：func： <cite>pyramid.paster.bootstrap`はPyramidアプリケーションの設定を単一の引数として表す：term：</cite> PasteDeploy` `` .ini``ファイルを受け入れる単一の引数で使用できます：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.paster</span> <span class="kn">import</span> <span class="n">bootstrap</span>

<span class="k">with</span> <span class="n">bootstrap</span><span class="p">(</span><span class="s1">&#39;/path/to/my/development.ini&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">env</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">env</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">route_url</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>：func： <cite>pyramid.paster.bootstrap`は、フレームワーク関連の情報を含む辞書を返します。この辞書は常に：term： `request`オブジェクトを</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>request``キーとして含んでいます。</p>
<p>func： <cite>pyramid.paster.bootstrap</cite>：以下のキーは、` <a href="#id1"><span class="problematic" id="id2">`</span></a>env``ディクショナリで利用可能です。</p>
<p>要求</p>
<blockquote>
<div>A：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.request.Request`オブジェクトはあなたのスクリプトの現在の要求状態を意味します。</div></blockquote>
<p>アプリ</p>
<blockquote>
<div>ブートストラップによって生成される：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>WSGI`アプリケーションオブジェクト。</div></blockquote>
<p>ルート</p>
<blockquote>
<div>あなたの：app： <cite>Pyramid`アプリケーションの：term：</cite> resource`ルートです。これは、アプリケーションで設定された：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>ルートファクトリ &amp;#39;によって生成されるオブジェクトです。</div></blockquote>
<p>レジストリ</p>
<blockquote>
<div>あなたの：app： <a href="#id1"><span class="problematic" id="id2">`</span></a>Pyramid`アプリケーションの：term：<a href="#id3"><span class="problematic" id="id4">`</span></a>アプリケーションレジストリ。</div></blockquote>
<p>クローザー</p>
<blockquote>
<div>スクリプティングジョブが終了したときにinternal：app： <cite>Pyramid`スレッドローカルスタックをポップするために使用できるパラメータなしの呼び出し可能ファイル（：func：</cite> pyramid.threadlocal.get_current_registry`と：func： <cite>pyramid.threadlocal.get_current_request</cite>） 。</div></blockquote>
<p>上記の例で使用されている `` / path / to / my / development.ini``ファイルが次のようになっていると仮定しましょう：</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pipeline:main]</span>
<span class="na">pipeline</span> <span class="o">=</span> <span class="s">translogger</span>
<span class="s">           another</span>

<span class="k">[filter:translogger]</span>
<span class="na">filter_app_factory</span> <span class="o">=</span> <span class="s">egg:Paste#translogger</span>
<span class="na">setup_console_handler</span> <span class="o">=</span> <span class="s">False</span>
<span class="na">logger_name</span> <span class="o">=</span> <span class="s">wsgi</span>

<span class="k">[app:another]</span>
<span class="na">use</span> <span class="o">=</span> <span class="s">egg:MyProject</span>
</pre></div>
</div>
<p>上記のブートストラップの例で読み込まれた設定は、デフォルトで設定ファイルの `` [pipeline：main] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションが暗示する設定を使用します。 `` / path / to / my / development.ini``を指定することは、論理的には `` / path / to / my / development.ini＃main``を指定することと同じです。この場合、ペースト&amp;quot;translogger &amp;quot;：term： <cite>middleware`（リクエストをコンソールに記録する）にラップされた</cite> <a href="#id3"><span class="problematic" id="id4">`</span></a>app``オブジェクトを含む設定を使用します。</p>
<p>`` main``の代わりに読み込むPasteDeploy `` .ini``ファイルの特定の*セクション*を指定することもできます：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.paster</span> <span class="kn">import</span> <span class="n">bootstrap</span>

<span class="k">with</span> <span class="n">bootstrap</span><span class="p">(</span><span class="s1">&#39;/path/to/my/development.ini#another&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">env</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">env</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">route_url</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>上記の例では、PasteDeploy設定ファイルの `` app``、 `` pipeline``、または `` composite``セクションを指定しています。 ：func： <cite>pyramid.paster.bootstrap`によって返される</cite> <cite>env``辞書にある</cite> <cite>app``オブジェクトは、：app：</cite> Pyramid`：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>router`になります。</p>
<div class="section" id="changing-the-request">
<h3>リクエストの変更<a class="headerlink" href="#changing-the-request" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>デフォルトでは、Pyramidは `` env``ディクショナリに `` http：// localhost：80 / <a href="#id1"><span class="problematic" id="id2">``</span></a>というURLのリクエストオブジェクトを生成します。つまり、スクリプトの実行中にPyramidによって生成されたURLは、ここに固定されます。これは一般的にあなたが望むものではありません。</p>
<p>それでは、ピラミッドに正しいURLを生成させるにはどうしたらいいですか？</p>
<p>あなたのアプリケーションで以下のようにルートを設定したと仮定します：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;verify&#39;</span><span class="p">,</span> <span class="s1">&#39;/verify/{code}&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>WSGIアプリケーションが特定のベースからの要求を処理していることをPyramid環境に通知する必要があります。たとえば、アプリケーションを <a href="#id1"><span class="problematic" id="id2">`</span></a>https：// example.com / prefix`にマウントすることをシミュレートして、生成されたURLがGoogleのデプロイメントに適していることを確認します。これは、結果の要求オブジェクトを変更するか、または単に目的のリクエストを作成して、それをfunc： <a href="#id3"><span class="problematic" id="id4">`</span></a>〜pyramid.paster.bootstrap`に渡すことによって行うことができます：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.paster</span> <span class="kn">import</span> <span class="n">bootstrap</span>
<span class="kn">from</span> <span class="nn">pyramid.request</span> <span class="kn">import</span> <span class="n">Request</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="o">.</span><span class="n">blank</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://example.com/prefix&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">bootstrap</span><span class="p">(</span><span class="s1">&#39;/path/to/my/development.ini#another&#39;</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">)</span> <span class="k">as</span> <span class="n">env</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">env</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">application_url</span><span class="p">)</span>
    <span class="c1"># will print &#39;https://example.com/prefix&#39;</span>
</pre></div>
</div>
<p>これで、PyramidのAPIを使用してURLを生成できます。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">route_url</span><span class="p">(</span><span class="s1">&#39;verify&#39;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;1337&#39;</span><span class="p">)</span>
<span class="c1"># will return &#39;https://example.com/prefix/verify/1337&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="cleanup">
<h3>掃除<a class="headerlink" href="#cleanup" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` with``ステートメントバリアントを使用している場合、心配することはありません。しかし、スクリプトロジックが終了したときに返された環境を直接使用している場合は、 `` close``コールバックを呼び出すのがよいでしょう。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.paster</span> <span class="kn">import</span> <span class="n">bootstrap</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="p">(</span><span class="s1">&#39;/path/to/my/development.ini&#39;</span><span class="p">)</span>

<span class="c1"># .. do stuff ...</span>

<span class="n">env</span><span class="p">[</span><span class="s1">&#39;closer&#39;</span><span class="p">]()</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-logging">
<h3>ロギングの設定<a class="headerlink" href="#setting-up-logging" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>デフォルトでは、：func： <cite>pyramid.paster.bootstrap`は設定ファイルに存在するロギングパラメータを設定しません。 `</cite> [logger] <a href="#id1"><span class="problematic" id="id2">``</span></a>と設定ファイルの関連するセクションに基づいてロギングを設定するには、以下のコマンドを使用します：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyramid.paster</span>
<span class="n">pyramid</span><span class="o">.</span><span class="n">paster</span><span class="o">.</span><span class="n">setup_logging</span><span class="p">(</span><span class="s1">&#39;/path/to/my/development.ini&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>app： <cite>Pyramid`の中でのロギングの詳細については：ref：</cite> logging_chapter`を参照してください。</p>
</div>
</div>
<div class="section" id="making-your-script-into-a-console-script">
<span id="making-a-console-script"></span><span id="index-7"></span><h2>スクリプトをコンソールスクリプトにする<a class="headerlink" href="#making-your-script-into-a-console-script" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>&amp;quot;コンソールスクリプト&amp;quot;は次のようになります：term： `` setuptools`：Pythonの `` bin``ディレクトリにインストールされるスクリプトの用語です：term： <cite>virtual environment`（または&amp;quot; base &amp;quot;Python環境） a：そのスクリプトを格納しているterm： `distribution`がインストールされています。ディストリビューションのインストール時に仮想環境の `</cite> bin``ディレクトリにインストールされるので、コマンドラインから呼び出せる機能をパッケージ化して配布するのに便利です。 `` .py``スクリプトを作成し、人々に&amp;quot;右&amp;quot; Pythonインタプリタで呼び出すように指示するよりもコンソールスクリプトを作成するほうが便利です。コンソールスクリプトは `` bin``に​​存在するファイルを生成し、それが呼び出されると常に&amp;quot;右&amp;quot; Python環境を使用します。つまり、必要なすべてのライブラリが必要な環境で常に呼び出されますピラミッドのように）利用可能です。</p>
<p>一般に、次のようにしてスクリプトをコンソールスクリプトにすることができます。</p>
<ul class="simple">
<li>既存のディストリビューション（例えば、 `` cookiecutter``で既に作成したディストリビューション）を使用するか、少なくとも1つのパッケージやモジュールを持つ新しいディストリビューションを作成してください。ディストリビューション内のどのモジュールでも、引数をとらず、実行するコードを実行する呼び出し可能な関数（通常は関数）を格納する必要があります。</li>
<li>スクリプト名と配布ファイルに追加した呼び出し可能ファイルを表すドット付きの名前の間のマッピングを作成する配布の `` entry_points``引数に `` [console_scripts] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションを追加してください。</li>
<li>あなたのディストリビューションを再インストールするには、 `` pip install -e .``または `` pip install .``を実行してください。ディストリビューションを再インストールすると、最後のステップで指定したスクリプトを表すファイルは、ディストリビューションをインストールした仮想環境の `` bin``ディレクトリにあります。実行可能になります。ターミナルから呼び出すと、あなたの呼び出し可能コードが実行されます。</li>
</ul>
<p>例として、Pyramidアプリケーションのデプロイメント設定を出力するコンソールスクリプトによって呼び出されるコードをいくつか作成しましょう。これを行うために、 `` myproject``という名前のパッケージを配布しているようです。このパッケージの中で、次のコードを含む `` scripts.py``モジュールを追加したようです。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># myproject.scripts module</span>

<span class="kn">import</span> <span class="nn">optparse</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">textwrap</span>

<span class="kn">from</span> <span class="nn">pyramid.paster</span> <span class="kn">import</span> <span class="n">bootstrap</span>

<span class="k">def</span> <span class="nf">settings_show</span><span class="p">():</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    Print the deployment settings for a Pyramid application.  Example:</span>
<span class="s2">    &#39;show_settings deployment.ini&#39;</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">usage</span> <span class="o">=</span> <span class="s2">&quot;usage: %prog config_uri&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">optparse</span><span class="o">.</span><span class="n">OptionParser</span><span class="p">(</span>
        <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
        <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--omit&#39;</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;omit&#39;</span><span class="p">,</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;PREFIX&#39;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s1">&#39;append&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Omit settings which start with PREFIX (you can use this &quot;</span>
              <span class="s2">&quot;option multiple times)&quot;</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="n">options</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;You must provide at least one argument&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="n">config_uri</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">omit</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">omit</span>
    <span class="k">if</span> <span class="n">omit</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">omit</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="n">bootstrap</span><span class="p">(</span><span class="n">config_uri</span><span class="p">)</span> <span class="k">as</span> <span class="n">env</span><span class="p">:</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s1">&#39;registry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">settings</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">omit</span><span class="p">]):</span>
                <span class="k">continue</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%-40s</span><span class="s1">     </span><span class="si">%-20s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>このスクリプトはPythonの `` optparse``モジュールを使って、スクリプトに渡された余分な引数を理解できるようにします。 ：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.paster.bootstrap`関数を使用して、設定ファイルで定義されたアプリケーションに関する情報を取得し、その設定ファイルに定義されているデプロイメント設定を出力します。</p>
<p>このスクリプトをパッケージに追加したら、ディストリビューションの `` setup.py``にその存在を伝える必要があります。あなたのディストリビューションのトップレベルディレクトリ内で、 `` setup.py``ファイルは次のようになります：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>

<span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s1">&#39;README.txt&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">README</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s1">&#39;CHANGES.txt&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">CHANGES</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pyramid&#39;</span><span class="p">,</span> <span class="s1">&#39;pyramid_debugtoolbar&#39;</span><span class="p">]</span>

<span class="n">tests_require</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;WebTest &gt;= 1.3.1&#39;</span><span class="p">,</span>  <span class="c1"># py3 compat</span>
    <span class="s1">&#39;pytest&#39;</span><span class="p">,</span>  <span class="c1"># includes virtualenv</span>
    <span class="s1">&#39;pytest-cov&#39;</span><span class="p">,</span>
    <span class="p">]</span>

<span class="n">setup</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;MyProject&#39;</span><span class="p">,</span>
      <span class="n">version</span><span class="o">=</span><span class="s1">&#39;0.0&#39;</span><span class="p">,</span>
      <span class="n">description</span><span class="o">=</span><span class="s1">&#39;My project&#39;</span><span class="p">,</span>
      <span class="n">long_description</span><span class="o">=</span><span class="n">README</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span>  <span class="n">CHANGES</span><span class="p">,</span>
      <span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
          <span class="s2">&quot;Programming Language :: Python&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Framework :: Pyramid&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Topic :: Internet :: WWW/HTTP&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Topic :: Internet :: WWW/HTTP :: WSGI :: Application&quot;</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="n">author</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="n">author_email</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="n">url</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="n">keywords</span><span class="o">=</span><span class="s1">&#39;web pyramid pylons&#39;</span><span class="p">,</span>
      <span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(),</span>
      <span class="n">include_package_data</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
      <span class="n">zip_safe</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
      <span class="n">install_requires</span><span class="o">=</span><span class="n">requires</span><span class="p">,</span>
      <span class="n">extras_require</span><span class="o">=</span><span class="p">{</span>
          <span class="s1">&#39;testing&#39;</span><span class="p">:</span> <span class="n">tests_require</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="n">entry_points</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">      [paste.app_factory]</span>
<span class="s2">      main = myproject:main</span>
<span class="s2">      &quot;&quot;&quot;</span><span class="p">,</span>
      <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>`` setup.py``ファイルを変更して、 `` entry_points``文字列に `` [console_scripts] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションを追加します。このセクションでは、 `` scriptname = dotted.path.to：yourfunction``行を指定する必要があります。例えば：</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[console_scripts]</span>
<span class="na">show_settings</span> <span class="o">=</span> <span class="s">myproject.scripts:settings_show</span>
</pre></div>
</div>
<p>`` show_settings``の名前は、 `` bin``に​​インストールされているスクリプトの名前になります。上記の `` myproject.scripts``と `` settings_show``のコロン（ <a href="#id1"><span class="problematic" id="id2">``</span></a>： <a href="#id3"><span class="problematic" id="id4">``</span></a>）は `` myproject.scripts``がPythonモジュールであることを示し、 `` settings_show``はそのモジュールの関数ですコマンドラインから `` show_settings``スクリプトを起動した結果として実行したいコードが入っています。</p>
<p>結果は次のようになります。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>

<span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s1">&#39;README.txt&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">README</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s1">&#39;CHANGES.txt&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">CHANGES</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pyramid&#39;</span><span class="p">,</span> <span class="s1">&#39;pyramid_debugtoolbar&#39;</span><span class="p">]</span>

<span class="n">tests_require</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;WebTest &gt;= 1.3.1&#39;</span><span class="p">,</span>  <span class="c1"># py3 compat</span>
    <span class="s1">&#39;pytest&#39;</span><span class="p">,</span>  <span class="c1"># includes virtualenv</span>
    <span class="s1">&#39;pytest-cov&#39;</span><span class="p">,</span>
    <span class="p">]</span>

<span class="n">setup</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;MyProject&#39;</span><span class="p">,</span>
      <span class="n">version</span><span class="o">=</span><span class="s1">&#39;0.0&#39;</span><span class="p">,</span>
      <span class="n">description</span><span class="o">=</span><span class="s1">&#39;My project&#39;</span><span class="p">,</span>
      <span class="n">long_description</span><span class="o">=</span><span class="n">README</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">+</span>  <span class="n">CHANGES</span><span class="p">,</span>
      <span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
          <span class="s2">&quot;Programming Language :: Python&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Framework :: Pyramid&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Topic :: Internet :: WWW/HTTP&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Topic :: Internet :: WWW/HTTP :: WSGI :: Application&quot;</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="n">author</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="n">author_email</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="n">url</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="n">keywords</span><span class="o">=</span><span class="s1">&#39;web pyramid pylons&#39;</span><span class="p">,</span>
      <span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(),</span>
      <span class="n">include_package_data</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
      <span class="n">zip_safe</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
      <span class="n">install_requires</span><span class="o">=</span><span class="n">requires</span><span class="p">,</span>
      <span class="n">extras_require</span><span class="o">=</span><span class="p">{</span>
          <span class="s1">&#39;testing&#39;</span><span class="p">:</span> <span class="n">tests_require</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="n">entry_points</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">      [paste.app_factory]</span>
<span class="s2">      main = myproject:main</span>
<span class="hll"><span class="s2">      [console_scripts]</span>
</span><span class="hll"><span class="s2">      show_settings = myproject.scripts:settings_show</span>
</span><span class="s2">      &quot;&quot;&quot;</span><span class="p">,</span>
      <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>これをやったら、 `` $ VENV / bin / pip install -e .``を実行すると `` $ somevenv / bin``ディレクトリに `` show_settings``という名前のファイルが小さなPythonコードでインストールされますあなたのエントリーポイントを指しています。実行可能になります。引数なしで実行すると、エラーが出力され、終了します。設定ファイルのパスである1つの引数を指定して実行すると、設定が出力されます。 `` --omit = foo``引数でそれを実行すると、 `` foo``で始まるキーを持つ設定は省略されます。 2つの &amp;quot;省略&amp;quot;オプション（例えば、 `` --omit = foo --omit = bar``）で実行すると、 `` foo``や `` bar``で始まるキーを持つ設定はすべて省略されます。 ：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/show_settings development.ini --omit<span class="o">=</span>pyramid --omit<span class="o">=</span>debugtoolbar
debug_routematch                             False
debug_templates                              True
reload_templates                             True
mako.directories                             <span class="o">[]</span>
debug_notfound                               False
default_locale_name                          en
reload_resources                             False
debug_authorization                          False
reload_assets                                False
prevent_http_cache                           False
</pre></div>
</div>
<p>Pythonの `` pserve``、 `` pcreate``、 `` pshell``、 `` prequest``、 `` ptweens``などの `` p * <a href="#id1"><span class="problematic" id="id2">``</span></a>スクリプトはコンソールスクリプトとして実装されています。そのうちの1つを起動すると、コンソールスクリプトを使用しています。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(機械翻訳) コマンドラインピラミッド</a><ul>
<li><a class="reference internal" href="#displaying-matching-views-for-a-given-url">指定されたURLの一致するビューの表示</a></li>
<li><a class="reference internal" href="#the-interactive-shell">インタラクティブシェル</a><ul>
<li><a class="reference internal" href="#extending-the-shell">シェルの拡張</a></li>
<li><a class="reference internal" href="#alternative-shells">代替シェル</a></li>
<li><a class="reference internal" href="#setting-a-default-shell">デフォルトシェルの設定</a></li>
</ul>
</li>
<li><a class="reference internal" href="#displaying-all-application-routes">すべてのアプリケーションルートの表示</a></li>
<li><a class="reference internal" href="#displaying-tweens">&amp;quot;Tweens </a></li>
<li><a class="reference internal" href="#invoking-a-request">リクエストの呼び出し</a></li>
<li><a class="reference internal" href="#using-custom-arguments-to-python-when-running-p-scripts">`` p * ``スクリプトを実行するときのPythonへのカスタム引数の使用</a></li>
<li><a class="reference internal" href="#showing-all-installed-distributions-and-their-versions">インストールされているすべてのディストリビューションとそのバージョンの表示</a></li>
<li><a class="reference internal" href="#writing-a-script">スクリプトを書く</a><ul>
<li><a class="reference internal" href="#changing-the-request">リクエストの変更</a></li>
<li><a class="reference internal" href="#cleanup">掃除</a></li>
<li><a class="reference internal" href="#setting-up-logging">ロギングの設定</a></li>
</ul>
</li>
<li><a class="reference internal" href="#making-your-script-into-a-console-script">スクリプトをコンソールスクリプトにする</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="paste.html"
                        title="前の章へ">(機械翻訳) PasteDeploy設定ファイル</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="i18n.html"
                        title="次の章へ">(機械翻訳) 国際化とローカリゼーション</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/narr/commandline.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="i18n.html" title="(機械翻訳) 国際化とローカリゼーション"
             >次へ</a> |</li>
        <li class="right" >
          <a href="paste.html" title="(機械翻訳) PasteDeploy設定ファイル"
             >前へ</a> |</li>
    	<li><a href="../index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 11月 13, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1 で生成しました。
    </div>
  </body>
</html>