
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>(機械翻訳) Pyramid 変更履歴 &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="copyright" title="著作権" href="copyright.html" />
    <link rel="next" title="(機械翻訳)守るピラミッドのデザイン" href="designdefense.html" />
    <link rel="prev" title="(機械翻訳)Pyramid 1.0の新機能" href="whatsnew-1.0.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="designdefense.html" title="(機械翻訳)守るピラミッドのデザイン"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.0.html" title="(機械翻訳)Pyramid 1.0の新機能"
             accesskey="P">前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pyramid-change-history">
<span id="changelog"></span><h1>(機械翻訳) <span>Pyramid</span> 変更履歴<a class="headerlink" href="#pyramid-change-history" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="unreleased">
<span id="changes-1-9-3"></span><h2>1.9.3（未リリース）<a class="headerlink" href="#unreleased" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>`` HTTPClientError``と `` HTTPServerError``例外クラスに適切な `` code``と `` title``属性を設定してください。これにより、誤って520エラーコードが返されることを防ぎます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3280を参照してください。</li>
</ul>
</div>
<div class="section" id="changes-1-9-2">
<span id="id1"></span><h2>1.9.2（2018-04-23）<a class="headerlink" href="#changes-1-9-2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>`` 1.7.0rc2``ではなく `` webob&amp;gt; = 1.7.0``に固定してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/3220を参照してください。</li>
<li>1.9リリースで追加された実行ポリシー機能によって壊れた `` pyramid.scripting.get_root``を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3265を参照してください。</li>
</ul>
</div>
<div class="section" id="changes-1-9-1">
<span id="id2"></span><h2>1.9.1（2017-07-13）<a class="headerlink" href="#changes-1-9-1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>すべてのvenusianデコレータに `` _depth``と `` _category``引数を追加してください。 `` _category``引数は、特定のカテゴリで `` config.scan（...、category = ...） <code class="docutils literal notranslate"><span class="pre">を実行するときに登録されるアクションに影響を与えるために使用できます。独自のデコレータをラップするときは、</span> <span class="pre">``</span> <span class="pre">_depth``引数を使用する必要があります。この変更は、</span> <span class="pre">``</span> <span class="pre">pyramid.view.view_config</span></code>、 `` pyramid.view.exception_view_config``、 `` pyramid.view.forbidden_​​view_config``、 `` pyramid.view.notfound_view_config``、 `` pyramid.events.subscriber <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` pyramid.response.response_adapter``のデコレータです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3121およびhttps://github.com/Pylons/pyramid/pull/3123を参照してください。</li>
<li>Pyramid.config`の前に `` pyramid.viewderivers``をインポートすることができなかった循環インポートを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3124を参照してください。</li>
<li>`` pyramid.config.Configurator``がより多くの場所でコンテキストマネージャとして使用されていることを示すためにドキュメントを改善してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3126を参照してください。</li>
</ul>
</div>
<div class="section" id="id3">
<h2>1.9（2017-06-26）<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>1.9b1からの大きな変更はありません。</li>
<li>`` docs.pylonsproject.org``がHTTPSを使うためのドキュメントリンクを更新しました。</li>
</ul>
</div>
<div class="section" id="b1-2017-06-19">
<h2>1.9b1（2017-06-19）<a class="headerlink" href="#b1-2017-06-19" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>未知の述部が提供されているときに、情報メッセージを追加してください。新しいメッセージは、既知の述語のリストに基づいて選択肢を提案します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3054を参照してください。</li>
<li>チュートリアルのcookiecutters、足場、および結果のソースファイルにJavaScriptの整合性属性を追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2548を参照してください。</li>
<li>cookiecuttersを更新するためにRELEASING.txtを更新してください。ショートカットを使用するようにcookiecutterのURLを変更してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/3042を参照してください。</li>
<li>`` request.invoke_exception_view``から呼び出されたときに、ビューの実行中に正しいスレッドコードがプッシュされていることを確認してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3060を参照してください。</li>
<li>`` pyramid.security.ALL_PERMISSIONS``が `` __iter__``の実装で有効なイテレータを返さなかったバグを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3074を参照してください。</li>
<li>許可の結果を適切なクラス階層に正規化します。 `` pyramid.security.ACLAllowed``は `` pyramid.security.Allowed``のサブクラスであり、 `` pyramid.security.ACLDenied``は `` pyramid.security.Denied``のサブクラスです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3084を参照してください。</li>
<li>`` pyramid.encode.urlencode``に `` quote_via``引数を追加してstdlibのバージョンに従い、カスタム引用関数を有効にします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3088を参照してください。</li>
<li>`` request.resource_url``と `` query = None``と `` anchor = None``に <cite>_query = None`と</cite> _anchor = None`をサポートしています。これまでは、URLの中に <a href="#id1"><span class="problematic" id="id2">`</span></a>？<a href="#id3"><span class="problematic" id="id4">`</span></a>と <a href="#id5"><span class="problematic" id="id6">`</span></a>＃ &amp;#39;がそれぞれ付いていました。生成されたURLから不要な部分が削除されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3034を参照してください。</li>
<li>`` IExecutionPolicy``で使用される `` IRouter`` APIを、リクエストthreadlocalsのプッシュ/ポップを強制的に行うために改訂します。 `` IRouter.make_request（environ） `` APIはコンテキストマネージャーとして使われる `` IRouter.request_context（environ） <a href="#id1"><span class="problematic" id="id2">``</span></a>に置き換えられました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3086を参照してください。</li>
</ul>
</div>
<div class="section" id="a2-2017-05-09">
<h2>1.9a2（2017-05-09）<a class="headerlink" href="#a2-2017-05-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="backward-incompatibilities">
<h3>後方の非互換性<a class="headerlink" href="#backward-incompatibilities" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">応答がEXCVIEWトゥイーンによって生成された場合にのみ、 `` request.exception``と `` request.exc_info``がセットされます。これは、応答がパイプラインのどこかで生成され、元の例外とは直接関係しない混乱を避けるためです。アップストリームの誰かが例外に対する応答を捕捉してレンダリングしたい場合、応答を生成するときに押しつぶされた例外を示すために、 `` request.exception``と `` request.exc_info``をそれ自身で設定するべきです。</p>
<p>同様の挙動が、 `` request.invoke_exception_view``で発生します。例外のプロパティは、メソッドによって応答が正常に生成された場合に例外を反映するように設定されています。</p>
<p>これは非常に小さな不一致です。現在、ほとんどのtweensは、発生した例外を優先し、 `` request.exception``を無視します。この変更では、レスポンスとその押しつぶされた例外との関係をより明確にしようとすることによって、その簿記が改善され、明確化されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/3029およびhttps://github.com/Pylons/pyramid/pull/3031を参照してください。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a1-2017-05-01">
<h2>1.9a1（2017-05-01）<a class="headerlink" href="#a1-2017-05-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="major-features">
<h3>主な特長<a class="headerlink" href="#major-features" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pserve``や `` pshell``や `` pyramid.paster.bootstrap``などのすべての `` p * <a href="#id1"><span class="problematic" id="id2">``</span></a>コマンドラインスクリプトで使用されているファイル形式は、新しい`石膏への依存&lt;<a class="reference external" href="https://docs.pylonsproject.org/projects/plaster/en/latest/">https://docs.pylonsproject.org/projects/plaster/en/latest/</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_。</p>
<p>今のところ、Pyramidは <a href="#id1"><span class="problematic" id="id2">`</span></a>plaster_pastedeployに依存してPasteDeploy INIフォーマットの統合サポートを提供しています&lt;<a class="reference external" href="https://github.com/Pylons/plaster_pastedeploy">https://github.com/Pylons/plaster_pastedeploy</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>バインディングライブラリ。これは将来変更される可能性があります。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2985を参照してください。</p>
</li>
<li><p class="first">要求パイプラインに実行ポリシーフックを追加しました。実行ポリシーには、要求オブジェクトがパイプラインの残りの部分に入る前に、その要求オブジェクトの作成と実行を制御する機能があります。これは、単一の要求環境に対して、ポリシーが複数の要求オブジェクトを作成する可能性があることを意味します。</p>
<p>この機能を使うための最初のライブラリは <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid_retry &lt;<a class="reference external" href="https://docs.pylonsproject.org/projects/pyramid-retry/en/latest/">https://docs.pylonsproject.org/projects/pyramid-retry/en/latest/</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2964を参照してください。</p>
</li>
<li><p class="first">CSRFのサポートは、 `` pyramid.csrf``モジュールの中で、セッションから独立したAPIにリファクタリングされました。これは、プラグイン可能な `` pyramid.interfaces.ICSRFStoragePolicy``をサポートしています。これは、CSRFトークンを生成し、検証する独自のメカニズムを定義するために使用できます。デフォルトでは、Pyramidは互換性を保つために `` request.session.get_csrf_token``と `` request.session.new_csrf_token`` APIをフードの下で使用する `` pyramid.csrf.LegacySessionCSRFStoragePolicy``を引き続き使用します。 CSRFトークンをセッションとスタンドアロンのクッキーにそれぞれ格納する `` pyramid.csrf.SessionCSRFStoragePolicy``と `` pyramid.csrf.CookieCSRFStoragePolicy``の2つの新しいポリシーも出荷されています。ストレージポリシーは、新しい `` pyramid.config.Configurator.set_csrf_storage_policy``設定ディレクティブを使用して変更できます。</p>
<p>ストレージポリシーが変更された場合、CSRTトークンは、新しいpyramid.csrf.get_csrf_token``、 `` pyramid.csrf.new_csrf_token``、および `` pyramid.csrf.check_csrf_token`` APIを使用して作業を続行する必要があります。また、 `` pyramid.csrf.get_csrf_token``関数はテンプレートに注入され、UIコードに便利に使用されます。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2854およびhttps://github.com/Pylons/pyramid/pull/3019を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="minor-features">
<h3>マイナー機能<a class="headerlink" href="#minor-features" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>設定ファイルの `` pserve``セクションで `` open_url``設定をサポートしてください。このurlは `` pserve  -  browser &amp;#39;`が呼び出されたときにウェブブラウザを開くために使われます。この設定が利用できない場合、 `` pserve``スクリプトはサーバが使用しているポートを `` server： &lt;server_name&gt; configファイルの <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションには書かれていますが、サーバがこのフォーマットで実行されているため、失敗する可能性はありません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2984を参照してください。</li>
<li>`` pyramid.config.Configurator``は、（ `` config.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>や `` config.end（） <a href="#id3"><span class="problematic" id="id4">``</span></a>に似た）スレッドマネージャを自動的にプッシュ/ポップするコンテキストマネージャとして使用できるようになりました。また、 `` config.commit（） <a href="#id5"><span class="problematic" id="id6">``</span></a>も自動的に実行されるため、アプリの最上位レベルでのみ使用することをお勧めします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2874を参照してください。</li>
<li>threadlocalsは `` config.include``で呼び出された関数の中で利用できるようになりました。つまり、threadlocalsに依存できない唯一のコンフィギュレーションタイムコードは、メイン内部の非アクションから実行されるコードです。これは、 `` config.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` config.end（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を適切に呼び出すか、コンフィギュレータの新しいコンテキストマネージャ機能を使用することで軽減できます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2989を参照してください。</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>バグの修正<a class="headerlink" href="#bug-fixes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>HTTPExceptionは、例外に追加の詳細を渡すために使用されるディテールkwargを受け入れます。 __str__メソッドが有効な限り、オブジェクトを渡すことができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2951を参照してください。</li>
<li>コンフィグレータが破棄された後でも、レジストリが `` Configurator``インスタンスを生きたままにするメモリリークの原因となる参照サイクルを修正しました。レジストリがクロージャ内に格納されている `` global_registries``オブジェクトに対して、もう一つの修正が追加されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2967を参照してください。</li>
<li>指定された `` argv``の代わりに `` sys.argv``が常にサブプロセスで使われる `` --reload``オプションで `` pyramid.scripts.pserve.main``を直接呼び出すバグを修正しました。 。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2962を参照してください。</li>
</ul>
</div>
<div class="section" id="deprecations">
<h3>廃止<a class="headerlink" href="#deprecations" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Pyramidは現在、 `` plaster_pastedeploy``に依存して、INIファイルの統合サポートを維持して <a href="#id1"><span class="problematic" id="id2">``</span></a>石膏 &amp;#39;&amp;#39;への移行を単純化しています。 `` plaster_pastedeploy``へのこの依存性は、Pyramidの非推奨ポリシーの対象となり、将来削除される可能性があります。アプリケーションは、ニーズを満たすために適切な石膏製本に依存する必要があります。</p>
</li>
<li><p class="first">セッションからCSRFトークンを取得することは、 `` pyramid.csrf``モジュールの同等のメソッドを使うことを前提に廃止されました。デフォルトの `` pyramid.csrf.LegacySessionCSRFStoragePolicy``を使用する場合を除いて、 `` ISession``インタフェースでCSRFメソッド（ `` ISession.get_csrf_token``と `` Session_new_csrf_token``）は不要になりました。</p>
<p>また、 `` pyramid.session.check_csrf_token``は `` pyramid.csrf.check_csrf_token``にあります。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2854およびhttps://github.com/Pylons/pyramid/pull/3019を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="documentation-changes">
<h3>ドキュメントの変更点<a class="headerlink" href="#documentation-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>要求処理の章のルーティングダイアグラムに実行ポリシーを追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2993を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h2>1.8（2017-01-21）<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>1.8b1から大きな変更はありません。</li>
</ul>
</div>
<div class="section" id="b1-2017-01-17">
<h2>1.8b1（2017-01-17）<a class="headerlink" href="#b1-2017-01-17" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="features">
<h3>特徴<a class="headerlink" href="#features" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` config.add_translation_dirs``に `` override``オプションを追加して、後の呼び出しで以前の呼び出しよりも高い優先度で翻訳ディレクトリを配置できるようにしました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2902を参照してください。</li>
</ul>
</div>
<div class="section" id="id5">
<h3>ドキュメントの変更点<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>レジストリのドキュメントを改善して、コンポーネントレジストリや辞書としての用途について話し合うhttps://github.com/Pylons/pyramid/pull/2893を参照してください。</li>
<li>クイックツアー、クイックチュートリアル、およびその他のほとんどのドキュメントは、pcreateや足場の代わりにcookiecuttersを使用するように更新されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2888およびhttps://github.com/Pylons/pyramid/pull/2889を参照してください。</li>
<li>py2とpy3の依存関係がなくても動作するようにwiki2のunittestを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2899を参照してください。</li>
<li>インストーラの最新のPython 3の改善を追跡するために、Windowsのドキュメントを更新してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2900を参照してください。</li>
<li>cookiecuttersとApache 2.4+を使うための `` mod_wsgi``チュートリアルを更新しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2901を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2016-12-25">
<h2>1.8a1（2016-12-25）<a class="headerlink" href="#a1-2016-12-25" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id6">
<h3>後方の非互換性<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Pyramid 1.3で廃止された `` IContextURL``インターフェースのサポートが削除されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2822を参照してください。</p>
</li>
<li><p class="first">ピラミッドの非推奨期間（1.6  - &amp;gt; 1.8）の後、pserveのデーモンサポートは削除されました。これには、デーモンコマンド（start、stop、restart、status）と `` --daemon``、 `` --pid-file``、 `` -log-file``、 `` --monitor-restart``、 `` --status``、 `` --user``、 `` --group``、 `` --stop-daemon``</p>
<p>サーバをデーモンとして実行するには、pserveではなくプロセスマネージャを使用する必要があります。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2615を参照してください。</p>
</li>
<li><p class="first">`` pcreate``はデフォルトで対話型になりました。異なる内容のファイルがすでに存在するかどうかを確認するメッセージが表示されます。これまでは、 `` --interactive``や `` --overwrite``を指定しない限り、類似したファイルがあった場合、それらを静かにスキップしていました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2775を参照してください。</p>
</li>
<li><p class="first">`` pyramid.static.static_view``から文書化されていない引数 `` cachebust_match``を削除しました。この議論は、Pyramid 1.6で誤って出荷されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2681を参照してください。</p>
</li>
<li><p class="first">静的ビューを変更して、 `` Content-Encoding``レスポンスヘッダをPythonの `` mimetypes``モジュールを使って推測されるエンコーディングに設定しないようにします。これは、クライアントがgzipファイルをダウンロードするときにその内容をデコードする原因となっていました。クライアントは、既にデコードされたディスク上の `` foo.txt.gz``ファイルで終わるので、実際は `` foo.txt``でなければなりません。また、 `` Content-Encoding``は、クライアント自身が `` Accept-Encoding``リクエストヘッダを使ってエンコーディングをサポートしている場合にのみ使われるべきです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2810を参照してください。</p>
</li>
<li><p class="first">設定は、設定オブジェクトの属性としてアクセスできなくなりました（ `` request.registry.settings.foo``など）。これはPyramid 1.2では推奨されていませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2823を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id7">
<h3>特徴<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Python 3.6との互換性。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/2835">https://github.com/Pylons/pyramid/issues/2835</a></p>
</li>
<li><p class="first">`` pcreate``は `` --package-name``について学びました。プロジェクト名とは異なるパッケージ名で既存のフォルダに新しいプロジェクトを作成することができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2783を参照してください。</p>
</li>
<li><p class="first">`` DefaultAuthAuthenticationPolicy``の `` _get_credentials``プライベートメソッドは、 `` pyramid.authentication``モジュールのスタンドアロン関数 `` extract_http_basic_credentials``に展開されています。この関数は `` request``オブジェクトからHTTP基本認証情報を抽出し、名前付きタプルとして返します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2662を参照してください。</p>
</li>
<li><p class="first">Pyramid 1.4は、復元されたコンフィギュレータの機能を静かに削除しました。行動弁別者が異なる行動秩序にぶつかり合うことも可能です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2757を参照してください。</p>
</li>
<li><p class="first">`` pyramid.paster.bootstrap``とその兄弟の `` pyramid.scripting.prepare``をコンテクストマネージャーとして使うことができるようになりました。自動的に `` close``を呼び出し、メモリリークを防ぐためにスレッドロックをスタックから外しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2760を参照してください。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.add_exception_view``と `` pyramid.view.exception_view_config``デコレータを追加しました。これらのメソッドを使うか、新しい `` exception_only = True``オプションを使って、 `` add_view``を使って例外を扱うときにのみマッチするビューを追加することが可能になりました。以前は、例外クラスから継承されたトラバーサルコンテキストに対して例外ビューも登録されていたため、例外のみの最適化はできませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2660を参照してください。</p>
</li>
<li><p class="first">`` pyramid.interfaces.IViewDeriverInfo``に `` exception_only``ブーリアンを追加しました。これは、ビューデリバーが例外を処理するだけのビューをラッピングしているかどうかを判断するのに使うことができます。これは、ビューが例外を処理しているかどうかを判断するために `` request.exception``のために要求時間チェックを実行する必要がなくなり、パイプラインを設定時に最適化できることを意味します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2660を参照してください。</p>
</li>
<li><p class="first">`` pserve``は、サーバやアプリケーションがピラミッドの残りの部分をインポートする前にできるだけ早くそれを行うと仮定して、プロセスをmonkeypatchする必要がある `` gevent``や他のワーカーで動作するはずです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2797を参照してください。</p>
</li>
<li><p class="first">Pyramidは `` pyramid.config.Configurator（settings =） <a href="#id1"><span class="problematic" id="id2">``</span></a>に渡された設定オブジェクトをコピーしません。元の `` dict``が保持されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2823を参照してください。</p>
</li>
<li><p class="first">csrf trusted origininsの設定は、空白で区切られたドメインのリストになりました。以前は、Pythonのリストだけが許可されていました。また、他の設定と同様の `` PYRAMID_CSRF_TRUSTED_ORIGINS``環境変数を使って設定することもできます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2823を参照してください。</p>
</li>
<li><p class="first">`` pserve --reload``は `` hupper &lt;<a class="reference external" href="http://docs.pylonsproject.org/projects/hupper/en/latest/">http://docs.pylonsproject.org/projects/hupper/en/latest/</a>&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>ライブラリを使用してファイルの変更を監視します。これには多くの改善が伴います：</p>
<ul class="simple">
<li><a href="#id1"><span class="problematic" id="id2">`</span></a>watchdog &lt;<a class="reference external" href="http://pythonhosted.org/watchdog/">http://pythonhosted.org/watchdog/</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_パッケージがインストールされていれば、cpuとディスク集約的なポーリングの代わりにinotifyを使って監視が行われます。</li>
<li>モニタは、コードの前にクラッシュしたり起動したりすることのない別のプロセスになりました。</li>
<li>ファイルが保存されるまで、クラッシュ後にモニターはプロセスを再始動しません。</li>
<li>モニターはウィンドウ上で動作します。</li>
<li>`` hupper.get_reloader（）。trigger_reload（） <a href="#id1"><span class="problematic" id="id2">``</span></a>を使ってピラミッドビューやその他のコードから手動でリロードをトリガできるようになりました。ちょっとしたもの。</li>
<li>監視プロセスに対して `` SIGHUP``を発行することによって、再ロードをトリガーすることができます。</li>
</ul>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2805を参照してください。</p>
</li>
<li><p class="first">新しい `` [pserve] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションは、カスタムファイルパスを監視する `` pserve --reload``を設定できる `` watch_files``キーで設定ファイルでサポートされています。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2827を参照してください。</p>
</li>
<li><p class="first">`` pyramid.httpexceptions.HTTPException`のサブクラスからストリーミング応答を作成できるようにします。以前は、ボディのテスト中に応答が展開され、応答をストリーミングできなくなりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2863を参照してください。</p>
</li>
<li><p class="first">ウェイトレスの新しい &amp;quot;listen&amp;quot;ディレクティブを使用して、IPv6をサポートするためのスターター、錬金術、zodbの足場を更新します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2853を参照してください。</p>
</li>
<li><p class="first">すべてのp <a href="#id1"><span class="problematic" id="id2">*</span></a>スクリプトは、optparseではなくargparseを使用するようになりました。これは `` --help``の出力を改善するだけでなく、それらのオプションのより良いドキュメントを可能にします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2864を参照してください。</p>
</li>
<li><p class="first">`` config.action`によって登録された遅延コンフィグレーションアクションは、アセットのオーバーライドなどのスレッドローカル状態に依存するようになり、アクションの実行時にアクティブになります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2873を参照してください。</p>
</li>
<li><p class="first">`` config.add_translation_dirs``に渡されるディレクトリのアセット仕様は、フォルダ名を含むアセット仕様全体をオーバーライドできるようになりました。以前はパッケージ名のみがサポートされていたため、フォルダの名前は常に同じにする必要がありました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2873を参照してください。</p>
</li>
<li><p class="first">`` config.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>は、レジストリが同じである限り、現在のスレッドローカルリクエストを伝播します。例えば：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="o">.</span><span class="n">blank</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>  <span class="c1"># pushes a request</span>
<span class="n">config</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>         <span class="c1"># propagates the previous request through unchanged</span>
<span class="k">assert</span> <span class="n">get_current_request</span><span class="p">()</span> <span class="ow">is</span> <span class="n">request</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2873を参照してください。</p>
</li>
<li><p class="first">`` config.set_default_csrf_options``に新しい `` callback``オプションを追加しました。これは、リクエストごとにCSRFチェックを有効にして、混在認証方法を許可する必要があるかどうかを判断するために使用できます。 Cookieベースの方法だけでは、一般的にCSRFチェックが必要です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2778を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id8">
<h3>バグの修正<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` proutes``のバグを修正し、クラスと `` attr``が関わっているときに正しいビューを表示するようになりました。参照：<a class="reference external" href="https://github.com/Pylons/pyramid/pull/2687">https://github.com/Pylons/pyramid/pull/2687</a></li>
<li>`` proutes``スクリプトの `` format``設定で `` re.split``を使うとき、Python 3.5で `` FutureWarning``を修正してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2714を参照してください。</li>
<li>`` AuthTktAuthenticationPolicy``の `` userid``として任意のオブジェクトを使用するときにWebObが出力する `` RuntimeWarning``を修正しました。これは現在、ポリシーによって捕捉され、オブジェクトは暗号の警告を回避するためにbase64文字列としてシリアル化されます。以降のリクエストでは、ユーザーIDは文字列として読み込まれるため、より有用な警告が表示され、代わりにプリミティブ型を使用するように促します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2715を参照してください。</li>
<li>Pyramid 1.6では、アクションが別のアクションを呼び出す機能が導入されました。 「config.add_view」がPyramid 1.7で導入されたカスタムビューデリバーとやりとりするというバグがありました。これは、ビューデリバーとビュー述語が以前のオーダーで作成されるまでビューの弁別子が計算できないためです。別のアクションからアクションを呼び出すと、パイプラインのアンロールがトリガーされ、ディスティメーターが準備される前にそれらが計算されます。新しい動作はアクションの「順序付け」を尊重し、以前の命令からの依存アクションが実行されるまで弁別器が計算されないようにします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2757を参照してください。</li>
<li>関連するメッセージファイル内に異なる複数の関数が定義されていても、デフォルトのドメインが常にドイツ語の複数形を使用するi18nのバグを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2859を参照してください。</li>
<li>`` config.override_asset``メソッドは `` pyramid.config.PHASE1_CONFIG`の間に `` config.add_translation_dirs``の呼び出しの前に実行するように命令されるようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2873を参照してください。</li>
</ul>
</div>
<div class="section" id="id9">
<h3>廃止<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pcreate``スクリプトと関連する足場は、人気の `` cookiecutter &lt;<a class="reference external" href="https://cookiecutter.readthedocs.io/en/latest/">https://cookiecutter.readthedocs.io/en/latest/</a>&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>_ project。</p>
<p>ピラミッドの公式の足場とチュートリアルは、すべてcookiecuttersに移植されています：</p>
<ul class="simple">
<li><a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid-cookiecutter-starter &lt;<a class="reference external" href="https://github.com/Pylons/pyramid-cookiecutter-starter">https://github.com/Pylons/pyramid-cookiecutter-starter</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_</li>
<li><a href="#id1"><span class="problematic" id="id2">`</span></a>ピラミッド - クッキーカッター - 錬金術&lt;<a class="reference external" href="https://github.com/Pylons/pyramid-cookiecutter-alchemy">https://github.com/Pylons/pyramid-cookiecutter-alchemy</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_</li>
<li><a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid-cookiecutter-zodb &lt;<a class="reference external" href="https://github.com/Pylons/pyramid-cookiecutter-zodb">https://github.com/Pylons/pyramid-cookiecutter-zodb</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_</li>
</ul>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2780を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id10">
<h3>ドキュメントの変更点<a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">印刷慣習を更新する。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull/2838">https://github.com/Pylons/pyramid/pull/2838</a></p>
</li>
<li><p class="first"><a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid_nacl_sessionを追加する&lt;<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid-nacl-session/en/latest/">http://docs.pylonsproject.org/projects/pyramid-nacl-session/en/latest/</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_セッションファクトリに。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2791を参照してください。</p>
</li>
<li><p class="first"><a href="#id1"><span class="problematic" id="id2">`</span></a>HACKING.txt`をマスタにマージされた古いブランチから更新してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2782を参照してください。</p>
</li>
<li><p class="first">更新されたWindowsのインストール手順と関連するビット。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2661を参照してください。</p>
</li>
<li><p class="first">ビュー述語とルート述語の間のドキュメントの不整合を修正し、APIの違いを強調表示します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2764を参照してください。</p>
</li>
<li><p class="first">`` pyramid.httpexceptions.HTTPException`のサブクラスに <a href="#id1"><span class="problematic" id="id2">``</span></a>ヘッダー `` kwargが誤って使用される可能性があることを明示してください。親クラス `` pyramid.response.Response``のより適切なkwargが代わりに使われるべきです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2750を参照してください。</p>
</li>
<li><p class="first">SQLAlchemy + URL Dispatch + Jinja2（ `` wiki2``）とZODB + Traversal + Chameleon（ `` wiki``）チュートリアルは、新しいcookiecuttersと `` pcreate``スカフォールドのサポートを利用するように更新されました。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2881およびhttps://github.com/Pylons/pyramid/pull/2883を参照してください。</p>
</li>
<li><p class="first">ヘルプのためのp <a href="#id1"><span class="problematic" id="id2">*</span></a>スクリプト記述の出力を向上させます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2886を参照してください。</p>
</li>
<li><p class="first">クイックツアーは、pcreateや足場の代わりにcookiecuttersを使用するように更新されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2888を参照してください。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id11">
<h2>1.7（2016-05-19）<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>bcryptが常にバイト文字列を期待しているwiki2チュートリアルのバグを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2576を参照してください。</li>
<li>ウィンドウ検出コードを単純化し、重複したデータを削除します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2585およびhttps://github.com/Pylons/pyramid/pull/2586を参照してください。</li>
</ul>
</div>
<div class="section" id="b4-2016-05-12">
<h2>1.7b4（2016-05-12）<a class="headerlink" href="#b4-2016-05-12" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>例外を処理するための例外ビューが見つからない場合、元の例外を再発生させるように例外ビューのtweenを修正しました。これにより、未処理のまま残った例外を処理するために、チェーンの上にトゥイーンをさらに上げることができます。以前は、述部がビューの例外処理に失敗した場合、それらは `` PredicateMismatch``例外に変換されていました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2567を参照してください。</li>
<li>`` pyramid.interfaces.IRequestFactory``インターフェースを公開して、 `` pyramid.interfaces.IResponseFactory``インターフェースを反映させました。</li>
</ul>
</div>
<div class="section" id="b3-2016-05-10">
<h2>1.7b3（2016-05-10）<a class="headerlink" href="#b3-2016-05-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>ビューが一致しない場合、 `` request.invoke_exception_view``を `` HTTPNotFound``例外を発生させるように修正しました。以前は `` None``が返されます。ビューが一致しなかった場合には `` PredicateMismatch``が返されます。ビューが&amp;quot;ほとんど&amp;quot;一致した場合（コンテキストに一致するビューが見つかった場合） <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2564を参照してください。</li>
<li>py.testの設定とカバレッジのデフォルトを3つすべてのスカフォールドに追加し、それに従ってドキュメントを更新します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2550を参照してください。</li>
<li>Sphinxの `` Makefile``に `` linkcheck``を追加してください。ドキュメントの壊れたリンクを調べるには、 `` make linkcheck SPHINXBUILD = $ VENV / bin / sphinx-build``コマンドを使います。また、数十の壊れた外部リンクを削除して修正しました。</li>
<li>内部ランナーを足場テストのために修正して、pipとpy.testで動作するようにします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2565を参照してください。</li>
</ul>
</div>
<div class="section" id="b2-2016-05-01">
<h2>1.7b2（2016-05-01）<a class="headerlink" href="#b2-2016-05-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>developmental.iniのpyramid_tmを錬金術足場に含めるのを削除しました。<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2538を参照してください。</li>
<li>`` config.set_default_permission``で設定されたデフォルトの権限は、もはや例外ビューでは強制されません。これはデフォルトの例外ビュー（ `` config.add_notfound_view``と `` config.add_forbidden_​​view``）を使ってしばらくの間そうなっていましたが、他の例外ビューでは開発者は `` permission = NO_PERMISSION_REQUIRED``物事がうまくいかなかった時には驚いた。 `` permission``引数を手動で `` config.add_view``に設定することによって、例外ビューのパーミッションチェックを強制することも可能です。この動作は、1.7シリーズで追加された新しいCSRF機能と一致しています。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2534を参照してください。</li>
</ul>
</div>
<div class="section" id="b1-2016-04-25">
<h2>1.7b1（2016-04-25）<a class="headerlink" href="#b1-2016-04-25" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>このリリースでは、1.7のベータ期間が発表されます。</li>
<li>1.7シリーズから削除された錬金術足場にいくつかのファイルが含まれていた問題を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2525を参照してください。</li>
</ul>
</div>
<div class="section" id="a2-2016-04-19">
<h2>1.7a2（2016-04-19）<a class="headerlink" href="#a2-2016-04-19" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id12">
<h3>特徴<a class="headerlink" href="#id12" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>例外ビューでは、自動CSRFチェックはデフォルトで無効になっています。彼らは、ビューに適切な <a href="#id1"><span class="problematic" id="id2">`</span></a>require_csrf`オプションを設定することによって、再び有効にすることができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2517を参照してください。</li>
<li>自動CSRF APIは、オプションを設定するためのconfigディレクティブを使用するように修正されました。 `` pyramid.require_default_csrf``の設定はサポートされなくなりました。代わりに、新しい `` config.set_default_csrf_options``ディレクティブが導入されました。これにより開発者は `` require_csrf``のデフォルト値を指定し、CSRFトークン、ヘッダ、安全なリクエストメソッドを変更することができます。 `` pyramid.csrf_trusted_origins``の設定は引き続きサポートされています。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2518を参照してください。</li>
</ul>
</div>
<div class="section" id="id13">
<h3>バグの修正<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>CSRF起点チェックには、チェックが常に失敗するバグがありました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2512を参照してください。</li>
<li>ウィンドウにテストスイートを渡すように修正する。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2520を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2016-04-16">
<h2>1.7a1（2016-04-16）<a class="headerlink" href="#a1-2016-04-16" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id14">
<h3>後方の非互換性<a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">ピラミッドの非推奨期間（1.4  - &amp;gt; 1.6）の後、AuthTktAuthenticationPolicyのデフォルトハッシュアルゴリズムはmd5からsha512に変更されています。認証ポリシーを使用しており、md5を引き続き使用する必要がある場合は、明示的にhashalgを &amp;#39;md5&amp;#39;に設定してください。</p>
<p>この変更は、既存の認証チケット（および関連するCookie）が有効でなくなり、ユーザーはもうログインしなくなり、アカウントに再度ログインする必要があることを意味します。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2496を参照してください。</p>
</li>
<li><p class="first">`` check_csrf_token``関数は、リクエストのクエリ文字列中のcsrfトークンをもはや検証しません。ヘッダーとリクエストボディのみがサポートされています。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2500を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id15">
<h3>特徴<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しい設定、 `` pyramid.require_default_csrf``を追加しました。これは、アプリケーションのPOST要求ごとにCSRFチェックをグローバルに有効にするために使用されます。これは、Pyramid上に構築されたウェブサイトのための良いデフォルトと見なされるべきです。これらのビューに対して `` require_csrf = False``を設定することで、ビュー単位でCSRFチェックをオプトアウトすることができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2413を参照してください。</li>
<li>`` require_csrf``ビューオプションを追加しました。これは、RFC2616で定義されている安全でないメソッドを使って、すべての要求に対してCSRFチェックを強制します。 CSRFチェックが失敗した場合、 `` BadCSRFToken``例外が発生し、例外ビュー（デフォルトの応答は `` 400 Bad Request``です）によって捕捉されます。このオプションは、非推奨の `` check_csrf``ビュー述語の代わりに使用されるべきです。この述語は通常、キャッチ可能な例外の代わりに予期しない `` 404 Not Found``応答をクライアントに送ります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2413およびhttps://github.com/Pylons/pyramid/pull/2500を参照してください。</li>
<li>要求の起点/参照元をチェックし、現在の `` request.domain``と一致することを確認する追加のCSRF検証を追加しました。この特定のチェックは、HTTPS経由でサイトにアクセスする場合にのみ有効です。そうしないと、ブラウザが常に必要な情報を送信するとは限りません。この追加のCSRF検証に失敗した場合、 `` BadCSRFOrigin``例外が発生し、例外ビュー（デフォルトの応答は `` 400 Bad Request``です）によって捕捉される可能性があります。 `` pyramid.csrf_trusted_origins``を許可するドメイン名のリスト（非標準ポートの場合はポート付き）に設定することにより、追加の許可されたオリジンを設定することができます。サブドメインはドメイン名の前に `` .``が付いていなければ許されません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2501を参照してください。</li>
<li>リクエストのドメインに対してオリジンまたはリファラーヘッダを検証するための新しい `` pyramid.session.check_csrf_origin`` APIを追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2501を参照してください。</li>
<li>Pyramid HTTPExceptionsはクライアントのAcceptヘッダーに最も適したものを考慮に入れ、要求されたものに応じてtext / html、application / jsonまたはtext / plainを返します。 * / <a href="#id1"><span class="problematic" id="id2">*</span></a>のデフォルトはtext / htmlですが、application / jsonが明示的に記述されている場合は、有効なJSON応答を受け取ります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2489を参照してください。</li>
<li>新しいイベントとインタフェース（BeforeTraversal）が導入されました。このインタフェースは、ルータ内でトラバーサルが開始される前にリスナーに通知します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2469およびhttps://github.com/Pylons/pyramid/pull/1876を参照してください。</li>
<li>ピラミッドに新しい&amp;quot;ビューデリバー&amp;quot;の概念を追加すると、フレームワークの作成者はピラミッドビューの標準パイプラインに要素を挿入し、アプリケーション内のすべてのビューに影響を与えることができます。これはデコレータに似ていますが、 `` config.add_view``に渡されるオプションにアクセスでき、ビューからの生のレスポンスやセキュリティチェックの前にパイプラインの他のステージに影響を与える可能性があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2021を参照してください。</li>
<li>要求パラメタ述語のキーに先行する `` = <a href="#id1"><span class="problematic" id="id2">``</span></a>を許可します。たとえば、 &amp;#39;= abc = 1&amp;#39;は `` request.params [&amp;#39;= abc&amp;#39;] == &amp;#39;1&amp;#39;``と同等です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1370を参照してください。</li>
<li>例外ビューを呼び出して応答を返すために使用できる新しい `` request.invoke_exception_view（...） <a href="#id1"><span class="problematic" id="id2">``</span></a>メソッド。これは、あなたがリクエストをより詳細に制御する必要があるかもしれないexcview tweenのコンテキスト外で例外ビューをレンダリングする場合に便利です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2393を参照してください。</li>
<li>.iniファイルのロギングセクションに <code class="docutils literal notranslate"><span class="pre">％（LOGGING_LOGGER_ROOT_LEVEL）s``のような変数の置き換えを許可し、</span> <span class="pre">``</span> <span class="pre">pserve``コマンドラインからこれらの変数を設定します</span> <span class="pre">-</span> <span class="pre">例えば</span> <span class="pre">``</span> <span class="pre">pserve</span> <span class="pre">development.ini</span> <span class="pre">LOGGING_LOGGER_ROOT_LEVEL</span> <span class="pre">=</span> <span class="pre">DEBUG</span></code> <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2399を参照してください。</li>
</ul>
</div>
<div class="section" id="id16">
<h3>ドキュメントの変更点<a class="headerlink" href="#id16" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">ドキュメントの完全なオーバーホール：</p>
<ul class="simple">
<li>easy_installの代わりにpipを使用してください。</li>
<li>Python 3.4以上を好むことで、Pythonとその必要なパッケージングツールのインストールを簡素化することで、意見を表明してください。</li>
<li>virtualenvの代わりに、venvをツール用に、仮想環境を作成用に使用してください。</li>
<li>noseとカバレッジの代わりにpy.testとpytest-covを使用してください。</li>
<li>チュートリアルとそのsrcファイルだけでなく、足場への更なるアップデート。</li>
</ul>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2468を参照してください。</p>
</li>
<li><p class="first">`` alchemy`足場とWiki2 SQLAlchemy + URLDispatchチュートリアルを完全に見直して、PyramidでSQLAlchemyを使用する際のより現代的な機能を紹介し、新しいプロジェクトの出発点を提供します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2024を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id17">
<h3>バグの修正<a class="headerlink" href="#id17" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>使用するセクションを選択するときに、アプリケーション名の代わりに `` --server-name``を使うように `` pserve  -  browser &amp;#39;&amp;#39;を修正しました。これは、 `` [app：main] <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` [server：main] <a href="#id3"><span class="problematic" id="id4">``</span></a>のように、同じ名前のサーバーセクションとアプリケーションセクションを持っていた人たちのためだけに働いていました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2292を参照してください。</li>
</ul>
</div>
<div class="section" id="id18">
<h3>廃止<a class="headerlink" href="#id18" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` check_csrf``ビュー述語は非推奨です。新しい `` require_csrf``オプションまたは `` pyramid.require_default_csrf``設定を使って、 `` BadCSRFToken``例外が確実に発生するようにしてください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2413を参照してください。</li>
<li>Python 3.3のサポートはPyramid 1.8で削除されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/2477">https://github.com/Pylons/pyramid/issues/2477</a></li>
<li>Python 2.6ではPyramidがサポートされなくなりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2368を参照してください。</li>
<li>Python 3.2のサポートを終了しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2256を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="id19">
<h2>1.6（2016-01-03）<a class="headerlink" href="#id19" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id20">
<h3>廃止<a class="headerlink" href="#id20" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` --user``と `` --group``オプションを非推奨にして、 `` pserve``デーモン/プロセス管理機能の削除を続けてください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2190を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b3-2015-12-17">
<h2>1.6b3（2015-12-17）<a class="headerlink" href="#b3-2015-12-17" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id21">
<h3>後方の非互換性<a class="headerlink" href="#id21" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` config.add_static_view``から `` cachebust``オプションを削除してください。キャッシュバスターを静的資産に付加する新しい方法については、 `` config.add_cache_buster``を参照してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2186を参照してください。</p>
</li>
<li><p class="first">`` pyramid.interfaces.ICacheBuster`` APIを `` match``メソッドと `` pregenerate``メソッドを持つオブジェクトではなく単純な呼び出し可能オブジェクトに変更してください。キャッシュ・バスターは現在、世代だけに焦点を当てています。マッチングは削除されました。</p>
<p>これは `` pyramid.static.QueryStringCacheBuster``と `` pyramid.static.ManifestCacheBuster``の使用に影響します。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2186を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id22">
<h3>特徴<a class="headerlink" href="#id22" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>静的アセットにキャッシュバスターを追加するための新しい `` config.add_cache_buster`` APIを追加してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2186を参照してください。</li>
</ul>
</div>
<div class="section" id="id23">
<h3>バグの修正<a class="headerlink" href="#id23" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` IAssetDescriptor.abspath``は常に絶対パスを返すようにしてください。プロセスのCWDに応じて、相対パスが返されるケースがありました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2188を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b2-2015-10-15">
<h2>1.6b2（2015-10-15）<a class="headerlink" href="#b2-2015-10-15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id24">
<h3>特徴<a class="headerlink" href="#id24" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ファイルシステムのパスを必要とするのではなく、 `` pyramid.static.ManifestCacheBuster``にアセット仕様を与えることができます。</li>
</ul>
</div>
</div>
<div class="section" id="b1-2015-10-15">
<h2>1.6b1（2015-10-15）<a class="headerlink" href="#b1-2015-10-15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id25">
<h3>後方の非互換性<a class="headerlink" href="#id25" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">IPythonとBPythonのサポートはコアのpshellから削除されました。 Pyramid 1.6以降で引き続き使用するには、バインディングパッケージを明示的にインストールする必要があります。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install pyramid_ipython

or

$ pip install pyramid_bpython
</pre></div>
</div>
</li>
<li><p class="first">`` PathSegmentCacheBuster``、 `` PathSegmentMd5C​​acheBuster``、および `` QueryStringMd5CacheBuster``を含む1.6a1で導入されたデフォルトのキャッシュバスターを削除してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2116を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id26">
<h3>特徴<a class="headerlink" href="#id26" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pshell``用の追加のシェルをエントリーポイントとして登録できるようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1891およびhttps://github.com/Pylons/pyramid/pull/2012を参照してください。</li>
<li>可能であれば、 `` pshell``に注入された変数はデフォルトの `` str（obj） <a href="#id1"><span class="problematic" id="id2">``</span></a>ではなくdocstringで表示されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1929を参照してください。</li>
<li>外部資産パイプラインで使用するための新しい `` pyramid.static.ManifestCacheBuster``と、物語の一般的な使用例を追加してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2116を参照してください。</li>
<li>構文エラーで `` pserve --reload``がクラッシュしないように修正しました！ <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2125を参照してください。</li>
<li>時刻関連パラメータ `` timeout``、 `` reissue_time``、 `` max_age``に対して、ユーザが未解析の文字列を `` pyramid.session.CookieSession``と `` pyramid.authentication.AuthTktCookieHelper``に渡すときの問題を修正しました。整数値が必要です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2050を参照してください。</li>
</ul>
</div>
<div class="section" id="id27">
<h3>バグの修正<a class="headerlink" href="#id27" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.httpexceptions.HTTPException``は、WebOb 1.5の変更に適合するよう `` None None``ではなく `` Unknown Error``をデフォルトにしました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1865を参照してください。</li>
<li>`` pshell``はINIファイルの `` [pshell] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションに変数の大文字を保存します。これにより、シェルへのクラスの公開がより簡単になります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1883を参照してください。</li>
<li>恐ろしい方法で失敗する `` pserve --monitor-restart --daemon``の使用を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2118を参照してください。</li>
<li>明示的に `` pserve --reload  -  daemon``が使用されないようにしてください。それは決してサポートされていませんが、奇妙な方法で動作し、失敗するでしょう。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2119を参照してください。</li>
<li>実行するpserveスクリプトが見つからなかったためプロセスがforkできなかった `` pserve --reload``を実行しているときに、Windows上の問題を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2138を参照してください。</li>
</ul>
</div>
<div class="section" id="id28">
<h3>廃止<a class="headerlink" href="#id28" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>CircusやSupervisorのようなPythonベースのソリューションだけでなく、SystemdやUpstartなどの実際のプロセスマネージャを使用するユーザのために、 `` pserve --monitor-restart``を非難してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2120を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a2-2015-06-30">
<h2>1.6a2（2015-06-30）<a class="headerlink" href="#a2-2015-06-30" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id29">
<h3>バグの修正<a class="headerlink" href="#id29" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.httpexceptions.exception_response``が `` 400``と `` 500``ステータスコードの適切な &amp;quot;concrete&amp;quot;クラスを返すことを確認してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1832を参照してください。</li>
<li>`` pyramid.view.render_view_to_response``が直接的または間接的に呼び出されたときに1.6a1で導入された無限再帰バグを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1643を参照してください。</li>
<li>JSONPレンダラを修正するには、返されたコンテンツの先頭にコメントを付けます。これにより、Flashからの攻撃を軽減する必要があります（CVE-2014-4671を参照）。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1649を参照してください。</li>
<li>JSONPコールバックにピリオドと大括弧（ `` [] <a href="#id1"><span class="problematic" id="id2">``</span></a>）を付けてください。元の修正は過度に制限的であり、Angularを破った。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1649を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2015-04-15">
<h2>1.6a1（2015-04-15）<a class="headerlink" href="#a1-2015-04-15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id30">
<h3>特徴<a class="headerlink" href="#id30" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>現在存在するプロジェクト名、または現在の環境でインポート可能なプロジェクト名の引数を指定して起動すると、確認メッセージが表示されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1357およびhttps://github.com/Pylons/pyramid/pull/1837を参照してください。</li>
<li>`` pyramid.request.Request``をサブクラス化し、 `` pyramid.request.Request.add_request.method``を使うことも可能です。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1529を参照してください。</li>
<li>`` pyramid.config.Configurator``は、アクションがコミットサイクル中に他のアクションを呼び出すことを可能にする機能を拡張しました。これにより、他のアクションを呼び出す機能や、競合検出を改善するためにそれらをグループ化する機能など、より多くのロジックをアクションに配置できます。また、適合したアドオンの構築をさらに支援するために、Pyramidが使用する設定フェーズを公開し、文書化しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1513を参照してください。</li>
<li>`` config.add_request_method``で設定されたリクエストエクステンションを適用するためのテストで使用できる `` pyramid.request.apply_request_extensions``関数を追加してください。以前は、Pyramidのルーターを経由して拡張機能をテストすることしかできませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1581を参照してください。</li>
<li>scaffold引数を指定せずに実行すると、足りないフラグに関する情報だけでなく、使用可能な足場のリストも表示されるようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1566およびhttps://github.com/Pylons/pyramid/issues/1297を参照してください。</li>
<li>ToxとTravisの下に &amp;#39;pypy3&amp;#39;のサポート/テストを追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1469を参照してください。</li>
<li>py2の代わりにpy2とpy3のコードカバレッジメトリックを自動化します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1471を参照してください。</li>
<li>静的リソース用のキャッシュ破棄が追加され、 `` pyramid.config.Configurator.add_static_view``： `` cachebust``の新しい引数で利用できます。コアAPIは、クエリ文字列とパスセグメントによるキャッシュ破棄のために出荷され、カスタムアセットパイプラインに適合するように拡張できます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1380およびhttps://github.com/Pylons/pyramid/pull/1583を参照してください。</li>
<li>`` Configurator``が作成されたパッケージに関連するリソースを解決したいインクルード可能なパッケージを支援するために `` pyramid.config.Configurator.root_package``属性とinitパラメータを追加してください。これは、設定からアセット仕様をロードする必要のあるアドオンで特に便利です。その場合、開発者がトップレベルパッケージを基準にしてインポートまたはアセットを定義するのが自然かもしれません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1337を参照してください。</li>
<li>デバッグを支援する足場のログフォーマッタに行番号を追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1326を参照してください。</li>
<li>`` pyramid.httpexceptions``のステータスコード `` 428前提条件必須 &amp;quot;、&amp;quot; 429 &amp;quot;、&amp;quot; 431リクエストヘッダフィールドが大きすぎます &amp;quot;という新しいHTTP例外オブジェクトを追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull/1372">https://github.com/Pylons/pyramid/pull/1372</a>/filesを参照してください。</li>
<li>`` pshell``スクリプトは、インタープリタを起動する前に環境に定義されている場合、 `` PYTHONSTARTUP``ファイルを読み込みます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1448を参照してください。</li>
<li>デフォルトの例外レスポンス・ビューを使用するが、変更された述部およびその他の構成オプションを使用したい、ノーファンドおよび禁止ビューを簡単に定義できるようにする。 `` view``引数は、 `` config.add_notfound_view``と `` config.add_forbidden_​​view``ではオプションです。<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/494を参照してください。</li>
<li>`` pcreate``シェルスクリプト出力の可読性を大幅に改善します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1453を参照してください。</li>
<li>`` AuthTktCookieHelper``と `` SignedCookieSessionFactory``クラスのタイミング攻撃に対する堅牢性を向上させるには、stdlibの `` hmac.compare_digest``が利用可能な場合（Python 2.7.7+や3.3+など）、 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1457を参照してください。</li>
<li>アセットは、 `` config.override_asset`` APIを使用するとき、ファイルシステム上の絶対パスによって上書きされるようになりました。これにより、 `` request.static_url`` APIと `` config.add_static_view``を使えるようにしながら、変更可能なディレクトリから静的コンテンツを提供することを完全にサポートすることができます。以前は、 `` config.add_static_view``を絶対パス**と**を使ってコンテンツにURLを生成することはできませんでした。この変更は `` config.add_static_view（ &amp;#39;/ abs / path&amp;#39;、 &amp;#39;static&amp;#39;） <a href="#id1"><span class="problematic" id="id2">``</span></a>を `` config.add_static_view（ &amp;#39;myapp：static&amp;#39;、 &amp;#39;static&amp;#39;） <a href="#id3"><span class="problematic" id="id4">``</span></a>と `` config &amp;#39;に置き換えます。 override_asset（to_override = &amp;#39;myapp：static /&amp;#39;、override_with = &amp;#39;/ abs / path /&amp;#39;） <a href="#id5"><span class="problematic" id="id6">``</span></a>です。 `` myapp：static``アセット仕様は完全に作られており、存在する必要はありません。これは `` request.static_url（ &amp;#39;myapp：static / foo.png&amp;#39;） <a href="#id7"><span class="problematic" id="id8">``</span></a>でURLを生成するために使用されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1252を参照してください。</li>
<li>カスタム `` Response``クラスを返すファクトリを定義するための `` Configurator``に `` pyramid.config.Configurator.set_response_factory``と `` response_factory``キーワード引数を追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1499を参照してください。</li>
<li>イテレータがレンダラから返されるようにします。以前は、バイトまたはユニコードを返すことしかできませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1417を参照してください。</li>
<li>`` pserve``は `` -b``または `` --browser``オプションを使って、WebブラウザでサーバURLを開きます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1533を参照してください。</li>
<li>`` proutes``コマンドの全体的な改良。コマンドに `` --format``と `` --glob``引数を追加し、利用可能なリクエストメソッドを表示するための `` method``カラムを導入し、 `` view``の出力を改善しました。ちょうど `` __repr__``です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1488を参照してください。</li>
<li>Python 3のビューでキーワードのみの引数と関数アノテーションをサポートしています。<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1556を参照してください。</li>
<li>`` request.response``は `` pyramid.renderers.render_to_response（） `` APIを使用してもはや変更されません。レンダラーにカスタム応答オブジェクトを提供したい場合は、 `` render_to_response``に `` response = <a href="#id1"><span class="problematic" id="id2">``</span></a>引数を渡す必要があります。それを渡さないと、アプリケーションの `` IResponseFactory``を使ってレスポンスオブジェクトが作成されます。ほぼすべてのレンダラーが `` request.response``レスポンスオブジェクトを変更します（例えば、JSONレンダラーは `` application / json``に `` request.response.content_type``を設定します）。しかし、 `` render_to_response``を呼び出すとき、返される応答オブジェクトは、要求の中で後で使用されるものと同じであるとは限りません。 `` render_to_response``から返された応答オブジェクトは、 `` request.response``と明示的に異なっています。これはレンダラーのAPIを変更しません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1563を参照してください。</li>
<li>`` Configurator（）。add_notfound_view（） <a href="#id1"><span class="problematic" id="id2">``</span></a>の `` append_slash``引数は、 `` IResponse``インターフェースを実装したものを受け入れ、デフォルトの `` HTTPFound``の代わりにレスポンスクラスとして使用します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1610を参照してください。</li>
</ul>
</div>
<div class="section" id="id31">
<h3>バグの修正<a class="headerlink" href="#id31" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>JSONPレンダラーはJavaScriptコードを作成し、コールバック変数を使用して任意にjavascriptを応答オブジェクトに挿入することができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull/1627">https://github.com/Pylons/pyramid/pull/1627</a></li>
<li>`` pserve --reload``がpdbセッション中にリロードされた場合、ターミナルエコーを無効にしてしまう問題を回避してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull/1577">https://github.com/Pylons/pyramid/pull/1577</a>、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1592を参照してください。</li>
<li>`` pyramid.wsgi.wsgiapp``と `` pyramid.wsgi.wsgiapp2``は、誤って `` None``を渡したときに `` ValueError``を送出します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1320を参照してください。</li>
<li>イントロスペクティブでは述語がmaybe_dottedとして解決されますが、登録に渡されたときには述語が解決されないという問題を修正しました。これは、例えば `` add_route_predicate``が文字列を受け取り、それを実際の呼び出し可能な関数に変換することができないことを意味します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1306を参照してください。</li>
<li>`` pyramid.testing.setUp``が適切なパッケージで `` Configurator``を返すように修正しました。以前は、テスト中に返された `` Configurator``を使ってパッケージ相対インクルードを行うことはできませんでした。この動作を上書きできる `` package``引数があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1322を参照してください。</li>
<li>`` pyramid.response.FileResponse``が、それが属していない文字セットを適用するかもしれない問題を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1251を参照してください。</li>
<li>Pythonの以前のバージョンとは違って、 `` mimetypes.guess_type``がコンテンツタイプのstrではなくUnicodeを返すWindows上のPython 2.7.7で導入されたバグを回避しましょう。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1360を参照してください。</li>
<li>`` pcreate``はハイフンをアンダースコアに変換することでパッケージ名を正規化します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1376を参照してください。</li>
<li>最終応答/完了コールバックで問題を修正し、別のコールバックをリストに追加できないようにしました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1373を参照してください。</li>
<li>さまざまなOSの異なるMIMEタイプに起因する失敗したユニットテストを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1405を参照してください。</li>
<li>パスのない静的ビューのアセット仕様のルート生成を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1377を参照してください。</li>
<li>有効なリクエストオブジェクトがなくても、 `` pyramid.renderers.JSONP``レンダラを動作させることができます。この場合、オブジェクトをコールバックにラップすることはないので、 `` pyramid.renderers.JSON``レンダラーのように動作します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1561を参照してください。</li>
<li>Prevent &amp;quot;パラメータは非推奨です&amp;quot; `` DeprecationWarning``からsetuptools&amp;gt; = 11.3。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1541を参照してください。</li>
<li><cite>renderer =`引数を使用してビューにアタッチするときにスレッド間で `</cite> IRenderer``オブジェクトを共有することを避けてください。これらのレンダラーは最初のレンダリング時にインスタンス化され、要求間で共有され、 <cite>pyramid.reload_templates = true`のような微妙な効果を引き起こし、</cite> pyramid_mako`で機能しませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1575およびhttps://github.com/Pylons/pyramid/issues/1268を参照してください。</li>
<li>CSRFトークンに対するタイミング攻撃を回避する。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1574を参照してください。</li>
<li>`` request.finished_callbacks``と `` request.response_callbacks``はデフォルトで `` None``ではなく `` iterable``になりました。長さが0であるかどうかを調べることができます。これは1.5の動作です。</li>
</ul>
</div>
<div class="section" id="id32">
<h3>廃止<a class="headerlink" href="#id32" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pserve``コマンドのデーモン化機能は廃止されました。これには、 `` --daemon``、 `` --stop-server``、 `` -pid-file``、 `` -daemon``と同様に、 <a href="#id1"><span class="problematic" id="id2">``</span></a>開始、停止、再起動、ステータス <a href="#id3"><span class="problematic" id="id4">``</span></a>サブコマンドも含まれます。 `` --status``フラグ。</p>
<p>`` pserve``に依存するのではなく、実際のプロセスマネージャを使って、自分自身をデーモン化してください。あなたのオペレーティングシステムのサービス（SystemdやUpstartなど）やサーカスやスーパーバイザなどのPythonベースのソリューションを含む多くのオプションが存在します。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1641を参照してください。</p>
</li>
<li><p class="first">目的を明確にするために、 `` principal``引数を `` pyramid.security.remember（） <a href="#id1"><span class="problematic" id="id2">``</span></a>から `` userid``に改名しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1399を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="docs">
<h3>ドキュメント<a class="headerlink" href="#docs" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` Configurator.add_view``の `` accept``のドキュメントをもはや述語リストの一部に移動しませんでした。 `` not_``が `` accept``で失敗したというバグレポートについては、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1391を参照してください。 &#64;mcdoncとの議論は、それが述語として文書化されるべきではないという結論に導いた。このPRについては、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1487を参照してください。</li>
<li>クイックチュートリアルのiniファイルからロギング設定を削除しました。スキャフォールディングやロギング関連の章を除いて、早すぎる説明は不要です。</li>
<li>`` ISession.invalidate`` APIドキュメントの暗黙の詳細を明確にしてください。</li>
<li>ピラミッドがセキュリティAPIで「プリンシパル」と「ユーザーID」と定義しているドキュメントを改善し、明確にします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1399を参照してください。</li>
<li>コマンドラインプログラムのドキュメントを追加する（ `` p * <a href="#id1"><span class="problematic" id="id2">``</span></a>スクリプト）。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2191を参照してください。</li>
</ul>
</div>
<div class="section" id="scaffolds">
<h3>足場<a class="headerlink" href="#scaffolds" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>足場に使用するためのピラミッドとピラミッドのドキュメントのバージョンを返すように足場を生成する機械を更新します。開始版、錬金術、zodbのテンプレートを更新し、正しくバージョン管理されたドキュメントへのリンクを提供し、足場を生成するために使用されたピラミッドを反映させました。</li>
<li>テンプレートから非ascii著作権シンボルを削除しました。これにより、足場がプロジェクト生成に失敗する原因となりました。</li>
<li>scaffolding funcテストは、 `` tox py2-scaffolds``と `` tox py3-scaffolds``を使って実行できます。</li>
</ul>
</div>
</div>
<div class="section" id="id33">
<h2>1.5（2014-04-08）<a class="headerlink" href="#id33" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Python 3.4との互換性。</li>
<li>おそらく変更された `` sys.modules``を反復するとき、Py3kの `` pserve --reload``でクラッシュを避けてください。</li>
<li>秘密に上位の文字が含まれていると、 `` UnencryptedCookieSessionFactoryConfig``が失敗しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1246を参照してください。</li>
<li>`` UnencryptedCookieSessionFactoryConfig``と `` SignedCookieSessionFactory``のバグを修正しました。 `` timeout = None``を指定すると、常に新しいセッションが作成されます。また、 `` SignedCookieSessionFactory``の `` reissue_time = None``は、セッションを変更する際に例外を引き起こします。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1247を参照してください。</li>
<li>ドキュメンテーションとスキャフォールドを更新し、 <a href="#id1"><span class="problematic" id="id2">``</span></a>ングワ（Lingua） <cite>の新バージョン2.0を続ける。これには、すべての `</cite> setup.cfg``ファイルを足場やドキュメント環境から削除することが含まれていました。</li>
</ul>
</div>
<div class="section" id="b1-2014-02-08">
<h2>1.5b1（2014-02-08）<a class="headerlink" href="#b1-2014-02-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id34">
<h3>特徴<a class="headerlink" href="#id34" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>我々は、もはや `` request.exception``と `` request.exc_info``を例外ビューtweenで熱心にクリアしません。これにより、完了したコールバック内の例外情報を検査することができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1223を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a4-2014-01-28">
<h2>1.5a4（2014-01-28）<a class="headerlink" href="#a4-2014-01-28" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id35">
<h3>特徴<a class="headerlink" href="#id35" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいテーマ、固定ドキュメント、サンプルプロジェクトで足場を更新しました。</li>
</ul>
</div>
<div class="section" id="id36">
<h3>バグの修正<a class="headerlink" href="#id36" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいバージョンのWebObに依存して、Pyramidの機能性を支える重要なバグフィックスを引き出します。</li>
<li>末尾のセミコロンをJSONPレスポンスに追加します。これにより、古いIEバージョンのJavaScript構文エラーが修正されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1205を参照してください。</li>
<li>コンフィグレータの `` set_request_property``メソッドが使用されたとき、またはコンフィグレータの `` add_request_method``メソッドが `` property = True``属性とともに使われたときにメモリリークを修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1212を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a3-2013-12-10">
<h2>1.5a3（2013-12-10）<a class="headerlink" href="#a3-2013-12-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id37">
<h3>特徴<a class="headerlink" href="#id37" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">要求のメソッドとして許可APIが追加されました： `` request.has_permission``。</p>
<p>`` request.has_permission``は `` pyramid.security.has_permission`` APIのメソッドベースの代替であり、まったく同じ働きをします。古いAPIは廃止されました。</p>
</li>
<li><p class="first">認証データへのアクセスを容易にするために、プロパティAPI属性がリクエストに追加されました： `` request.authenticated_userid``、 `` request.unauthenticated_userid``、 `` request.effective_principals``です。</p>
<p>これらは、それぞれ `` pyramid.security.authenticated_userid``、 `` pyramid.security.unauthenticated_userid``、および `` pyramid.security.effective_principals``のアナログです。要求を受け入れる関数ではなく、要求の属性である点を除いて、まったく同じように動作します。それらはプロパティなので、割り当てることはできません。古い関数ベースのAPIは非推奨になりました。</p>
</li>
<li><p class="first">Pyramidのコンソールスクリプト（ `` pserve``、 `` pviews``など）は、実行時にPythonインタプリタにカスタム引数を送ることができるようになりました。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">scripts</span><span class="o">.</span><span class="n">pserve</span> <span class="n">development</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</li>
<li><p class="first">`` pyramid.exceptions.BadCSRFToken``という名前の `` HTTPBadRequest``の特定のサブクラスを追加しました。これは `` check_csrf_token``の失敗に対応して呼び出されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1149を参照してください。</p>
</li>
<li><p class="first">`` UnencryptedCookieSessionFactoryConfig``に非常に似ていますが、署名にもっと焦点を当てた新しい `` SignedCookieSessionFactory``を追加しました。この関数のカスタムシリアライザ引数は、シリアライザにも署名を実行することを要求していた前のバージョンとは異なり、シリアライズにのみ焦点を合わせる必要があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1142を参照してください。 `` SignedCookieSessionFactory``を使って生成されたクッキーは `` UnencryptedCookieSessionFactory``を使って生成されたクッキーと互換性がないので、既存のユーザセッションデータはあなたがそれに切り替えると破壊されることに注意してください。</p>
</li>
<li><p class="first">独自のセッション実装を作成するためにフレームワーク実装者が使用できる汎用クッキーファクトリとして機能する新しい `` BaseCookieSessionFactory``を追加しました。これは、再利用、タイムアウト、および `` Session API`の適合性を適切に処理する辞書のようなオブジェクトを提供することに厳密に焦点を当てた、再利用可能なAPIを提供します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1142を参照してください。</p>
</li>
<li><p class="first">`` pyramid.request.Request.route_url``と `` pyramid.request.Request.resource_url``のアンカー引数とその派生派生物は、最小の適合性を保証するためにURLクォートでエスケープされます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1183を参照してください。</p>
</li>
<li><p class="first">外部URLが生成されているときに `` pyramid.request.Request.static_url``に `` _query``と `` _anchor``オプションを送ることを許可します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1183を参照してください。</p>
</li>
<li><p class="first">`` pyramid.request.Request.route_url``と `` pyramid.request.Request.resource_url``とその派生語に文字列を `` _query``引数として送ることができます。リストまたは辞書の代わりに文字列が送信されるとき。それはURLで引用されますが、 `` k = v``形式である必要はありません。これは、 `` x-www-form-urlencoded``とは異なるクエリ文字列形式を使用できるようにする場合に便利です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1183を参照してください。</p>
</li>
<li><p class="first">`` pyramid.testing.DummyRequest``には新しいWebOb 1.3 APIにマッチする `` domain``属性が追加されました。その値は `` example.com``です。</p>
</li>
</ul>
</div>
<div class="section" id="id38">
<h3>バグの修正<a class="headerlink" href="#id38" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ターゲットディレクトリ名がスラッシュで終わっても、動作していないプロジェクトディレクトリ構造が生成されないように、 `` pcreate``スクリプトを修正してください。これまでは、 `` pcreate -s startter / foo / bar / <a href="#id1"><span class="problematic" id="id2">``</span></a>と言っても、 `` pcreate -s starter / foo / bar``とは異なる出力を生成していました。前者は正しく機能しませんでした。</li>
<li>`` ACLAuthorizationPolicy``の `` principals_allowed_by_permission``メソッドを修正し、リソース上で呼び出し可能な `` __acl__``を予期します。以前は、呼び出し可能であれば `` __acl__``を呼び出そうとしませんでした。</li>
<li>`` pviews``スクリプトは、urlがトラバーサルを実行するためにカスタムリクエストメソッドを必要とするときには機能しませんでした。 `` pyramid.config.Configurator.add_request_method``で追加されたカスタムメソッドと記述子が表示され、トラバーサルを続行できます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1104を参照してください。</li>
<li>未使用の `` renderer``引数を `` Configurator.add_route``から削除してください。</li>
<li>`` BasicAuthenticationPolicy``が非ASCIIのユーザ名とパスワードで動作することを許可します。この文字セットはヘッダーの一部として渡されず、さまざまなブラウザーがUTF-8とLatin-1を交互に使用するため、ポリシーはまずUTF-8でデコードしようとし、Latin-1にフォールバックします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1170を参照してください。</li>
<li>`` &#64; view_defaults``は修飾されたクラスのメソッドとして定義されているnotfoundビューとforbiddenビューに適用されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1173を参照してください。</li>
</ul>
</div>
<div class="section" id="documentation">
<h3>ドキュメンテーション<a class="headerlink" href="#documentation" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>クイックツアーには&amp;quot;クイックチュートリアル&amp;quot;が追加されました</li>
<li>docsから `` pyramid_beaker``を削除しました。ビーカーはもはや維持されていません。代わりに、 `` pyramid_redis_sessions``をポイントします。</li>
<li>`` pyramid.interfaces.IRendererFactory``と `` pyramid.interfaces.IRenderer``のドキュメントを追加してください。</li>
</ul>
</div>
<div class="section" id="backwards-incompatibilities">
<h3>後方の非互換性<a class="headerlink" href="#backwards-incompatibilities" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` request.route_url``の `` _query``パラメータと `` request.resource_url``の `` query``パラメータ（とその変形）のキー/値は、 `` None``を文字列 `` &amp;#39;None&amp;#39;``として返し、結果のクエリ文字列を `` a = b＆key = None``のままにします。この状況では値が削除され、 `` a = b＆key = <a href="#id1"><span class="problematic" id="id2">``</span></a>というクエリ文字列が残っています。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1119を参照してください。</li>
</ul>
</div>
<div class="section" id="id39">
<h3>廃止<a class="headerlink" href="#id39" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.interfaces.ITemplateRenderer``インタフェースを非推奨にしてください。 MakoとChameleonのテンプレートバインディングを独自のパッケージに分割すると、定義が不明瞭になり、使用されなくなりました。</li>
<li>`` pyramid.session.UnencryptedCookieSessionFactoryConfig`` APIは廃止され、 `` pyramid.session.SignedCookieSessionFactory``に置き換えられました。 `` UnencryptedCookieSessionFactoryConfig``によって生成されたクッキーは古いリリースで生成されたクッキーと互換性がありますが、SignedCookieSessionFactoryによって生成されるクッキーはそうではありません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1142を参照してください。</li>
<li>`` pyramid.security.has_permission`` APIは廃止されました。代わりに、要求オブジェクトの新しく追加された `` has_permission``メソッドを使用してください。</li>
<li>`` pyramid.security.effective_principals`` APIは廃止されました。代わりに、要求オブジェクトの新しく追加された `` effective_principals``属性を使用してください。</li>
<li>`` pyramid.security.authenticated_userid`` APIは廃止されました。代わりに、要求オブジェクトの新しく追加された `` authenticated_userid``属性を使用してください。</li>
<li>`` pyramid.security.unauthenticated_userid`` APIは廃止されました。代わりに、要求オブジェクトの新しく追加された `` unauthenticated_userid``属性を使用してください。</li>
</ul>
</div>
<div class="section" id="dependencies">
<h3>依存関係<a class="headerlink" href="#dependencies" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>PyramidはWebOb&amp;gt; = 1.3（1.3+から `` webob.cookies.CookieProfile``を使います）に依存しています。</li>
</ul>
</div>
</div>
<div class="section" id="a2-2013-09-22">
<h2>1.5a2（2013-09-22）<a class="headerlink" href="#a2-2013-09-22" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id40">
<h3>特徴<a class="headerlink" href="#id40" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ユーザは、 `` <a href="#id575"><span class="problematic" id="id576">add_</span></a> {view、route、subscriber} _predicate``という名前のConfiguratorメソッドを `` factory``引数としてドット付きのPython名を提供できるようになりました（述語ファクトリを直接渡すのではなく、工場へ）。</li>
</ul>
</div>
<div class="section" id="id41">
<h3>バグの修正<a class="headerlink" href="#id41" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` __file__`属性を持たない名前空間パッケージのパッケージ名を解決する際に、 `` pyramid.path.package_name``に例外を修正しました。</li>
</ul>
</div>
<div class="section" id="id42">
<h3>後方の非互換性<a class="headerlink" href="#id42" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Pyramidは、デフォルトでMakoとChameleonのテンプレートシステムレンダラに依存したり、設定したりしません。デフォルトでこれらのテンプレートシステムを含めないということは、Pyramidコアの依存性が少なく、テンプレートアドオンの互換性がすぐに気になることなく将来のプラットフォームで実行できることを意味します。 Pyramidコアへのコミットアクセスを必要とせずに理解して気にするテンプレートシステムのアドオンをメンテナンスできるようになり、メンテナンスが少し効率的になります。彼らはピラミッドをインストールするときに乗るために来ることはありません。</p>
<p>つまり、Pyramid 1.5a2 +にアップグレードすると、これらのテンプレートシステムのいずれかを使用するプロジェクトで、アプリケーションがカメレオンまたはMakoテンプレートをレンダリングしようとすると、次のような終わりのトレースバックが表示されます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">ValueError</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">renderer</span> <span class="n">factory</span> <span class="o">.</span><span class="n">pt</span>
</pre></div>
</div>
<p>または:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">ValueError</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">renderer</span> <span class="n">factory</span> <span class="o">.</span><span class="n">mako</span>
</pre></div>
</div>
<p>または:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">ValueError</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">renderer</span> <span class="n">factory</span> <span class="o">.</span><span class="n">mak</span>
</pre></div>
</div>
<p>Makoテンプレートのサポートは `` pyramid_mako``というアドオンパッケージに移行し、カメレオンテンプレートのサポートは `` pyramid_chameleon``というアドオンパッケージに移行しました。これらのパッケージは、これらのテンプレートランゲージの古い組み込みサポートのためのドロップイン置換です。インストールするだけで設定を有効にして、 `` .pt``や `` .mako``（または `` .mak``）のレンダラファクトリを登録してアプリケーションを再び動作させるだけです。</p>
<p>ChameleonまたはMakoテンプレートレンダラーのサポートを既存のプロジェクトに再度追加するには、以下の手順に従います。</p>
<p>Makoテンプレートに依存している場合：</p>
<ul>
<li><p class="first">`` pyramid_mako``パッケージがインストールされていることを確認してください。これを行う1つの方法は、パッケージの `` setup.py``ファイルの `` install_requires``セクションに `` pyramid_mako``を追加した後、 `` setup.py develop``を再実行することです:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span><span class="p">(</span>
    <span class="c1">#...</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;pyramid_mako&#39;</span><span class="p">,</span>         <span class="c1"># new dependency</span>
        <span class="s1">&#39;pyramid&#39;</span><span class="p">,</span>
        <span class="c1">#...</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Pyramidの `` pyramid.config.Configurator``（プロジェクトの `` __init __。py``ファイルの `` main（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数であることが多い）をインスタンス化するアプリケーションの部分では、Pyramidに `` <cite>ピラミッド・マコ `</cite> includeme</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="o">.....</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_mako&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>カメレオンのテンプレートに依存している場合：</p>
<ul>
<li><p class="first">`` pyramid_chameleon``パッケージがインストールされていることを確認してください。これを行う1つの方法は、パッケージの `` setup.py``ファイルの `` install_requires``セクションに `` pyramid_chameleon``を追加し、 `` setup.py develop``を再実行することです:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span><span class="p">(</span>
    <span class="c1">#...</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;pyramid_chameleon&#39;</span><span class="p">,</span>         <span class="c1"># new dependency</span>
        <span class="s1">&#39;pyramid&#39;</span><span class="p">,</span>
        <span class="c1">#...</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Pyramidの <code class="docutils literal notranslate"><span class="pre">〜pyramid.config.Configurator`（プロジェクトの</span> <span class="pre">``</span> <span class="pre">__init</span> <span class="pre">__。py``ファイルの</span> <span class="pre">``</span> <span class="pre">main（）</span> <span class="pre">``関数であることが多い）をインスタンス化するアプリケーションの部分で、Pyramidに</span> <span class="pre">`</span> <span class="pre">`pyramid_chameleon</span></code> includeme</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="o">.....</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_chameleon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>これらのパッケージを互換性のために古い*ピラミッドにインストールすることもできます。 Pyramid 1.5に直ちにアップグレードしなくても、Pyramid 1.4のインストールで上記の手順を実行すると問題はありません。Pyramid 1.5にアップグレードすると、互換性があります。</p>
<p>コアからのMakoとChameleonのサポートを削除すると、 `` pyramid.renderers.render * <a href="#id1"><span class="problematic" id="id2">``</span></a>メソッドを使用するいくつかの単体テストが失敗することがあります。あなたのユニットテストのいずれかがMakoかChameleonのいずれかのテンプレートで `` pyramid.renderers.render（） <a href="#id3"><span class="problematic" id="id4">``</span></a>または `` pyramid.renderers.render_to_response（） <a href="#id5"><span class="problematic" id="id6">``</span></a>を呼び出す場合、 `` pyramid.config.Configurator``インスタンス上記のようにアドオンを含むように更新する必要があります。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ATest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_mako&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_it</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;mypkg:templates/home.mako&#39;</span><span class="p">,</span> <span class="p">{})</span>
</pre></div>
</div>
<p>または:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ATest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_chameleon&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_it</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;mypkg:templates/home.pt&#39;</span><span class="p">,</span> <span class="p">{})</span>
</pre></div>
</div>
</li>
<li><p class="first">Pyramidデバッグツールバーを使用している場合は、Pyramidを1.5a2 +にアップグレードする際に、Pyramid 1.5と互換性がないため、Pyramid_debugtoolbarパッケージを少なくとも1.0.8にアップグレードする必要があります。 a2 +はコアからのMakoサポートの削除によるものです。旧バージョンのPyramidsでもこの新しいバージョンのツールバーコードを使用するのは良いことです。</p>
</li>
<li><p class="first">`` <a href="#id577"><span class="problematic" id="id578">request.response_</span></a> * <a href="#id1"><span class="problematic" id="id2">``</span></a>属性を削除しました。これらの属性は、Pyramid 1.1以降、非推奨ポリシーに従って廃止されました。</p>
</li>
<li><p class="first">`` request.response``は `` pyramid.renderers.render（） `` APIを使うときにもはや変更されません。ほとんどのレンダラが `` request.response``レスポンスオブジェクトを変更します（例えば、JSONレンダラが `` application / json``に `` request.response.content_type``を設定します）が、これはレンダラが応答を生成する。それは `` pyramid.renderers.render（） <a href="#id1"><span class="problematic" id="id2">``</span></a>を呼び出す副作用として行われたときのバグでした。</p>
</li>
<li><p class="first">`` bfg2pyramid``フィーダスクリプトを削除しました。</p>
</li>
<li><p class="first">** <a href="#id1"><span class="problematic" id="id2">`</span></a>** pyramid.events.NewResponse``イベントは**応答コールバックが実行された後に送信されます。以前は応答コールバックが実行される前に実行されていました。理論的根拠：応答コールバックが前回ではなく仕事をした後に、応答を検査できる方が便利です。</p>
</li>
<li><p class="first">Pyramid 1.1以来廃止されていた `` pyramid.view.static``という名前のクラスを削除しました。その代わりに `` py_id_static.static_view``を `` use_subpath = True``引数とともに使用してください。</p>
</li>
<li><p class="first">Pyramid 1.1以来廃止されていた `` pyramid.view.is_response``関数を削除しました。代わりに `` pyramid.request.Request.is_response``メソッドを使用してください。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.add_route``： `` view``、 `` view_context``に以下の引数を渡す機能を削除しました。 `` view_for``、 `` view_permission``、 `` view_renderer``、 `` view_attr``です。これらの引数を使用することは、Pyramid 1.1以降では廃止されました。ビュー関連の引数を `` add_route``に渡すのではなく、 `` pyramid.config.Configurator.add_view``を別々に呼び出して、 `` route_name``引数を使ってビューをルートに関連づけます。これは `` pyramid.config.Configurator.add_static_view``関数にも影響します。なぜなら、それは `` add_route``に委譲するからです。</p>
</li>
<li><p class="first">`` pyramid.request.Request``オブジェクトに影響を及ぼす機能を辞書のように削除しました。以前は、 `` __getitem__``、 `` get``、 `` items``などのメソッドを使用して、WSGI環境の値にアクセスするためのメソッドを使用することができました。この動作はPyramid 1.1以降では廃止されました。代わりに、 `` request.environ``（実際の辞書）のメソッドを使用してください。</p>
</li>
<li><p class="first">`` pyramid.traversal.DefaultRootFactory``の古くからの互換性のあるハックを削除し、BFG 0.9との互換性のためのマッチディック値で工場の `` __dict__``を設定しました。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator`コンストラクタの `` renderer_globals_factory``引数と `` setup_registry``メソッドは削除されました。 `` pyramid.config.Configurator``の `` set_renderer_globals_factory``メソッドも削除されました。 （内部の） `` pyramid.interfaces.IRendererGlobals``インターフェースも削除されました。これらの引数、メソッド、およびインタフェースは、1.1以降で非難されていました。コンフィギュレータにレンダラグローバル値を提供するのではなく、ピラミッドの説明文書の&amp;quot;Hooks &amp;quot;章に書かれているように、 `` BeforeRender``イベントサブスクライバを使用してください。</p>
</li>
</ul>
</div>
<div class="section" id="id43">
<h3>廃止<a class="headerlink" href="#id43" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.config.Configurator.set_request_property``メソッドは、使用時に非推奨警告を発行するようになりました。 1.4ではdocs-deprecatedとなっていましたが、使用すると非推奨の警告は発行されませんでした。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2013-08-30">
<h2>1.5a1（2013-08-30）<a class="headerlink" href="#a1-2013-08-30" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id44">
<h3>特徴<a class="headerlink" href="#id44" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pyramid.httpexceptions.HTTPSuccessful``という名前の新しいhttp例外サブクラスが追加されました。このクラスを例外ビューの `` context``として使用して、すべての200シリーズ&amp;quot;例外&amp;quot;（たとえば &amp;quot;raise HTTPOk &amp;quot;）をキャッチすることができます。これはまた、 `` HTTPOk``例外自体を捕まえることができます。他の多くの例外（ `` HTTPNoContent``など）は `` HTTPOk``から継承されましたが、今はそうではありません。</p>
</li>
<li><p class="first">`` request.resource_url``と `` requestに新しい `` route_name``、 `` route_kw``、 `` route_remainder_name``引数を使うことで、より簡単に&amp;quot;hybrid &amp;quot; urldispatch / traversal URLを生成することができます。 resource_path``です。 &amp;quot;ハイブリッドURL生成&amp;quot;と題された&amp;quot;トラバースとURLディスパッチの結合&amp;quot;ドキュメントの章の新しいセクションを参照してください。</p>
</li>
<li><p class="first">Pyramid足場で二重の括弧をエスケープすることが可能になりました（エスケープされていない、これらは置換値を表しています）。 `` {{a } } <a href="#id1"><span class="problematic" id="id2">``</span></a>を使って&amp;quot;bare &amp;quot; `` {{a}} <a href="#id3"><span class="problematic" id="id4">``</span></a>を表すことができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/862を参照してください。</p>
</li>
<li><p class="first">リクエストに `` localizer``と `` locale_name``のプロパティー（reified）を追加してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/508を参照してください。 `` pyramid.i18n.get_localizer``と `` pyramid.i18n.get_locale_name``関数は、単にリクエストでこれらのプロパティを検索するようになりました。</p>
</li>
<li><p class="first">使用中のPythonバージョン、使用中のPyramidバージョン、現在インストールされているすべてのPythonディストリビューションのバージョン番号と場所を表示する `` pdistreport``スクリプトを追加してください。</p>
</li>
<li><p class="first">`` not_``クラスを使ってビュー、ルート、サブスクライバ述語の結果を逆転させる機能を追加します。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="k">import</span> <span class="n">not_</span>

<span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;myroute&#39;</span><span class="p">,</span> <span class="n">request_method</span><span class="o">=</span><span class="n">not_</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">myview</span><span class="p">(</span><span class="n">request</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>上記の例では、リクエストメソッドがPOSTでない場合（少なくとも他のビューがより特定的でない場合）、ビューが確実に呼び出されます。</p>
<p>`` pyramid.config.not_``クラスは、これらのコンテキストのいずれかで渡される述語値である任意の値に対して使用できます。</p>
<ul class="simple">
<li>`` pyramid.config.Configurator.add_view``</li>
<li>`` pyramid.config.Configurator.add_route``</li>
<li>`` pyramid.config.Configurator.add_subscriber``</li>
<li>`` pyramid.view.view_config``</li>
<li>`` pyramid.events.subscriber``</li>
</ul>
</li>
<li><p class="first">`` scripts / prequest.py``： `` PUT``と `` PATCH``要求を提出するためのサポートを追加します。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1033を参照してください。 `` OPTIONS``と `` PROPFIND``リクエストを提出するためのサポートを追加し、ユーザがスクリプトの `` --login``引数を使って要求の中で基本認証資格を指定できるようにします。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1039を参照してください。</p>
</li>
<li><p class="first">`` ACLAuthorizationPolicy``は、 `` __acl__``を呼び出し可能としてサポートしています。これは、プロパティが定義されていないときに `` context``で生成される可能性のある `` AttributeError``と動的プロパティ内のユーザ定義コードから生成される `` AttributeError``のあいまいさを取り除きます。このあいまいさを避けるために、動的ACLを呼び出し可能として定義することをお勧めします。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/735を参照してください。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.add_static_view``に渡すプロトコル相対URL（ `` // example.com / images``など）を許可します。これにより、外部でホストされている静的URLを現在のプロトコルに基づいて生成することができます。</p>
</li>
<li><p class="first">`` AuthTktAuthenticationPolicy``にはドメイン使用を設定するための2つの新しいオプションがあります：</p>
<ul class="simple">
<li>`` parent_domain``：もし設定されていれば、認証クッキーは親ドメイン上に設定されます。複数のサイトが同じドメインを共有している場合に便利です。</li>
<li>`` domain``：提供されていれば、いつものすべてのロジックをバイパスして、このドメインに対して常にクッキーが設定されます。</li>
</ul>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull/1028">https://github.com/Pylons/pyramid/pull/1028</a>、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1072およびhttps://github.com/Pylons/pyramid/pull/1078を参照してください。</p>
</li>
<li><p class="first">`` AuthTktAuthenticationPolicy``は `` include_ip = True``オプションを使うときにIPv6アドレスをサポートするようになりました。これは、仕様がIPv6を適切に扱う方法を定義していないため、代替の `` auth_tkt``実装とは互換性がありません。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/831を参照してください。</p>
</li>
<li><p class="first">`` pyramid.paster.get_appsettings``で可変引数を使うことができます。これにより、生成された `` alchemy`` scaffoldの `` initialize_db``スクリプトは `` a = 1 b = 2``の形式でオプションをサポートできるようになり、パラメータ化された `` .ini <a href="#id1"><span class="problematic" id="id2">``</span></a>ファイル、例えば `` initialize_myapp_db etc / development.ini a = 1 b = 2``のようなものです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/911を参照してください。</p>
</li>
<li><p class="first">`` request.session.check_csrf_token（） <a href="#id1"><span class="problematic" id="id2">``</span></a>メソッドと `` check_csrf``ビュー述語は、 `` X-CSRF-Token``という名前のHTTPヘッダーの値を考慮に入れます（ `` csrf_token彼らが常にやった <a href="#id3"><span class="problematic" id="id4">``</span></a>フォームパラメータ）。フォームパラメータが存在しない場合、ヘッダーが試されます。</p>
</li>
<li><p class="first">ビュールックアップは、コンテキストの継承階層に基づいて有効なビューを検索します。最も具体的なコンテキストに基づいてビューを最初に見つけようとします。そして、述部の失敗時に、スーパータイプのコンテキストによって検出されたビューをテストするために継承チェーンを上げます。過去には、ビューを含む最も特定の型だけがチェックされ、一致するビューが見つからない場合には、PredicateMismatchが発生しました。今や述語の不一致は、スーパータイプに登録された有効なビューを隠さない。ここでは今働く例があります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IResource</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>

    <span class="o">...</span>

<span class="nd">@view_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">IResource</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>

    <span class="o">...</span>

<span class="nd">@view_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">IResource</span><span class="p">,</span> <span class="n">request_method</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>

    <span class="o">...</span>

<span class="nd">@view_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">IResource</span><span class="p">,</span> <span class="n">request_method</span><span class="o">=</span><span class="s1">&#39;DELETE&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>

    <span class="o">...</span>

<span class="nd">@implementer</span><span class="p">(</span><span class="n">IResource</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MyResource</span><span class="p">:</span>

    <span class="o">...</span>

<span class="nd">@view_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">MyResource</span><span class="p">,</span> <span class="n">request_method</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">override_post</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>以前は、override_postビューの登録によって、MyResourceのコンテキストでgetおよびdeleteビューが非表示になり、GETメソッドまたはDELETEメソッドを使用しようとしたときに述語の不一致エラーが発生しました。今、ビューが見つかり、述語の不一致が発生しません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/786およびhttps://github.com/Pylons/pyramid/pull/1004およびhttps://github.com/Pylons/pyramid/pull/1046を参照してください。</p>
</li>
<li><p class="first">`` pserve``コマンドは、 `` -v``（または ``  -  verbose``）フラグと `` -q``（または `` --quiet``）フラグを取るようになりました。 `` pserve``からの出力は、これらのフラグを使って制御することができます。 `` -v``を複数回指定して冗長性を増やすことができます。 `` -q``は冗長に `` 0``を無条件に設定します。デフォルトの冗長レベルは `` 1``です。</p>
</li>
<li><p class="first"><a href="#id1"><span class="problematic" id="id2">``</span></a>錬金術 <a href="#id3"><span class="problematic" id="id4">``</span></a>足場テストは、より良いカバレッジを提供するようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1029を参照してください。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.add_route``メソッドは、外部URLをパターンとして呼び出すことをサポートします。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/611および&amp;quot;URL Route &amp;quot;という章の &amp;quot;URL Dispatch&amp;quot;章のドキュメントのセクションを参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id45">
<h3>バグの修正<a class="headerlink" href="#id45" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.httpexceptions.HTTPException``を例外ビューの <a href="#id1"><span class="problematic" id="id2">``</span></a>コンテキスト <a href="#id3"><span class="problematic" id="id4">``</span></a>として使用することは、例外ビューがデフォルトの例外ビューをオーバーライドするようにしたいときに、http関連の例外の非常に一般的なキャッチオールとして使用できませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/985を参照してください。</li>
<li>`` pyramid.reload_templates``の設定が真でカメレオンのテンプレートがリロードされ、マクロ（例えば `` foo＃macroname.pt``）のレンダラーの指定があった場合、テンプレートが再ロードされた後のテンプレートのレンダリングファイルを変更すると、マクロのレンダリングだけでなく、テンプレート本体全体が生成されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1013を参照してください。</li>
<li>仮想ルートをそのパターンに `` * traverse``を持つルートと組み合わせるとき、あいまいな問題を修正してください。このような構成で生成されたトラバーサルパスは、先頭のスラッシュがない要素ではなく正しいものになります。</li>
<li>状況によっては、前のdefname値を持つタプルを返すMakoレンダラーのバグを修正しました。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1037を参照してください。</li>
<li>`` pyramid.config.assets.PackageOverrides``オブジェクトがPEP302で指定された `` __loader__``オブジェクトのAPIを実装するようにします。存在する場合、インポータによって設定される `` __loader__``へのプロキシ。それ以外の場合は、 `` NotImplementedError``を送出します。これにより、Python 3.3では、Pyramidの静的ビューの上書きが適切に機能します（以前はそうではありませんでした）。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1015を参照してください。</li>
<li>`` mako_templating``：アップストリーム <a href="#id1"><span class="problematic" id="id2">``</span></a>マークアップ安全性（markupsafe） &amp;#39;がPython 3.2のサポートを廃止したため、 `` mako``の非インポート可能性に対する防御的な回避策を追加しました。 MarkupSafe 0.17とPython 3.2（MarkupSafe 0.17とPython 3.3の組み合わせ、またはサポートされているPython 2バージョンの組み合わせはOK）でも、MakoテンプレートはMarkupSafe 0.17とPython 3.2の組み合わせでは動作しなくなります。</li>
<li>スペースとドットは、makoレンダラーのテンプレートパスに含まれるようになりました。これは1.4a1で新しいmakodef構文のサポートが追加されたときに壊れていました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/950を参照してください。</li>
<li>`` pyramid.debug_authorization = true``は、認証ポリシーの `` permits``メソッドを呼び出す代わりに、 `` NO_PERMISSION_REQUIRED``で登録されたビューに対して `` Allowed``を正しく表示するようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/954を参照してください。</li>
<li>名前に高次の文字が含まれているテストファイルがパッケージされているため、Pyramidは一部のシステムにインストールできませんでした。これらのファイルは削除されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/981を参照してください。</li>
<li>`` pyramid.testing.DummyResource``は `` __bool__``を定義しなかったので、Python 3のコードは真実性を見つけるのに `` __len__``を使います。これは通常、DummyResourceのインスタンスを&amp;quot;truthy &amp;quot;ではなく &amp;quot;falsy &amp;quot;にしました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1032を参照してください。</li>
<li>`` alchemy``の足場は、テーブルが作成されているときにデータベースがMySQLだったときに壊れます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1049を参照してください。</li>
<li>`` current_route_url``メソッドは、デフォルトでURLにクエリ文字列を添付するようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/1040を参照してください。</li>
<li>`` pserve.cherrypy_server_runner``をPython 3と互換性のあるものにしましょう。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/718を参照してください。</li>
</ul>
</div>
<div class="section" id="id46">
<h3>後方の非互換性<a class="headerlink" href="#id46" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>pyramid.Requestの `` current_route_url``メソッドを修正しました。このメソッドは、以前はデフォルトでクエリ文字列のないURLを返していましたが、オーバーライドされていない限りクエリ文字列を添付しています。</li>
<li>置き換え値に `` / <code class="docutils literal notranslate"><span class="pre">が含まれている場合、</span> <span class="pre">``</span> <span class="pre">route_url``と</span> <span class="pre">``</span> <span class="pre">route_path</span></code> APIはもはや `` / <a href="#id1"><span class="problematic" id="id2">``</span></a>を <a href="#id3"><span class="problematic" id="id4">``</span></a>％2F``に引用しません。とにかくWSGIサーバーは常にスラッシュを引用符で囲まず、Pyramidは引用された値を決して見ないため、これは無意味でした。</li>
<li>リクエストの `` locale_name``属性を設定することも、リクエストの `` localizer``属性を設定することもできません。これらは現在、ドキュメントの&amp;quot;国際化&amp;quot;の章で説明されている機械を使用してロケール名とローカライザをそれぞれ検索する&amp;quot;reified &amp;quot;プロパティです。</li>
<li>スラッシュ（または任意の数のスラッシュ）で終わる値を持つ `` X-Vhm-Root``ヘッダーを送信すると、 <a href="#id1"><span class="problematic" id="id2">``</span></a>使用するときにURLが生成される前にスラッシュが削除されます。 request.resource_url``または `` request.resource_path``です。以前は、仮想ルートパスに後続のスラッシュが取り除かれていなかったため、URLの生成に影響します。</li>
<li>`` pyramid.interfaces.IResourceURL``インターフェースは、 `` virtual_path_tuple``と `` physical_path_tuple``という2つの新しい属性を持ちました。これらは、リソースのパス（物理的および仮想的）のタプル形式でなければなりません。</li>
</ul>
</div>
</div>
<div class="section" id="id47">
<h2>1.4（2012-12-18）<a class="headerlink" href="#id47" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id48">
<h3>ドキュメント<a class="headerlink" href="#id48" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ZODBチュートリアルの機能テストを修正</li>
</ul>
</div>
</div>
<div class="section" id="b3-2012-12-10">
<h2>1.4b3（2012-12-10）<a class="headerlink" href="#b3-2012-12-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>パッケージのリリースのみ、コードの変更はありません。 1.4b2は、tarballのディレクトリがないため、brownbagのリリースとなりました。</li>
</ul>
</div>
<div class="section" id="b2-2012-12-10">
<h2>1.4b2（2012-12-10）<a class="headerlink" href="#b2-2012-12-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id49">
<h3>ドキュメント<a class="headerlink" href="#id49" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>足場は現在PEP-8に準拠しています（少なくとも短期間は光る）。</li>
<li>チュートリアルの改善。</li>
</ul>
</div>
<div class="section" id="id50">
<h3>後方の非互換性<a class="headerlink" href="#id50" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.view.view_config``の `` _depth``引数を `` view_config``自身の呼び出しに関連した値を受け入れるように修正しました。したがって、以前に `` 1``またはそれ以上の値を期待していたとき、 `` view_config``の呼び出し元が `` venusian.attach``から1スタックフレーム離れていることを反映するために、この実装の詳細は現在隠されています。</li>
<li>上の &amp;quot;_depth&amp;quot;に記述されている変更と同様に、 `` _backframes``引数を `` pyramid.util.action_method``に変更しました。この議論は文書化されていませんが、狂人の中には野生でも使われるかもしれません。</li>
</ul>
</div>
</div>
<div class="section" id="b1-2012-11-21">
<h2>1.4b1（2012-11-21）<a class="headerlink" href="#b1-2012-11-21" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id51">
<h3>特徴<a class="headerlink" href="#id51" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pyramid.response.Response``オブジェクトがビューから返される可能性があることを予期する小さな微小速度の拡張です。ビューによって返されるオブジェクトのクラスがこのクラスである場合、いくつかのコードはショートカットです。同様の微小最適化が `` pyramid.request.Request.is_response``に対して行われました。</p>
</li>
<li><p class="first">`` p * <code class="docutils literal notranslate"><span class="pre">コマンド（</span> <span class="pre">``</span> <span class="pre">pserve</span></code>、 `` pshell``、 `` pviews``など）で `` a = 1b = 2``のように可変引数を使うことができるようにしました。 `` pshell etc / development.ini http_port = 8080`のように、パラメータ化された <a href="#id1"><span class="problematic" id="id2">`</span></a>.ini`ファイルで値を入力することができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/714を参照してください。</p>
</li>
<li><p class="first">Pyramidイベントハンドラのやや高度であいまいな機能は、&amp;quot;マルチインターフェース&amp;quot;通知を処理する能力です。これらの通知は、伝統的に、複数のオブジェクトを加入者呼び出し可能に提示してきた。たとえば、イベントが次のようなコードで送信された場合：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">registry</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<p>過去にこのようなイベントを捕まえるには、イベントとコンテキストの両方を引数リストに記述したイベントサブスクライバを作成して登録する必要がありました:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">SomeEvent</span><span class="p">,</span> <span class="n">SomeContextType</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">asubscriber</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>このように登録された多くのサブスクライブ可能なコールバックでは、サブスクライブ可能なサブスクライバのロジックが、2番目以降の引数を完全に無視するのが一般的でした（上記の例の <cite>context`は無視されるかもしれません）。とにかくイベント。通常、 `</cite> event.context`またはそれに類するものを使って同じ値を得ることができます。</p>
<p>あなたが通常は加入者の呼び出し可能な本体で無視した余分な引数を入れる必要があったという事実は、サブスクライバが実行される状況のセットを狭めるために使用される&amp;quot;サブスクライバ述語&amp;quot;が追加されるまで、以前の1.4アルファリリース。それらが追加されると、加入者述部は加入者呼び出し可能変数と同じ引数リストと引数を受け入れる必要があったため、煩わしさが増えました。したがって、たとえば、あなたのコードに次の2つの加入者登録があるとします。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">SomeEvent</span><span class="p">,</span> <span class="n">SomeContextType</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">asubscriber</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="nd">@subscriber</span><span class="p">(</span><span class="n">SomeOtherEvent</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">asubscriber</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>また、サブスクライバ述語:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">SomeEvent</span><span class="p">,</span> <span class="n">SomeContextType</span><span class="p">],</span> <span class="n">mypredicate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">asubscriber1</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="nd">@subscriber</span><span class="p">(</span><span class="n">SomeOtherEvent</span><span class="p">,</span> <span class="n">mypredicate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">asubscriber2</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>既存の `` mypredicate``サブスクライバ述語が、 `` __call__``に1つの引数しか受け付けないように記述されていた場合、そのサブスクライバインタフェースリストに複数のインタフェースを指定したサブスクリプションに対しては使用できません。同様に、2つの引数を受け入れたサブスクライバ述語を記述した場合は、1つのインタフェースタイプのみという名前の登録に対しては使用できません。</p>
<p>たとえば、この述部を作成したとします:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyPredicate</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># portions elided...</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">event</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">foo</span>
</pre></div>
</div>
<p>上記の例では、 `` asubscriber1``に対して実行しようとすると、実行時にTypeErrorで失敗し、何かが呼び出されようとしていると主張しています多くの議論。</p>
<p>この制限を回避するために、あなたは、 `` mypredicate`述語を、 `` __call__``で単一の `` event``引数（SomeOtherEventオブジェクト）*または*の一対の引数のいずれかを受け取るように設計する義務がありました（SomeEventオブジェクトとSomeContextTypeオブジェクト）、おそらくこのような何かをすることによって:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyPredicate</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># portions elided...</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">event</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">foo</span>
</pre></div>
</div>
<p>これは混乱して悪いものでした。</p>
<p>人々が加入者呼び出し可能変数への未使用引数を無視し、イベント加入者と加入者述語の間の関係を正規化するために、加入者と加入者述語の両方が購読していても単一の `` event``引数だけを受け入れることができるようになりました。複数のインタフェースを含む通知の場合1つの引数のみを受け入れるサブスクライバとサブスクライバ述語は、 `` notify``に渡される最初のオブジェクトを受け取ります。これは一般的に（常にではありませんが）イベントオブジェクトです。サブスクリプション検索に含まれる他のオブジェクトは破棄されます。複数のインタフェースにサブスクライブしていても `` event``だけを受け付けるイベントサブスクライバを書くことができるようになりました:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">SomeEvent</span><span class="p">,</span> <span class="n">SomeContextType</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">asubscriber</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="c1"># this will work!</span>
</pre></div>
</div>
<p>これにより、特にイベントオブジェクト自体以外のサブスクライバで引数を使用しない場合、サブスクライバ呼び出し可能パラメータをサブスクリプションタイプに不必要に一致させる必要がなくなります。</p>
<p>ただし、イベントオブジェクトが `` notify``の呼び出しの最初のオブジェクトでない場合、問題に遭遇します。たとえば、最初にcontext引数を指定してnotifyを呼び出すと、</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">registry</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
</pre></div>
</div>
<p>イベントのみの機能を利用することはできません。それは&amp;quot;仕事&amp;quot;ですが、あなたのイベントハンドラが受け取ったオブジェクトはイベントオブジェクトではなく、コンテキストオブジェクトになります。これはあまり役に立ちません:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">SomeContextType</span><span class="p">,</span> <span class="n">SomeEvent</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">asubscriber</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="c1"># bzzt! you&#39;ll be getting the context here as ``event``, and it&#39;ll</span>
    <span class="c1"># be useless</span>
</pre></div>
</div>
<p>既存の複数引数のサブスクライバは引き続き問題なく動作します。したがって、システムが複数のインターフェイスを使用して通知し、最初のインターフェイスがイベントインターフェイスでない場合は、引き続き使用する必要があります。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">SomeContextType</span><span class="p">,</span> <span class="n">SomeEvent</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">asubscriber</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="c1"># this will still work!</span>
</pre></div>
</div>
<p>イベントのみの機能により、複数のインタフェースの加入者登録と単一のインタフェースの加入者登録の両方で要求引数のみを受け入れる加入者述部を使用することができます。サブスクリプション・タイプの引数に応じて、少し異なる述語を作成する必要はありません。代わりに、すべてのサブスクライバ述語を書くだけで、彼らは `` __call__``に `` event``を受け取り、イベントを最初の引数として使うサブスクリプションのすべての登録にわたって有用です。ちょうど <a href="#id1"><span class="problematic" id="id2">``</span></a>イベント <a href="#id3"><span class="problematic" id="id4">``</span></a>。</p>
<p>ただし、加入者呼び出し可能パラメータと同じ述語が適用されます。マルチインタフェース・イベントに加入していて、最初のインタフェースがイベント・インタフェースでない場合、述語は正しく機能しません。そのような場合、述部の `` __call__``引数の順序と構成をインタフェースの順序付けと一致させる必要があります。例えば、サブスクリプションの登録が `` [SomeContext、SomeEvent] <a href="#id1"><span class="problematic" id="id2">``</span></a>を使用する場合、述語の `` __call__``メソッドのパラメータの順序でそれを反映させる必要があります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">event</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
<p>tl; dr：1）マルチインタフェースサブスクリプションを使用する場合は、最初のサブスクリプション登録引数として常にイベントタイプを使用し、2）1がtrueの場合は、サブスクライバサブスクライバパラメータリストに &amp;quot;event&amp;quot;加入者に通知されるインターフェイスの数。この組み合わせにより、サブスクライバ述語の再利用性が最大限に向上し、お客様の思考が最小限に抑えられます。責任をもって飲む。</p>
</li>
</ul>
</div>
<div class="section" id="id52">
<h3>バグの修正<a class="headerlink" href="#id52" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` debug_routematch``設定が真であるか、 `` pviews``コマンドが使用されたときに、ルートとビューの述語に属性 `` __text__``を配置しようとすると失敗しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/727を参照してください。</li>
</ul>
</div>
<div class="section" id="id53">
<h3>ドキュメンテーション<a class="headerlink" href="#id53" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>チュートリアルのソースファイルを、それぞれが使用する足場によってレンダリングされたファイルと同期させます。</li>
</ul>
</div>
</div>
<div class="section" id="a4-2012-11-14">
<h2>1.4a4（2012-11-14）<a class="headerlink" href="#a4-2012-11-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id54">
<h3>特徴<a class="headerlink" href="#id54" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.authentication.AuthTktAuthenticationPolicy``は、 `` sha512``のような新しいハッシュアルゴリズムをサポートするように更新されました。既存のアプリケーションでは、可能であれば、デフォルトのmd5ハッシュよりもセキュリティを強化するために、更新を考慮する必要があります。</li>
<li>`` effective_principals``ルートとビュー述語を追加しました。</li>
<li>`` authenticated_userid``または `` effective_principals``で返されたプリンシパルのリストの1つであるuseridが `` system.Everyone``または `` system.Authenticated &amp;quot;のいずれかの文字列になることを許可しないでください`` pyramid.authentication``に組み込まれているビルトインの認証ポリシーが使用されているときに使用します。これらの2つの文字列は、Pyramidによる内部使用のために予約されており、有効なユーザーIDとして受け入れられません。</li>
<li>`` pyramid.authentication.RepozeWho1AuthenticationPolicy``からのデバッグログを少し改善しました。</li>
<li>`` pyramid.security.view_execution_permitted``は、ビューが見つからない場合に `` True``を返すために使用されます。存在しないビューが実行可能であると主張するのは意味をなさないので、この場合は `` TypeError``例外が発生します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/299を参照してください。</li>
<li>`` pyramid.view.view_config``への `` _depth``引数を許可します。これは、view_configによく似たカスタムデコレータを提供したい他のソフトウェアによるデコレータのコンポジションの再利用を制限します。</li>
<li>iterableのデコレータを `` pyramid.config.Configurator.add_view``に渡せるようにします。これにより、デコレータを自分で組み合わせなくても、ビューを複数のデコレータでラップすることができます。</li>
</ul>
</div>
<div class="section" id="id55">
<h3>バグの修正<a class="headerlink" href="#id55" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>過去にレンダラーが `` None``を返した場合、結果として得られるレスポンスの本文は空の文字列に明示的に設定されます。代わりに、ボディは変更されずにそのまま残されます。レンダラーは、例えば `` request.response.body = b&amp;#39;foo&amp;#39;``を使って本体自体を設定することができます。レンダラーによって設定されたボディは、途中でunmolestされます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/709を参照してください。</li>
<li>まれなケースでは、 `` pyramid_excview_tween_factory``が、リクエストの属性として `` request_iface``を探す `` KeyError``を誤って呼び起こした可能性があります。この場合、もはや失敗しません。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/700を参照してください。</li>
<li>`` match_param``と `` physical_path``述語の実装の潜在的なエラー状態をより寛容にしてください。例外を発生させる代わりにFalseを返します。</li>
<li>Python 3.xでは、 `` pyramid.view.render_view``はバイト/ユニコードの不一致のため正しく機能しませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/721を参照してください。</li>
</ul>
</div>
<div class="section" id="id56">
<h3>廃止<a class="headerlink" href="#id56" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyhalid.authentication.AuthTktAuthenticationPolicy``は、アプリケーションが明示的に `` hashalg``引数を渡さずにポリシーを使用している場合に警告を出します。これは、デフォルトでは理論的には衝突攻撃の対象と見なされる&amp;quot;md5 &amp;quot;であるためです。 &amp;quot;md5 &amp;quot;が本当に必要な場合は、警告を取り除くために明示的に指定する必要があります。</li>
</ul>
</div>
<div class="section" id="id57">
<h3>ドキュメンテーション<a class="headerlink" href="#id57" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.authentication.AuthTktAuthenticationPolicy``を使用するチュートリアルはすべて、 `` hashalg``引数として明示的に `` sha512``を渡します。</li>
</ul>
</div>
<div class="section" id="internals">
<h3>内部<a class="headerlink" href="#internals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.config.util``から `` pyramid.util``に `` TopologicalSorter``を移動し、 `` Pyramid.config.util``から `` pyramid.exceptions``に `` CyclicDependencyError``を移動し、 `` Sentinel``に `` Singleton``の名前を変更し、 `` pyramid.config.util``から `` pyramid.util``に移動します。これは、ある日Pyramid.config.utilからAPIのようなものを移動させるためのものです。ピラミッド以外のコードからそのパッケージをインポートしないでください。 TopologicalSorterはまだAPIではありませんが、1つになる可能性があります。</li>
<li>ピラミッドの ​​`` __init __。py``の中で行われる `` pyramid.request.Request``と `` pyramid.response.Response``の陰影のあるmonkeypatchingを取り除きましょう。 Webobはもはやこれが行われていることに依存しません。代わりに、Pyramid RequestクラスのResponseClass属性がPyramid応答クラスに割り当てられます。これでWebObを満たし、以前と同じようにMonkeypatchingで動作します。</li>
</ul>
</div>
</div>
<div class="section" id="a3-2012-10-26">
<h2>1.4a3（2012-10-26）<a class="headerlink" href="#a3-2012-10-26" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id58">
<h3>バグの修正<a class="headerlink" href="#id58" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>match_param述部のtextメソッドは、値をソートするために修正されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/705の一部</li>
<li>1.4a `` pyramid.scripting.prepare``は、同じ名前の1.3系列関数とは異なる動作をします。特に、リクエストを渡すと、1.3のようにリクエストの `` registry``属性を設定しません。症状は、 `` registry``属性を持たない `` pyramid.paster.bootstrap``（関数を使用する）へのリクエストを渡すと、レジストリがPyramidのリクエストに添付されることが想定されます。この仮定は、1.3では可能であるが、1.4では可能ではない。前提は1.4でも可能です（レジストリがブートストラップに渡されたリクエストに添付されているか準備中です）。</li>
<li>マクロ名を持つカメレオンZPTレンダラに名前を付けたビュー設定（例えば、 `` renderer = &amp;#39;some / template＃somemacro.pt``など）とそのビュー内のマクロ名のないビュー設定を登録するとき同じテンプレート（例えば、 `` renderer = &amp;#39;some / template.pt&amp;#39;``）を使うと、内部キャッシングは2つを混乱させる可能性があり、あなたのコードはもう一方の代わりにレンダリングされる可能性があります。</li>
</ul>
</div>
<div class="section" id="id59">
<h3>特徴<a class="headerlink" href="#id59" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` request_param``のview / route述部に複数の値をシーケンスとして指定できるようにします。以前は、単一の文字列値のみが許可されていました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/705を参照してください。</li>
<li>足場の `` .ini``ファイルに置かれたドキュメンテーションセクションへの参照に関するコメント。</li>
<li>`` pyramid.authentication.BasicAuthAuthenticationPolicy``にHTTP基本認証ポリシーを追加しました。</li>
<li>コンフィギュレータ `` testing_securitypolicy``メソッドは、作成したポリシーオブジェクトを返します。</li>
<li>コンフィギュレータ `` testing_securitypolicy``メソッドは、 `` remember_result``と `` forget_result``という2つの新しい引数を受け取ります。これらの値が指定された場合、ポリシーの `` remember``メソッドと `` forget``メソッドの結果にそれぞれ影響します。</li>
<li>`` testing_securitypolicy``によって作成されたDummySecurityPolicyは、 `` forget``メソッドが呼び出されたときにポリシーに <a href="#id1"><span class="problematic" id="id2">``</span></a>忘れられた <a href="#id3"><span class="problematic" id="id4">``</span></a>値（ `` True``値）を設定するようになりました。</li>
<li>`` testing_securitypolicy``で作成されたDummySecurityPolicyは、 `` remember``メソッドが呼び出されたときに呼び出される `` principal``引数の値である `` remembered``値をポリシーに設定するようになりました。</li>
<li>新しい `` physical_path``ビュー述語。指定する場合、この値は、この述部が真と一致するためにトラバーサルによって検出されたコンテキストの物理的なトラバーサルパスを表す文字列またはタプルでなければなりません。例： `` physical_path = &amp;#39;/&amp;#39; <a href="#id1"><span class="problematic" id="id2">``</span></a>または `` physical_path = &amp;#39;/ a / b / c``または `` physical_path =（&amp;#39; &amp;#39;、&amp;#39; a &amp;#39;、&amp;#39; b &amp;#39;、&amp;#39; c &amp;#39;） `` 。これはパス接頭辞の一致または正規表現ではなく、パス全体の一致です。これは、あるオブジェクトがトラバースされているときに常にビューを表示したいときに便利ですが、どのようなオブジェクトであるかを確かめることができないので、 `` context``述語を使うことはできません。スラッシュ文字またはタプル要素の間の個々のパス要素は、リソース名のUnicode表現である必要があります。</li>
</ul>
</div>
</div>
<div class="section" id="a2-2012-09-27">
<h2>1.4a2（2012-09-27）<a class="headerlink" href="#a2-2012-09-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id60">
<h3>バグの修正<a class="headerlink" href="#id60" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>アセット仕様のMako defnamesとChameleonマクロ名を調べようとするとき、ファイル名にハイフンが含まれている可能性があることを考慮してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/692を参照してください。</li>
</ul>
</div>
<div class="section" id="id61">
<h3>特徴<a class="headerlink" href="#id61" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しい `` pyramid.session.check_csrf_token``という便利な関数が追加されました。</li>
<li>`` check_csrf``ビュー述語が追加されました。たとえば、 `` config.add_view（someview、check_csrf = True） <a href="#id1"><span class="problematic" id="id2">``</span></a>を実行することができます。述語がチェックされると、 `` request.params``の `` csrf_token``の値がリクエストのセッションのCSRFトークンと一致すると、ビューは実行が許可されます。そうしないと、実行が許可されません。</li>
<li>alchemyテンプレートに `` Base.metadata.bind = engine``を追加して、必要に応じて定義されたテーブルが機能するようにしてください。</li>
</ul>
</div>
<div class="section" id="id62">
<h3>ドキュメンテーション<a class="headerlink" href="#id62" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` Base.metadata.bind = engine``を錬金術足場に挿入した後に必要な変更を加えて、wiki2 SQLAチュートリアルを更新してください。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2012-09-16">
<h2>1.4a1（2012-09-16）<a class="headerlink" href="#a1-2012-09-16" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id63">
<h3>バグの修正<a class="headerlink" href="#id63" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>1.3のブランチからのフォワードポート：認証ポリシーが設定されていないとき、 `` pyramid.security.effective_principals``の呼び出しは無条件に空のリストを返します。これは間違っていたので、無条件に `` [Everyone] <a href="#id1"><span class="problematic" id="id2">``</span></a>を返さなければなりませんでした。</li>
<li>明示的なurlディスパッチ正規表現にはコロンが含まれるようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/629">https://github.com/Pylons/pyramid/issues/629</a></li>
<li>Python 3.2で少なくとも1つの64ビットUbuntuシステムで、 `` view_config``デコレータを使用すると、 `` RuntimeError：辞書はイタレーションの間にサイズが変更されました.``例外が発生しました。それはもはやありません。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/635を参照してください。</li>
<li>Mako Templatesルックアップで、URIがすでに調整されているかどうかを確認し、資産仕様に戻します。通常、継承されたテンプレートまたはインクルードされたコンポーネントで発生します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/606">https://github.com/Pylons/pyramid/issues/606</a> <a class="reference external" href="https://github.com/Pylons/pyramid/issues/607">https://github.com/Pylons/pyramid/issues/607</a></li>
<li>Mako Templatesルックアップでは、継承をアセット仕様と混合するときに、絶対URI（makoディレクトリを使用）をチェックします。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/662">https://github.com/Pylons/pyramid/issues/662</a></li>
<li>HTTP Acceptヘッダーが正規化されていないため、競合するビューの登録が見逃される可能性があります。大文字と小文字が異なる2つのビュー（ &amp;#39;text / html&amp;#39;対 &amp;#39;text / HTML&amp;#39;）はエラーになります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull/620">https://github.com/Pylons/pyramid/pull/620</a></li>
<li>Python 3で動作するPyramidアプリケーションで複数のビューを `` accept``述語で登録すると、 `` TypeError：unorderable types：function（）&amp;lt;function（） <a href="#id1"><span class="problematic" id="id2">``</span></a>例外を受け取った可能性があります。</li>
</ul>
</div>
<div class="section" id="id64">
<h3>特徴<a class="headerlink" href="#id64" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Python 3.3との互換性。</p>
</li>
<li><p class="first">Configurator.add_directiveは、部分名や `` __call__``を実装しているオブジェクトのような任意の呼び出し可能ファイルを受け付け、 `` __name__``や `` __doc__``属性を持たないようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/621およびhttps://github.com/Pylons/pyramid/pull/647を参照してください。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.add_view_predicate``、 `` pyramid.config.Configurator.add_route_predicate``、および `` pyramid.config &amp;#39;&amp;#39;を介して、ビュー作成者が使用するサードパーティのカスタムビュー、ルート、サブスクライバ述語を追加できるようになりました。 .Configurator.add_subscriber_predicate``。たとえば、これを行う:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">add_view_predicate</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="n">my</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">ABCPredicate</span><span class="p">)</span>
</pre></div>
</div>
<p>ビュー作成者は、その述部を構成したアプリケーションでこれを行うことができます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@view_config</span><span class="p">(</span><span class="n">abc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>`` add_route``と `` add_subscriber``にも同様の機能があります。詳細については、「フック」の章の「サードパーティのビュー、ルート、またはサブスクライバ述語の追加」を参照してください。</p>
<p>上記の機能をサポートするために加えられた変更は、同じ&amp;quot;注文&amp;quot;を使用して登録されたアクションだけが互いに競合する可能性があることに注意してください。以前は、異なる注文で登録された行動が衝突する可能性がありましたが、私の知る限り、この行動には何も依存していませんでした（それはちょっとばかげていました）。</p>
</li>
<li><p class="first">オブジェクトのクラスに対して `` __json__``メソッドを定義することで、カスタムオブジェクトをPyramidで簡単にJSON直列化可能にすることができます。このメソッドは、 `` json.dumps``（int、リスト、辞書、文字列など）によってネイティブにシリアライズ可能な値を返さなければなりません。</p>
</li>
<li><p class="first">JSONレンダラーでは、未知のオブジェクトをJSONシリアライズに変換するカスタムタイプアダプタの定義が可能になりました。</p>
</li>
<li><p class="first">今回のリリースでは、 `` request_method``述部は、 `` GET``を使用するときに `` HEAD``が暗示されていることを意味します。例えば、 `` &#64;view_config（request_method = &amp;#39;GET&amp;#39;） <a href="#id1"><span class="problematic" id="id2">``</span></a>を使うことは `` &#64;view_config（request_method =（ &amp;#39;GET&amp;#39;、 &amp;#39;HEAD&amp;#39;）） <a href="#id3"><span class="problematic" id="id4">``</span></a>を使うのと同じです。 &#64;view_config（request_method =（ &amp;#39;GET&amp;#39;、 &amp;#39;POST&amp;#39;） <a href="#id5"><span class="problematic" id="id6">``</span></a>は、 `` &#64;view_config（request_method =（ &amp;#39;GET&amp;#39;、 &amp;#39;HEAD&amp;#39;、 &amp;#39;POST&amp;#39;） <a href="#id7"><span class="problematic" id="id8">``</span></a>を使うのと同じです。はボディを省略したGETの変種で、WebObはHEADが使用されたときに空のボディを返す特別なサポートを持っています。</p>
</li>
<li><p class="first">`` config.add_request_method``は任意の呼び出し可能な要求オブジェクトの拡張をサポートするために導入されました。このメソッドは、以前の `` config.set_request_property``を拡張し、メソッドとプロパティをサポートします。この方法では、バージョン1.3での `` config.set_request_property``よりも要求生成時に実行されるコードが少なくなりました。</p>
</li>
<li><p class="first">`` query``引数が指定されていても空であれば `` request.resource_url``で生成されたURLに <a href="#id1"><span class="problematic" id="id2">``</span></a>？ <a href="#id3"><span class="problematic" id="id4">``</span></a>を加えないでください。</p>
</li>
<li><p class="first">`` _query``引数が指定されていても空であれば `` request.route_url``で生成されたURLに <a href="#id1"><span class="problematic" id="id2">``</span></a>？ <a href="#id3"><span class="problematic" id="id4">``</span></a>を加えないでください。</p>
</li>
<li><p class="first">静的ビューマシンは、 `` HTTPNotFound``と `` HTTPMovedPermanently``の例外を発生させます（戻り値ではなく）。これはNot Found View（および他の例外ビュー）によって捕捉される可能性があります。</p>
</li>
<li><p class="first">Makoレンダラは現在、資産仕様のdef名をサポートしています。 def名がアセット仕様にある場合、システムはテンプレート内でテンプレートdefをレンダリングし、結果を返します。資産仕様の例は `` package：path / to / template＃defname.mako``です。これはテンプレート全体をレンダリングするのではなく、 `` template.mako``テンプレートの中で `` defname``という名前のdefをレンダリングします。ビューから <a href="#id1"><span class="problematic" id="id2">``</span></a>（ &amp;#39;defname&amp;#39;、{}） <a href="#id3"><span class="problematic" id="id4">``</span></a>の形でタプルを返す古い方法は、下位互換性のためにサポートされています。</p>
</li>
<li><p class="first">Chameleon ZPTレンダラはアセット仕様でマクロ名を受け入れるようになりました。アセット仕様にマクロ名がある場合、システムは `` define-macro``としてリストされたマクロをレンダリングし、テンプレート全体をレンダリングする代わりに結果を返します。資産仕様の例： `` package：path / to / template＃macroname.pt``。これは、templae全体ではなく、 `` template.pt``テンプレート内で `` macroname``として定義されたマクロをレンダリングします。</p>
</li>
<li><p class="first">述部の不一致例外がある場合（述部が機能しないためにビューが特定の要求に一致しない場合に表示されます）、例外には一致しなかった述部のテキスト記述が含まれるようになりました。</p>
</li>
<li><p class="first">Configuratorに `` add_permission``指示メソッドが追加されました。この指令は、ピラミッドのイントロスペクションシステムにイントロスペクト可能な自立型パーミッションを登録します。 Pyramidの上に構築されたフレームワークは、 `` permissions``のイントロスペクション可能なカテゴリデータを使用して、実行中のシステムでサポートされているパーミッションの包括的なリストを構築することができます。このメソッドが追加される前に、権限は `` add_view``呼び出しで名前を付ける副作用としてこのイントロスペクティブカテゴリに既に登録されていました。このメソッドは、アクセス権を `` permissions``に入れることを可能にします。関連するビューと共に名前を付けることなく、「イントロスペクティブなカテゴリ」を作成します。 `` add_permission``の使用例を次に示します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_permission</span><span class="p">(</span><span class="s1">&#39;view&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">`` UnencryptedCookieSessionFactoryConfig``は、セッションがマーシャリングされる方法に影響を与えるために使われる `` signed_serialize``と `` signed_deserialize``フックを受け付けるようになりました（デフォルトでHMAC + pickleで行われます）。</p>
</li>
<li><p class="first">`` pyramid.testing.DummyRequest``は、 `` set_property``のような `` pyramid.util.InstancePropertyMixin``クラスによって提供されるメソッドをサポートするようになりました。</p>
</li>
<li><p class="first">`` config.set_request_property``または `` config.add_request_method``を介して追加されたリクエストプロパティとメソッドはtweensで利用できるようになりました。</p>
</li>
<li><p class="first">`` config.set_request_property``または `` config.add_request_method``で追加されたリクエストプロパティとメソッドは、 `` pyramid.paster.bootstrap``から返されたリクエストオブジェクトで利用可能になりました。</p>
</li>
<li><p class="first">`` bootstrap``中の環境要求の `` request.context``は、提供された要求にコンテキストがまだ設定されていない場合、ルートオブジェクトになりました。</p>
</li>
<li><p class="first">`` pyramid.decorator.reify``関数はAPIになり、APIドキュメントに追加されました。</p>
</li>
<li><p class="first">`` testing.testConfig（...）： <a href="#id1"><span class="problematic" id="id2">``</span></a>などのテストでコンフィギュレータを生成するために使用できる `` pyramid.testing.testConfig``コンテキストマネージャを追加しました。</p>
</li>
<li><p class="first">ユーザーは、新しい `` request.invoke_subrequest`` APIを使用して、ビューコード内からサブリクエストを呼び出すことができます。</p>
</li>
</ul>
</div>
<div class="section" id="id65">
<h3>廃止<a class="headerlink" href="#id65" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.config.Configurator.set_request_property``はドキュメント化されていません。このメソッドは使用可能ですが、より機能的な `` pyramid.config.Configurator.add_request_method``を代わりに使用する必要があります（すべて同じ機能を持ちますが、メソッドでリクエストオブジェクトを拡張することもできます）。</li>
</ul>
</div>
<div class="section" id="id66">
<h3>後方の非互換性<a class="headerlink" href="#id66" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ピラミッドルータは、 `` bfg.routes.route``または `` bfg.routes.matchdict``の値をリクエストのWSGI環境辞書に追加しなくなりました。これらの値は `` repoze.bfg`` 1.0で文書廃止されました（事実上7つのマイナーリリース前）。コードがこれらの値に依存している場合は、代わりにrequest.matched_routeとrequest.matchdictを使用してください。</li>
<li>environ辞書を `` pyramid.traversal.ResourceTreeTraverser .__ call__``（別名 `` ModelGraphTraverser .__ call__``）に直接渡すことはもはや不可能です。代わりに、要求オブジェクトを渡す必要があります。リクエストの代わりに環境を渡すと、Pyramid 1.1以降の廃止予定の警告が生成されました。</li>
<li>`` webob.request.LegacyRequest``を要求ファクトリとして使用すると、Pyramidは正しく動作しなくなります。 LegacyRequestクラスのインスタンスには、文字列を返す `` request.path_info``があります。このPyramidのリリースでは、 `` request.path_info``が無条件にUnicodeになると仮定しています。</li>
<li>`` get_renderer``、 `` get_template``、 `` render_template``、および `` render_template_to_response``という名前の `` pyramid.chameleon_zpt``と `` pyramid.chameleon_text``の関数は削除されました。これらはPyramid 1.0以降のインポート時に廃止予定の警告を出しました。 pyramid.renderers.get_renderer（）。implementation（） <a href="#id1"><span class="problematic" id="id2">``</span></a>、 `` pyramid.renderers.render（） <a href="#id3"><span class="problematic" id="id4">``</span></a>または `` pyramid.renderers.render_to_response``を使用してください。これらの機能の代わりにそれぞれ機能します。</li>
<li>`` pyramid.configuration``モジュールが削除されました。 Pyramid 1.0以降、非推奨となっていたため、使用時に非推奨警告が表示されました。代わりに `` pyramid.config``を使用してください。</li>
<li>`` pyramid.paster.PyramidTemplate`` APIが削除されました。ピラミッド1.1以来廃止され、輸入に関する警告が出されました。あなたのコードがこれに依存している場合は、代わりに `` pyramid.scaffolds.PyramidTemplate``をインポートするようにコードを調整してください。</li>
<li>`` pyramid.settings.get_settings（） `` APIが削除されました。 Pyramid 1.0以降、廃止予定の警告が表示されていました。あなたのコードがこのAPIに依存している場合、代わりに `` pyramid.threadlocal.get_current_registry（）。settings``を使うか、リクエストから利用可能なレジストリの `` settings``属性を使います（ `` request.registry.settings``） 。</li>
<li>`` pyramid.testing``モジュールのこれらのAPIは削除されました。彼らはPyramid 1.0以降、廃止予定の警告を印刷しています：<ul>
<li>`` registerDummySecurityPolicy``は、代わりに `` pyramid.config.Configurator.testing_securitypolicy``を使います。</li>
<li>`` registerResources``（別名 `` registerModels``、代わりに `` pyramid.config.Configurator.testing_resources``）を使います。</li>
<li>`` registerEventListener``では、代わりに `` pyramid.config.Configurator.testing_add_subscriber``を使います。</li>
<li>`` registerTemplateRenderer``（別名 <cite>registerDummyRenderer`</cite>）では、代わりに` <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.config.Configurator.testing_add_template``を使います。</li>
<li>`` registerView``では、代わりに `` pyramid.config.Configurator.add_view``を使います。</li>
<li>`` registerUtility``では、代わりに `` pyramid.config.Configurator.registry.registerUtility``を使います。</li>
<li>`` registerAdapter``では、代わりに `` pyramid.config.Configurator.registry.registerAdapter``を使います。</li>
<li>`` registerSubscriber``では、代わりに `` pyramid.config.Configurator.add_subscriber``を使います。</li>
<li>`` registerRoute``では、代わりに `` pyramid.config.Configurator.add_route``を使います。</li>
<li>`` registerSettings``は代わりに `` pyramid.config.Configurator.add_settings``を使います。</li>
</ul>
</li>
<li>Pyramid 1.3以前では、終了したコールバックが実行される前に、Responseオブジェクトの `` __call__``メソッドが呼び出されました。このリリースから、Responseオブジェクトの `` __call__``メソッドは、終了したコールバックが実行された後に呼び出されます。これは `` request.invoke_subrequest``機能をサポートしています。</li>
<li>`` pyramid.httpexceptions`の `` HTTPCreated```、 `` HTTPAccepted``、 `` HTTPNonAuthoritativeInformation``、 `` HTTPNoContent``、 `` HTTPResetContent``、 `` HTTPPartialContent``の200シリーズ例外レスポンスは、 `` HTTPOk``から継承しなくなりました。代わりに、 `` HTTPSuccessful``という名前の新しい基本クラスを継承します。これは、 `` HTTPOk``の例外ビューを登録して、例外ビューが上記のすべての例外をキャッチすることを期待しない限り、あなたには何の影響も与えません。</li>
</ul>
</div>
<div class="section" id="id67">
<h3>ドキュメンテーション<a class="headerlink" href="#id67" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>物語のドキュメンテーションに「ピラミッドのアップグレード」の章を追加しました。 Pyramid APIの廃止と削除に対処する方法と、テストの実行中およびサーバーの実行中にPyramidで生成された廃止予定の警告を表示する方法について説明します。</li>
<li>ドキュメントに「サブリクエストを呼び出す」という章が追加されました。新しい `` request.invoke_subrequest`` APIの使い方について説明しています。</li>
</ul>
</div>
<div class="section" id="id68">
<h3>依存関係<a class="headerlink" href="#id68" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>PyramidにはWebOb 1.2b3 +が必要です（以前のPyramidリリースは1.2dev +のみに依存していました）。これは、 `` request.path_info``をテキストとして返すWebObのバージョンを確実に取得するためです。</li>
</ul>
</div>
</div>
<div class="section" id="id69">
<h2>1.3（2012-03-21）<a class="headerlink" href="#id69" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id70">
<h3>バグの修正<a class="headerlink" href="#id70" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.wsgi.wsgiapp2``がダウンストリームのWSGIアプリケーションを呼び出すと、アプリケーションのenvironは `` bfg.routes.matchdict``や `` bfg.routes.route``のキーをもはや持っていません。それ。このバグの症状は、 `` wsgiapp2``でラップされたピラミッドアプリで、間違った視点を見つけることになります。</li>
<li><a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/461という問題（インスタンスメソッドをビュー呼び出し可能オブジェクトとして使用できるようにした）の修正により、リクエスト引数のみを宣言したメソッドが使用された場合、後方互換性が導入されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/503を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b3-2012-03-17">
<h2>1.3b3（2012-03-17）<a class="headerlink" href="#b3-2012-03-17" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id71">
<h3>バグの修正<a class="headerlink" href="#id71" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` config.add_view（ &lt;aninstancemethod&gt; ） <a href="#id1"><span class="problematic" id="id2">``</span></a>は、 `` __text__``を含むAttributeErrorを発生させました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/461を参照してください。</li>
<li>すべてのPyramid提供の `` .ini``ファイルで、何もしない `` pyramid.debug_templates``設定への参照を削除してください。この設定は、以前より優れた例外を表示するようにChameleonに伝えました。現在、Chameleonはこの設定の値に関係なく常に素晴らしい例外をレンダリングします。</li>
</ul>
</div>
<div class="section" id="id72">
<h3>足場<a class="headerlink" href="#id72" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` alchemy``スキャフォールドは、プロジェクトを作成している人が初期化スクリプトを実行することを忘れた場合、ブラウザに有益なエラーメッセージを表示するようになりました。</li>
<li>`` alchemy`` scaffold初期化スクリプトは `` <a href="#id579"><span class="problematic" id="id580">initialize_</span></a> &lt;projectname&gt; `` populate_の代わりに_db``を使用します&lt;projectname&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>。</li>
</ul>
</div>
<div class="section" id="id73">
<h3>ドキュメンテーション<a class="headerlink" href="#id73" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Wikiチュートリアルは、PyCon US 2012スプリントでのコラボレーションにより改善されました。</li>
</ul>
</div>
</div>
<div class="section" id="b2-2012-03-02">
<h2>1.3b2（2012-03-02）<a class="headerlink" href="#b2-2012-03-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id74">
<h3>バグの修正<a class="headerlink" href="#id74" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">メソッド `` pyramid.request.Request.partial_application_url``はAPIドキュメントにはもうありません。それは私的な方法であることを意図していた。 APIメソッドとしてのドキュメンテーションへの公開は間違いであり、プライベートなものに変更されました。</p>
</li>
<li><p class="first">静的ビューがWindows上の絶対ファイルシステムパスを使用して登録されたとき、 `` request.static_url``関数はそのリソースへのURLを生成するようには機能しませんでした。症状：&amp;quot;スタティックなURL定義がありませんc：\ foo \ bar \ baz &amp;quot;</p>
</li>
<li><p class="first">すべてのテストをWindows XPに合格させる。</p>
</li>
<li><p class="first">Python 3でのACL認証チェックのバグ： `` pyramid.authorization.ACLAuthenticationPolicy``の `` permits``と `` principals_allowed_by_permission``メソッドは、ACLに対するパーミッションがそして、ACL許可文字列が関数に渡された `` permission``値の部分文字列だった場合のみです。</p>
<p>このバグはPython 2ではPyramidの展開に影響しません。 Python 3で動作するデプロイメントにのみ存在するバグです。これはPyramid 1.3a1以来存在していました。</p>
<p>このバグは、Python 3の下の文字列に `` __iter__``属性が存在し、Python 2の文字列の下に存在しないためです。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="b1-2012-02-26">
<h2>1.3b1（2012-02-26）<a class="headerlink" href="#b1-2012-02-26" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id75">
<h3>バグの修正<a class="headerlink" href="#id75" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Configuratorが古いスタイルの `` pyramid.configuration.Configurator``インスタンスだった場合、 `` pyramid.config.Configurator.with_package``は機能しませんでした。</li>
<li>ピラミッド認可ポリシーはイントロスペクサーに表示されませんでした。</li>
</ul>
</div>
<div class="section" id="id76">
<h3>廃止<a class="headerlink" href="#id76" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` tmpl_context``要求変数へのすべての参照は、ドキュメントから削除されました。ピラミッドに存在することは、決してPylonsユーザーではない人々にとって混乱を招いています。それはPyramid 1.0のPylonsユーザーのための移植の便宜のために追加されましたが、PyramidレンダリングシステムがPylonsのものとは大きく異なり、Pylonsで提供するように設計された方法を実行するための方法があります。それは&amp;quot;永遠に&amp;quot;存在し続けるでしょうが、それはドキュメントで推奨されたり言及されません。</li>
</ul>
</div>
</div>
<div class="section" id="a9-2012-02-22">
<h2>1.3a9（2012-02-22）<a class="headerlink" href="#a9-2012-02-22" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id77">
<h3>特徴<a class="headerlink" href="#id77" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Configuratorコンストラクタに `` introspection``ブール値を追加してください。これが `` True``の場合、コンフィギュレータで登録されたアクションはイントロスペクサーに登録されます。それが「偽」であれば、そうではないでしょう。デフォルトは `` True``です。アクションの処理中に `` False``に設定すると、後続の登録文に対するイントロスペクションが防止され、 `` True``に設定することでそれらを再び起動します。この追加は、デバッグツールバーのビューとメソッドがイントロスペクサーに表示されないという要件に対応するためのものです。</li>
<li>新しいAPI： `` pyramid.config.Configurator.add_notfound_view``。これは `` pyramid.Config.configurator.add_view``のラッパーで、簡単なappend_slashサポートを提供し、権限について正しいことを行います。これまで推奨されていた `` context = HTTPNotFound``で直接 `` add_view``を呼び出すのが好ましいでしょう。</li>
<li>新しいAPI： `` pyramid.view.notfound_view_config``。これは、スキャン時に `` pyramid.config.Configurator.add_notfound_view``を呼び出す `` pyramid.view.view_config``のようなデコレータコンストラクタです。前に推奨したように、 `` pyramid.view.view_config``を `` context = HTTPNotFound``で使うのが好ましいでしょう。</li>
<li>新しいAPI： `` pyramid.config.Configurator.add_forbidden_​​view``これは、アクセス許可について正しいことをする `` pyramid.Config.configurator.add_view``のラッパーです。これまで推奨されていた `` context = HTTPForbidden``で直接 `` add_view``を呼び出すのが望ましいでしょう。</li>
<li>新しいAPI： `` pyramid.view.forbidden_​​view_config``。これは、スキャン時に `` pyramid.config.Configurator.add_forbidden_​​view``を呼び出す `` pyramid.view.view_config``のようなデコレータコンストラクタです。これまで推奨されていたように `` pyramid.view.view_config``を `` context = HTTPForbidden``で使うのが好ましいでしょう。</li>
<li>新しいAPI： `` pyramid.response.FileResponse``と `` pyramid.response.FileIter``は、手動でファイルを提供しなければならないビューで使用するためのものです。</li>
</ul>
</div>
<div class="section" id="id78">
<h3>後方の非互換性<a class="headerlink" href="#id78" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.config.Configurator.with_context``クラスメソッドを削除してください。これは決してAPIではなく、 `` pyramid_zcml``だけで使用され、その機能はそのパッケージの最新リリースに移されました。つまり、Pyramidのこのリリースでは0.9.2以降のリリースの `` pyramid_zcml``を使う必要があります。</li>
<li>`` pyramid.config.Configurator``コンストラクタAPIの `` introspector``引数は削除されました。ブール型の &amp;quot;イントロスペクション&amp;quot;フラグで置き換えられました。</li>
<li>`` pyramid.registry.noop_introspector`` APIオブジェクトは削除されました。</li>
<li>廃止予定の `` set_notfound_view``コンフィグレータメソッドは、新しい `` add_notfound_view``コンフィグレータメソッドのエイリアスになりました。同様に、廃止予定の `` set_forbidden_​​view``は新しい `` add_forbidden_​​view``のエイリアスになりました。 `` set_notfound_view``または `` set_forbidden_​​view``を介して登録された <a href="#id1"><span class="problematic" id="id2">``</span></a>（コンテキスト、リクエスト） <a href="#id3"><span class="problematic" id="id4">``</span></a>コールシグネチャでビューに送られた `` context``は次のような例外オブジェクトになりました。実際のリソースコンテキストが見つかりました。実際のリソースコンテキストを取得するには `` request.context``を使います。また、 `` set_notfound_view``を `` add_notfound_view``に向けて廃止し、エイリアシングにもかかわらず `` add_forbidden_​​view``を優先して `` set_forbidden_​​view``を廃止することもお勧めします。</li>
</ul>
</div>
<div class="section" id="id79">
<h3>廃止<a class="headerlink" href="#id79" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.view.append_slash_notfound_view``と `` pyramid.view.AppendSlashNotFoundViewFactory``のAPIドキュメントが削除されました。これらの名前はまだ存在し、インポート可能ですが、もはやAPIではありません。同じ動作をするには、 `` pyramid.config.Configurator.add_notfound_view（append_slash = True） <a href="#id1"><span class="problematic" id="id2">``</span></a>または `` pyramid.view.notfound_view_config（append_slash = True） <a href="#id3"><span class="problematic" id="id4">``</span></a>を使用します。</li>
<li>コンフィギュレータの `` set_forbidden_​​view``メソッドと `` set_notfound_view``メソッドはドキュメントから削除されました。彼らはPyramid 1.1以来非難されています。</li>
</ul>
</div>
<div class="section" id="id80">
<h3>バグの修正<a class="headerlink" href="#id80" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` config.add_static_view``で使用される静的ファイルレスポンスオブジェクトは静的ファイルを2回開きました。</li>
<li>AppendSlashNotFoundViewFactoryはrouteを一致させるためにrequest.pathを使用しました。これは間違っていました。なぜなら、request.pathにはスクリプト名が含まれているため、スクリプト名が空でない状況では失敗することになります。それはrequest.path_infoを使用しているはずです。</li>
</ul>
</div>
<div class="section" id="id81">
<h3>ドキュメンテーション<a class="headerlink" href="#id81" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` add_view``や `` view_config``を使ってビューを登録する際の説明を、 `` add_notfound_view``や `` add_notfound_view``を使って説明したものに置き換えて、&amp;quot;フックnotfound_view_config``を実行します。</li>
<li>`` add_forbidden_​​view``や `` add_forbidden_​​view``を使ってビューを登録する際の説明を、 `` add_view``や `` view_config``を使って登録する説明を置き換えることで、&amp;quot;Hooks &amp;quot;章の&amp;quot;禁止されていないビューを作成するforbidden_​​view_config``です。</li>
<li>`` add_view``や `` view_config``を使ったビューの登録の説明を `` add_notfound_view``や `` add_notfound_view``を使ったものに置き換えて、&amp;quot;URL Dispatch &amp;quot;章の&amp;quot;Slash-Appended Routesへのリダイレクト&amp;quot; `` notfound_view_config``</li>
<li>すべてのチュートリアルで、 `` pyramid.view.view_config``ではなく、 `` pyramid.view.forbidden_​​view_config``をHTTPForbiddenコンテキストで使用するように更新しました。</li>
</ul>
</div>
</div>
<div class="section" id="a8-2012-02-19">
<h2>1.3a8（2012-02-19）<a class="headerlink" href="#a8-2012-02-19" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id82">
<h3>特徴<a class="headerlink" href="#id82" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` Configurator``の `` scan``メソッドは、 `` ignore``引数を渡すことができます。これは、文字列、呼び出し可能な文字列、文字列や呼び出し可能なものからなるリストです。この機能を使用すると、サブモジュール、サブパッケージ、およびグローバルオブジェクトのスキャンが許可されます。 `` scan``に `` ignore``引数を使う方法の詳細については、<a class="reference external" href="http://readthedocs.org/docs/venusian/en/latest/#ignore-scan">http://readthedocs.org/docs/venusian/en/latest/#ignore-scan</a>-argumentを参照してください。</li>
<li>ビュー呼び出し可能関数が応答に変換できない値を返すとき（たとえば、ビュー呼び出し可能関数がレンダラーが定義されていないディクショナリを返すか、まったく値を返さないなど）、エラーメッセージが改善されます。エラーメッセージには、ビュー呼び出し可能なものに関する情報と呼び出し結果が含まれるようになりました。</li>
<li>.pycのみのモジュールが `` config.include``されたときのエラーメッセージが改善されました。これは、エラー報告要件のために許可されていません。試行されると、より良いエラーメッセージが表示されます。以前は、&amp;quot;AttributeError： &amp;#39;NoneType&amp;#39;オブジェクトに属性 &amp;#39;rfind&amp;#39; &amp;quot;がありません。</li>
<li>`` pyramid.config.Configurator.add_traverser`` APIメソッドを追加してください。詳細については、 &amp;quot;Traverserの変更&amp;quot;というタイトルのHooks Narrativeドキュメンテーションセクションを参照してください。これは新機能ではなく、ZCA APIを使用することなくトラバーサを追加するためのAPIを提供するだけです。</li>
<li>`` pyramid.config.Configurator.add_resource_url_adapter`` APIメソッドを追加してください。詳細については、&amp;quot;pyramid.request.Request.resource_urlのURLの生成方法の変更&amp;quot;というフックの説明文章のセクションを参照してください。これは新しい機能ではなく、ZCA APIを使用せずにリソースURLアダプタを追加するためのAPIを提供するだけです。</li>
<li>システム値 `` req``が `` request``のエイリアスとしてレンダラーに供給されるようになりました。これは、例えば、テンプレート内で、 `` request.route_url（...） <a href="#id1"><span class="problematic" id="id2">``</span></a>の代わりに `` req.route_url（...） <cite>を実行できることを意味します。これは、テンプレート内から要求メソッドと属性を使用するのに必要な型付け量を減らすための変更です。値 `</cite> request``も引き続き利用できますが、これは単なる選択肢です。</li>
<li>新しいインターフェースが追加されました： `` pyramid.interfaces.IResourceURL``。 `` request.resource_url``が呼び出されると、そのインタフェースを実装するアダプタを使ってリソースURLの生成を無効にすることができます。このインタフェースは、現在廃止されている `` pyramid.interfaces.IContextURL``インタフェースを置き換えます。</li>
<li>リソースの `` __resource_url__``メソッド（リソース&amp;quot;章の&amp;quot;リソースURL生成のオーバーライド &amp;quot;を参照）に渡された辞書は、` <cite>要求中に生成されたアプリケーションURLを表す</cite> <cite>app_url``キーを含んでいます.resource_url``です。これは潜在的にカスタマイズされたURLプレフィックスを表し、ユーザーが `</cite> request.resource_url``に渡す可能性のあるカスタムスキーム、ホスト、ポート情報を含みます。必要に応じて `` request.application_url``の代わりに使用してください。</li>
<li>`` request.resource_url`` APIは `` app_url``、 `` scheme``、 `` host``、 `` port``の引数を受け付けます。 app_url引数を使用して、URLの生成時にURL接頭辞を置き換えることができます。 `` scheme``、 `` host``、 `` port``の引数は、 `` request.application_url``のデフォルト値を部分的に置き換えるために使うことができます。</li>
<li>`` request.resource_path``という名前の新しいAPIが存在します。 `` request.resource_url``のように動作しますが、絶対URLではなく相対URLを生成します。</li>
<li>`` request.route_url`` APIは、 `` _app_url``、 `` _scheme``、 `` _host``、 `` _port``の引数を受け付けるようになりました。 `` _app_url``引数は、URLの生成時にURL接頭辞を置換するために使用できます。 `` _scheme``、 `` _host``、 `` _port``の引数を使って、 `` request.application_url``のデフォルト値を部分的に置き換えることができます。</li>
</ul>
</div>
<div class="section" id="id83">
<h3>後方の非互換性<a class="headerlink" href="#id83" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pyramid.interfaces.IContextURL``インタフェースは非推奨です。人々はこれを使用して、&amp;quot;Hooks &amp;quot;章にリソースURLアダプタを登録して、Pyramid 1.0以来カスタムトラバーサを介して見つかったリソースの `` request.resource_url`` URL生成に影響を与えるように指示しました。</p>
<p>インターフェイスはまだ存在していますが、そのようなアダプタを登録しても機能しますが、Pyramidの主要なリリースの後にこのインターフェイスはソフトウェアから削除されます。新しい `` pyramid.config.Configurator.add_resource_url_adapter`` APIを使用して登録した同等の `` pyramid.interfaces.IResourceURL``アダプタに置き換える必要があります。 `` request.resource_url``が呼び出されたときに `` pyramid.interfaces.IContextURL``アダプタが見つかると、廃止予定の警告が出されるようになりました。</p>
</li>
</ul>
</div>
<div class="section" id="id84">
<h3>ドキュメンテーション<a class="headerlink" href="#id84" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>SQLA Wikiチュートリアルで `` session``インスタンスを作成せず、代わりに未加工の `` DBSession``を使用してください（これは実際のSQLAアプリケーションでより一般的です）。</li>
</ul>
</div>
<div class="section" id="scaffolding">
<h3>足場<a class="headerlink" href="#scaffolding" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.includes``ターゲットを足場のiniファイルに別々の行に入れて、ツールバーを無効にしたいときに `` pyramid_debugtoolbar``行だけをコメントアウトするように伝えることができます。</li>
</ul>
</div>
<div class="section" id="id85">
<h3>依存関係<a class="headerlink" href="#id85" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` venusian`` = 1.0a3に依存して、スキャンの <a href="#id1"><span class="problematic" id="id2">``</span></a>無視 &amp;#39;`のサポートを提供してください。</li>
</ul>
</div>
<div class="section" id="internal">
<h3>内部<a class="headerlink" href="#internal" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>カスタマイズ可能な設定のキープレフィックスを提供する&amp;quot;MakoRendererFactoryHelper &amp;quot;を作成します。 &amp;quot;mako。&amp;quot;以外の設定プレフィックスを使用して、グローバルmako設定を使用しない異なる工場を作成できるようにします。これはデバッグツールバーに便利です。デバッグツールバーは、カスタムmako設定を使用している人が現在妨害している可能性があります。</li>
</ul>
</div>
</div>
<div class="section" id="a7-2012-02-07">
<h2>1.3a7（2012-02-07）<a class="headerlink" href="#a7-2012-02-07" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id86">
<h3>特徴<a class="headerlink" href="#id86" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` config.include``が `` includeme``を見つけることができないとき、より有益なエラーメッセージです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/392を参照してください。</li>
<li>内部：解読不能なdiscriminatorsを早期に捕捉する（resolveConflictsへの道を見つけるのではなく、エラーを起こす）。</li>
<li><a href="#id1"><span class="problematic" id="id2">`</span></a>match_param`ビュー述語は、文字列またはタプルを受け入れるようになりました。これは、dictを受け入れるという壊れた振る舞いを置き換えます。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/425を参照してください。</li>
</ul>
</div>
<div class="section" id="id87">
<h3>バグの修正<a class="headerlink" href="#id87" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` development.ini``ファイル（または使用中の他の.iniファイル）が変更されたときに、 `` --reload``フラグとともに `` pserve``が使用されると、プロセスが再開します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/377およびhttps://github.com/Pylons/pyramid/pull/411を参照してください。</li>
<li>`` prequest``スクリプトは、HTMLやテキストを返さなかったURLに対して使用すると失敗します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/381を参照してください。</li>
</ul>
</div>
<div class="section" id="id88">
<h3>後方の非互換性<a class="headerlink" href="#id88" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><a href="#id1"><span class="problematic" id="id2">`</span></a>match_param`ビュー述語は、もはやdictを受け付けません。これは、dictベースの引数の実装が壊れているため、悪影響はありません。</li>
</ul>
</div>
<div class="section" id="id89">
<h3>ドキュメンテーション<a class="headerlink" href="#id89" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>物語のドキュメントにトラバーサルな世界の例を追加してください。</li>
</ul>
</div>
</div>
<div class="section" id="a6-2012-01-20">
<h2>1.3a6（2012-01-20）<a class="headerlink" href="#a6-2012-01-20" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id90">
<h3>特徴<a class="headerlink" href="#id90" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいAPI： `` pyramid.config.Configurator.set_request_property``。リクエストファクトリを変更せずに、リクエストに遅延プロパティー記述子を追加します。このメソッドは競合検出を提供し、要求にプロパティを追加するための推奨される方法です。</li>
<li>Pyramidの `` static_view``によって生成された応答は、 `` wsgi.file_wrapper``を使用します（<a class="reference external" href="http://www.python.org/dev/peps/pep-0333/#optional-platform-specific-file">http://www.python.org/dev/peps/pep-0333/#optional-platform-specific-file</a>-handlingを参照） Webサーバーから提供されたものです。</li>
</ul>
</div>
<div class="section" id="id91">
<h3>バグの修正<a class="headerlink" href="#id91" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` accept``で登録されたビューは、同じ述語引数を持つ別のビューでは、正しく上書きすることができませんでした。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/404を参照してください。</li>
<li>`` view_defaults``デコレータを持つクラスを指している `` Configurator.add_view``への `` view``引数に点線の名前を使用すると、ビューのデフォルトは適用されません。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/396を参照してください。</li>
<li>静的なURLパスは2回URL引用されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/407を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a5-2012-01-09">
<h2>1.3a5（2012-01-09）<a class="headerlink" href="#a5-2012-01-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id92">
<h3>バグの修正<a class="headerlink" href="#id92" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.view.view_defaults``デコレータは、複数のビューがコンフィグレーションの競合解決のために異なるデフォルトに依存している場合、正しく動作しませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/394を参照してください。</li>
</ul>
</div>
<div class="section" id="id93">
<h3>後方の非互換性<a class="headerlink" href="#id93" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` path_info``ルートとビューの述語は、 `` request.path_info``（Python 3とPython 2に基づく不定値）ではなく、 `` request.upath_info``（Unicode）と一致するようになりました。これは、Python 2とPython 3のマッチングを正規化するために行う必要があります。</li>
</ul>
</div>
</div>
<div class="section" id="a4-2012-01-05">
<h2>1.3a4（2012-01-05）<a class="headerlink" href="#a4-2012-01-05" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id94">
<h3>特徴<a class="headerlink" href="#id94" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいAPI： `` pyramid.request.Request.set_property``。リクエストファクトリを変更せずに、リクエストに遅延プロパティー記述子を追加します。新しいプロパティが再定義され、インスタンスの存続期間中の値を効果的にキャッシュすることができます。このための一般的な使用例は、要求に対するデータベース接続を取得するか、または現在のユーザーを識別することです。</li>
<li>スカイフォールディングで `` wsgiref``の代わりに `` waitress`` WSGIサーバを使用してください。</li>
</ul>
</div>
<div class="section" id="id95">
<h3>バグの修正<a class="headerlink" href="#id95" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pyramid.events.subscriber``のドキュメントは、このような引数を持たないデコレータとして使うことを示しています:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">somefunc</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>レジストリを介して送信されたすべてのイベントを受け取るために `` somefunc``を登録しますが、これは間違いです。代わりに、イベントをまったく受け取りません。これは修正され、コードはドキュメントと一致します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/386も参照してください。</p>
</li>
<li><p class="first">`` route_url``や `` route_path``がURLやパスを生成するために使われたとき、ルートパターンの文字部分はURL引用符で囲まれませんでした。</p>
</li>
<li><p class="first">`` route_path``または `` route_url``の結果は、入力に応じて `` unicode``または `` str``でした。これは常に `` str``であることが保証されています。</p>
</li>
<li><p class="first">リテラル部分にASCII以外の文字が含まれているパターンが不確定であった場合のURLマッチング。 `` add_route``に与えられるパターンは、 `` unicode``値、またはASCII文字のみを含む `` str``値のいずれかとみなされます。高次の文字が含まれているURLからパス情報を照合する場合は、パターン内のデコードされたパス部分のUnicode表現を渡すことができます。</p>
</li>
<li><p class="first">`` traverse = <a href="#id1"><span class="problematic" id="id2">``</span></a>ルート述語を使うとき、トラバーサルパターンや一致するダイナミックセグメントに高次の文字があれば、トラバーサルはURLDecodeErrorで失敗します。</p>
</li>
<li><p class="first">::のようなルートパターンで `` traverse``という名前の動的セグメントを使用しています：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;trav_route&#39;</span><span class="p">,</span> <span class="s1">&#39;traversal/{traverse:.*}&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>ルートが一致し、URLの一致部分に高次の文字が含まれていた場合に `` UnicodeDecodeError``が発生します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/385を参照してください。</p>
</li>
<li><p class="first">ルートパターンで `` * traverse`` starargを使うと、名前に `` &#64;&#64; <a href="#id1"><span class="problematic" id="id2">``</span></a>を持つURL（ビュー名を表す）がトラバース中にトラバーサル機構によって不適切に引用され、ビューが正しく見つかりません。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/382およびhttps://github.com/Pylons/pyramid/issues/375を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="id96">
<h3>後方の非互換性<a class="headerlink" href="#id96" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` route_url``または `` route_path``に渡された文字列値は&amp;quot;remainder &amp;quot;に置き換えられ、埋め込まれたスラッシュを除いてURLクォートされます。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;remain&#39;</span><span class="p">,</span> <span class="s1">&#39;/foo*remainder&#39;</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">route_path</span><span class="p">(</span><span class="s1">&#39;remain&#39;</span><span class="p">,</span> <span class="n">remainder</span><span class="o">=</span><span class="s1">&#39;abc / def&#39;</span><span class="p">)</span>
<span class="c1"># -&gt; &#39;/foo/abc%20/%20def&#39;</span>
</pre></div>
</div>
<p>以前は、残りの置換文字として渡された文字列の値は、URLクォートを付けずに変更されませんでした。しかし、渡される値がUnicode（生のUnicodeはURLまたはパスに配置することはできません）であり、値が文字列であれば残りのURL生成機構と矛盾します（これは &amp;#39;呼び出し側が指定しない限り引用符で囲まないでください）。</p>
<p>いくつかの人々は、クエリ文字列要素とURLの部分を固定するために古い動作に頼っているでしょう。申し訳ありませんが、これを行うには、 `` _query``や `` _anchor``引数を `` route_path``または `` route_url``に使用するようにコードを変更する必要があります。</p>
</li>
<li><p class="first">非ASCII文字を含むバイト文字列をパターンとして `` add_route``に渡すと、起動時に失敗します。代わりにUnicodeを使用してください。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a3-2011-12-21">
<h2>1.3a3（2011-12-21）<a class="headerlink" href="#a3-2011-12-21" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id97">
<h3>特徴<a class="headerlink" href="#id97" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` prequest``スクリプトを追加しました（ `` paster request``の行に沿って）。これは&amp;quot;コマンド行ピラミッド&amp;quot;の章の &amp;quot;要求の呼び出し&amp;quot;の章に記載されています。</li>
<li>__discriminator__`` APIを派生したビュー呼び出し可能関数に追加しました。例えば、 `` adapters.lookup（...）.__ discriminator __（文脈、要求） <a href="#id1"><span class="problematic" id="id2">``</span></a>です。スーパーダイナミックシステムで使用されます。このシステムでは、手動ビュールックアップの後に識別器をイントロスペクションに使用する必要があります。</li>
</ul>
</div>
<div class="section" id="id98">
<h3>バグの修正<a class="headerlink" href="#id98" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべての `` p * <code class="docutils literal notranslate"><span class="pre">スクリプト（</span> <span class="pre">``</span> <span class="pre">pviews</span></code>、 `` proutes``など）に対して正規化された終了値と `` -h``が出力されます。</li>
</ul>
</div>
<div class="section" id="id99">
<h3>ドキュメンテーション<a class="headerlink" href="#id99" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&amp;quot;コマンドラインピラミッド&amp;quot;の章の&amp;quot;コンソールスクリプトにスクリプトを作成する&amp;quot;というセクションを追加しました。</li>
<li>メインのドキュメントから&amp;quot;Google App EngineでPyramidを実行する&amp;quot;チュートリアルを削除しました。それはCookbook（<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_cookbook/en/latest/deployment/gae.html">http://docs.pylonsproject.org/projects/pyramid_cookbook/en/latest/deployment/gae.html</a>）に掲載されています。理論的根拠：GAEのみのPython 2.5バージョンの正しい情報を提供します。このバージョンのPyramidはPython 2.5をサポートしていません。</li>
</ul>
</div>
</div>
<div class="section" id="a2-2011-12-14">
<h2>1.3a2（2011-12-14）<a class="headerlink" href="#a2-2011-12-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id100">
<h3>特徴<a class="headerlink" href="#id100" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいAPI： `` pyramid.view.view_defaults``。クラスをビューとして使用する場合は、クラスの新しい `` view_defaults``クラスデコレータを使用して、そのクラスのメソッドを装飾するすべての `` &#64; view_config``デコレータによって使用されるビュー設定情報にデフォルトを提供できます。また、クラスを必須とするビュー構成に対しても機能します。</li>
<li>`` --list-templates``オプションの `` paster create``の処理をエミュレートするために、 `` pcreate``に後方互換性ノブを追加しました。</li>
<li>Pyramid 1.0.X、1.1.X、1.2.X、1.3.Xで機能する拡張スカフォールドを使いたい方に、足場の機械を少し変更しました。詳細については、物語ドキュメンテーションの新しい&amp;quot;Creating Pyramid Scaffolds &amp;quot;の章を参照してください。</li>
</ul>
</div>
<div class="section" id="id101">
<h3>ドキュメンテーション<a class="headerlink" href="#id101" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` view_defaults``クラスデコレータについては、「構成の表示」のドキュメンテーションの章にドキュメンテーションを追加しました。</li>
<li>`` view_defaults``クラスデコレータ用のAPIドキュメントを追加しました。</li>
<li>`` pyramid.scaffolds``にAPIドキュメントの章を追加しました。</li>
<li>&amp;quot;Creating Pyramid Scaffolds &amp;quot;というナレーション文書の章を追加しました。</li>
</ul>
</div>
<div class="section" id="id102">
<h3>後方の非互換性<a class="headerlink" href="#id102" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.scaffolds.PyramidScaffold``の `` template_renderer``メソッドは `` render_template``に名前が変更されました。あなたがそれを上書きしていたなら、あなたは悪い人です。なぜならこれまではAPIではなかったからです。しかし、私たちはあなたが知っていることをうれしく思います。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2011-12-09">
<h2>1.3a1（2011-12-09）<a class="headerlink" href="#a1-2011-12-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id103">
<h3>特徴<a class="headerlink" href="#id103" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Python 3.2との互換性。</li>
<li>新しい `` pyramid.compat``モジュールと、Pyramidアドオンと開発環境をPython 2/3に跨って提供するAPIドキュメント。</li>
<li>Makoテンプレートを使用するための `` mako.directories``設定はもはや必要ありません。理由：Makoテンプレートレンダラーは絶対アセット仕様を使用して指定することができます。そのようなアセット仕様でアプリケーション全体を記述することができ、順序付けられた参照パスを必要としません。</li>
<li>`` pshell``での `` bpython``インタプリタの互換性。詳細については、「コマンドラインPyramid」ドキュメンテーションの章を参照してください。</li>
<li>`` get_appsettings`` API関数を `` pyramid.paster``モジュールに追加しました。この関数は、PasteDeployのiniファイルの `` [app：...] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションで定義された設定を返します。</li>
<li>`` setup_logging`` API関数を `` pyramid.paster``モジュールに追加しました。この関数は、PasteDeployのiniファイルのロギング設定に従ってPythonロギングを設定します。</li>
<li>設定の競合の報告は、より分かりやすい方法で報告されます（&amp;quot;行11のファイル... &amp;quot;対類似の情報の組です）。</li>
<li>構成イントロスペクションシステムが追加されました。詳細については、「ピラミッド構成のイントロスペクション」というナレーションのドキュメントの章を参照してください。新しいAPI： `` pyramid.registry.Introspectable``、 `` pyramid.config.Configurator.introspector``、 `` pyramid.config.Configurator.introspectable``、 `` pyramid.registry.Registry.introspector``です。</li>
<li>`` pyramid.config.Configurator.action``メソッドに渡される余分なキーワード引数を許可します。</li>
<li>新しいAPI： `` pyramid.path.AssetResolver``と `` pyramid.path.DottedNameResolver``です。前者は資産の仕様を解決するために使用され、後者はモジュールまたはパッケージに点滅した名前を解決するために使用されます。</li>
</ul>
</div>
<div class="section" id="id104">
<h3>バグの修正<a class="headerlink" href="#id104" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>テストスイートを32ビットシステムに渡す。 ＃286を終了する。 ＃306を終了する。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/286も参照してください。</li>
<li>`` pyramid.view.view_config``デコレータは `` match_params``述語引数を受け付けませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/308を参照してください。</li>
<li>AuthTktCookieHelperは、覚えておくべき `` tokens``引数が使われたときに、Unicodeヘッダを不適切に生成する可能性があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/314を参照してください。</li>
<li>AuthTktAuthenticationPolicyは、タイミング攻撃を認識する文字列比較器を使用しませんでした。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/320を参照してください。</li>
<li>`` pyramid.testing``のDummySessionは、新しいCSRFトークンがまだ存在しない場合、それを生成します。</li>
<li>`` request.static_url``はURLには適さない文字を含む `` path``引数を与えられたときにURL引用されたURLを生成するようになりました。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/349をご覧ください。</li>
<li>足場のレンダリングが `` site``という名前にならないようにします（Python内部のsite.pyと競合します）。</li>
<li>`` pyramid.wsgi.wsgiapp``と `` pryramid.wsgi.wsgiapp2``関数のターゲットとしてインスタンスを使用するためのサポート。詳細については、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/370を参照してください。</li>
</ul>
</div>
<div class="section" id="id105">
<h3>後方の非互換性<a class="headerlink" href="#id105" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>PyramidはPython 2.5（これは最近のJythonのリリースとこの記事の執筆時点でのPython 2.5バージョンのGAEを含む）では動作しません。</li>
<li>`` paster``コマンドは、もはやプロジェクトを作成したり、サーバを起動したり、デバッグコマンドを実行するための文書化された方法ではなくなりました。 scaffoldsからプロジェクトを作成するために、 `` paster create``は `` pcreate``コンソールスクリプトに置き換えられます。プロジェクトを提供するために、 `` paster serve``は `` pserve``コンソールスクリプトに置き換えられます。 `` pshell``、 `` pviews``、 `` proutes``、 `` ptweens``という新しいコンソールスクリプトは、 `` paster &lt;commandname&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>相当することがあった。根拠：PasteとPasteScriptパッケージはPython 3では動作しません。</li>
<li>新たにレンダリングされたスキャフォールディングからの `` pserve``の結果として実行されるデフォルトのWSGIサーバは、 `` paste.httpserver``サーバの代わりに `` wsgiref`` WSGIサーバになりました。根拠：根拠：PasteとPasteScriptパッケージはPython 3では動作しません。</li>
<li>`` pshell``コマンド（&amp;quot;paster pshell &amp;quot;を参照）は、 `` --disable-ipython``コマンドライン引数を受け付けません。代わりに、 `` -p``または `` --python-shell``引数を受け取ります。引数には、 `` python``、 `` ipython``、 `` bpython``のいずれかの値を指定できます。</li>
<li>`` pyramid.renderers.renderer_from_name``関数を削除しました。これはPyramid 1.0以来廃止され、決してAPIではありませんでした。</li>
<li>Pyramid&amp;gt; = 1.3のバージョンでZCMLを使うには、 `` pyramid_zcml``のバージョン&amp;gt; = 0.8と `` zope.configuration``のバージョン&amp;gt; = 3.8.0が必要です。 `` pyramid_zcml``パッケージのバージョン0.8はPyramid 1.0まで下位互換性がありますので、古いバージョンがインストールされていて、Pyramid &amp;quot;in-place &amp;quot;をアップグレードしても警告は表示されません。単に代わりに壊れるかもしれません。</li>
</ul>
</div>
<div class="section" id="id106">
<h3>依存関係<a class="headerlink" href="#id106" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ピラミッドは、テスト依存関係を除いて、 `` zope.component``パッケージに依存しなくなりました。</li>
<li>Pyramidは、zope.interface&amp;gt; = 3.8.0、WebOb&amp;gt; = 1.2dev、repoze.lru&amp;gt; = 0.4、zope.deprecation&amp;gt; = 3.5.0、translationstring&amp;gt; = 0.4（Python 3との互換性のため）に依存しています。また、テストの依存関係として、同じ理由でWebTest&amp;gt; = 1.3.1に依存します。</li>
<li>PyramidはPasteまたはPasteScriptパッケージに依存しなくなりました。</li>
</ul>
</div>
<div class="section" id="id107">
<h3>ドキュメンテーション<a class="headerlink" href="#id107" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>SQLAlchemy Wikiチュートリアルが更新されました。これは、 `` &#64; view_config``デコレータと明示的なデータベース投入スクリプトを使用します。</li>
<li>ZODB Wikiチュートリアルのマイナーアップデート。</li>
<li>&amp;quot;拡張ピラミッド構成&amp;quot;というナレーションのドキュメントの章が追加されました。新しいディレクティブを追加する方法と、カスタムディレクティブ内で `` pyramid.config.Configurator.action``メソッドを使用する方法について説明しています。また、イントロスペクトなオブジェクトを追加する方法についても説明します。</li>
<li>&amp;quot;Pyramid Configuration Introspection &amp;quot;というナレーション記述の章が追加されました。イントロスペクションシステムを照会する方法について説明します。</li>
</ul>
</div>
<div class="section" id="id108">
<h3>足場<a class="headerlink" href="#id108" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>レンダリングされた足場は、よりリロケータブルに変更されました（パッケージ内のファイル内でのパッケージ名の記述が少なくなりました）。</li>
<li>`` routesalchemy``足場は、古い（トラバーサルベースの） <a href="#id1"><span class="problematic" id="id2">``</span></a>錬金術 <a href="#id3"><span class="problematic" id="id4">``</span></a>足場（引退したもの）に取って代わり、 <a href="#id5"><span class="problematic" id="id6">``</span></a>錬金術 <a href="#id7"><span class="problematic" id="id8">``</span></a>に改名されました。</li>
<li>`` starter``スキャフォールドはデフォルトでURLディスパッチを使用するようになりました。</li>
</ul>
</div>
</div>
<div class="section" id="id109">
<h2>1.2（2011-09-12）<a class="headerlink" href="#id109" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id110">
<h3>特徴<a class="headerlink" href="#id110" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ルートパターンの置換マーカー名はアンダースコアで始めることができます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/276を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b3-2011-09-11">
<h2>1.2b3（2011-09-11）<a class="headerlink" href="#b3-2011-09-11" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id111">
<h3>バグの修正<a class="headerlink" href="#id111" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>静的ビューが&amp;quot;include &amp;quot;に追加された場合、ルートプレフィックスは考慮されませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/266を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b2-2011-09-08">
<h2>1.2b2（2011-09-08）<a class="headerlink" href="#b2-2011-09-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id112">
<h3>バグの修正<a class="headerlink" href="#id112" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>1.2b1のtarballは、不適切な場所に迷いのある引用符が付いたファイル名が含まれていたため、特にWindowsユーザーにとってはブラウンバックでした。我々は `` setuptools-git``を使ってリリースタールボールを作ることに依存しています。1.2b1のtarballを生成するために実行されたとき、ファイル名に高位の文字を含むgitリポジトリに存在するファイルにはまだ対応しませんでした。</li>
</ul>
</div>
<div class="section" id="id113">
<h3>ドキュメンテーション<a class="headerlink" href="#id113" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&amp;quot;紹介&amp;quot;物語の章のサンプルのアプリケーションと言葉に少し微調整。</li>
</ul>
</div>
</div>
<div class="section" id="b1-2011-09-08">
<h2>1.2b1（2011-09-08）<a class="headerlink" href="#b1-2011-09-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id114">
<h3>バグの修正<a class="headerlink" href="#id114" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>地域翻訳（de_DE``）から言語翻訳（ `` de``）に時折戻ってしまうと、ローカライザを使用すると正しく動作しないことがあります。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/263を参照してください。</li>
<li>静的ファイル提供機構は、 <a href="#id1"><span class="problematic" id="id2">``</span></a>。 &amp;#39;&amp;#39;（ドット）文字で始まったファイルを扱うことができませんでした。</li>
<li>名前に上位の（超ASCII）文字を含む静的ファイルは、静的ビューでは処理できませんでした。ファイルシステムからファイルを要求する際に、静的ファイル提供機構が不適切にURLを引用したファイルセグメントをファイル名で引用します。</li>
<li>`` pyramid.traversal.traversal_path``の中で、URLセグメントをUTF-8からUnicodeに正規化してから、セグメントが `` .``、空文字列、または <a href="#id1"><span class="problematic" id="id2">`</span></a>..`のいずれかに文字通り一致するかどうかを確認します誰かがUTF-8でこれらの文字列をトンネルして、デコードされる前にリテラルと一致しないようなやりかたの方法です。</li>
</ul>
</div>
<div class="section" id="id115">
<h3>ドキュメンテーション<a class="headerlink" href="#id115" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>はじめにの説明の章に&amp;quot;ユニークなものは何になるのか&amp;quot;のセクションを追加しました。</li>
</ul>
</div>
</div>
<div class="section" id="a6-2011-09-06">
<h2>1.2a6（2011-09-06）<a class="headerlink" href="#a6-2011-09-06" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id116">
<h3>バグの修正<a class="headerlink" href="#id116" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>AuthTktAuthenticationPolicyは `` reissue_time``をログアウトに干渉させました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/262を参照してください。</li>
</ul>
</div>
<div class="section" id="id117">
<h3>内部<a class="headerlink" href="#id117" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>以前は `` paste.auth``モジュールからのインポートとして依存していたコードを内部化しました（将来的には防御的です）。</li>
<li>`` paste.urlparser.StaticURLParser``の使用を、Chris Rossiの&amp;quot;ハッピー&amp;quot;静的ファイル提供コード（futureproof）の派生物に置き換えました。</li>
<li>固定テストスイート。一部のシステムでは、不確定テスト実行順序と共有テスト変数のダブルプッシュ - シングルポップのためにテストが失敗することがあります。</li>
</ul>
</div>
<div class="section" id="behavior-differences">
<h3>行動の違い<a class="headerlink" href="#behavior-differences" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>静的ファイルを提供するときにETagヘッダーが設定されなくなりました。代わりにLast-Modifiedヘッダーが設定されます。</li>
<li>静的ファイルの提供は `` wsgi.file_wrapper``拡張子をサポートしなくなりました。</li>
<li>ファイルアクセス権のためにPyramidプロセスのユーザがアクセスできない静的ファイルが提供されたときに `` 403 Forbidden``エラーを返す代わりに、IOError（または類似のもの）が発生します。</li>
</ul>
</div>
<div class="section" id="id118">
<h3>足場<a class="headerlink" href="#id118" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのスカフォールドは `` cache_max_age``パラメータを `` add_static_view``メソッドに送ります。</li>
</ul>
</div>
</div>
<div class="section" id="a5-2011-09-04">
<h2>1.2a5（2011-09-04）<a class="headerlink" href="#a5-2011-09-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id119">
<h3>バグの修正<a class="headerlink" href="#id119" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>特定の状況でルートを登録するとき、コンフィギュレータの `` route_prefix``が適切に考慮されていませんでした。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/260を参照してください。</li>
</ul>
</div>
<div class="section" id="id120">
<h3>依存関係<a class="headerlink" href="#id120" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` zope.configuration``パッケージはもはや依存関係ではありません。</li>
</ul>
</div>
</div>
<div class="section" id="a4-2011-09-02">
<h2>1.2a4（2011-09-02）<a class="headerlink" href="#a4-2011-09-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id121">
<h3>特徴<a class="headerlink" href="#id121" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.config.Configurator.scan（） <a href="#id1"><span class="problematic" id="id2">``</span></a>に対する `` onerror``キーワード引数をサポートします。このonerrorキーワード引数は `` venusian.Scanner.scan（） <a href="#id3"><span class="problematic" id="id4">``</span></a>に渡され、スキャン中に例外が発生した場合のエラー動作に影響を与えます。</li>
<li>`` pyramid.config.Configurator.add_view``と `` pyramid.config.Configurator.add_route``への `` request_method``述語引数は、HTTPメソッド名のタプルであることが許可されています。以前は、単一のHTTPメソッド名を表す文字列に限定されていました。</li>
<li>未使用の `` pyramid.traversal.find_model``、 `` pyramid.traversal.model_path``、 `` pyramid.traversal.model_path_tuple``、および `` pyramid.url.model_url``はPyramid 1.0で廃止されました。名前が変更された `` <a href="#id581"><span class="problematic" id="id582">resource_</span></a> * <a href="#id1"><span class="problematic" id="id2">``</span></a>接頭辞付き関数のエイリアスとして永遠に残すことは、それほどコストがかかりません。</li>
<li>未使用の `` pyramid.view.bfg_view``は、Pyramid 1.0で廃止されました。これは `` pyramid.view.view_config``への低コストのエイリアスです。これは永遠に残しておきます。</li>
</ul>
</div>
<div class="section" id="id122">
<h3>依存関係<a class="headerlink" href="#id122" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Pyramidは、 `` pyramid.config.Configurator.scan``の `` onerror``キーワード引数をサポートするために、Venusian 1.0a1以上を必要としています。</li>
</ul>
</div>
</div>
<div class="section" id="a3-2011-08-29">
<h2>1.2a3（2011-08-29）<a class="headerlink" href="#a3-2011-08-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id123">
<h3>バグの修正<a class="headerlink" href="#id123" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Pyramidは、1.2a1で行われたリファクタリングのために、呼び出し元パッケージの相対パスが渡されたときに、 `` pyramid.url.static_url``を使って静的URLを適切に生成しませんでした。</li>
<li>`` settings``オブジェクトは、 `` __getattr__``が呼び出されたときに非推奨警告を出しました。しかし、 `` __getattr__``が任意のオブジェクトに対して呼び出される正当な状況があります（例えば `` hasattr``など）。現在、 `` settings``オブジェクトは、検索が成功すると警告を出すだけです。</li>
</ul>
</div>
<div class="section" id="id124">
<h3>内部<a class="headerlink" href="#id124" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいレンダラーヘルパー（クリーンアップ）を作成するのではなく、view_configデコレータで `` config.with_package``を使用してください。</li>
</ul>
</div>
</div>
<div class="section" id="a2-2011-08-27">
<h2>1.2a2（2011-08-27）<a class="headerlink" href="#a2-2011-08-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id125">
<h3>バグの修正<a class="headerlink" href="#id125" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Configuratorコンストラクタに `` renderers = <a href="#id1"><span class="problematic" id="id2">``</span></a>引数が指定されていない場合、デフォルトのレンダラーセットを熱心に登録してコミットします。これにより、Configuratorの構築直後にコミットせずに1.2a1で壊れていたデフォルトのレンダラのオーバーライドが可能になります。</li>
<li>Makoのレンダリング例外では、エラーメッセージの値が間違っていました。</li>
<li>Configuratorのコンストラクタは無条件で &amp;quot;ユーザーの言葉&amp;quot;のように扱われるため、インクルードはルートファクトリを正常に設定できませんでした。</li>
</ul>
</div>
<div class="section" id="id126">
<h3>特徴<a class="headerlink" href="#id126" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>セッションファクトリは、点線の名前構文を使用して渡すことができるようになりました。</li>
</ul>
</div>
</div>
<div class="section" id="a1-2011-08-24">
<h2>1.2a1（2011-08-24）<a class="headerlink" href="#a1-2011-08-24" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id127">
<h3>特徴<a class="headerlink" href="#id127" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">ini設定ファイルの `` [pshell] <a href="#id1"><span class="problematic" id="id2">``</span></a>セクションは `` setup``キーを、ブートストラップ環境に渡される呼び出し可能ファイルを指す点線の名​​前として扱うようになりました。それは、大正義のために必要に応じて環境を変えることができます。</p>
</li>
<li><p class="first">`` pyramid.includes``という名前の新しい設定が利用可能になりました。これは&amp;quot;環境変数と` <a href="#id1"><span class="problematic" id="id2">`</span></a>.ini``ファイル設定&amp;quot;ナレーション文書の章に記述されています。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.include``メソッドに `` route_prefix``引数を追加しました。この引数を使用すると、URLディスパッチアプリケーションを一緒に作成できます。 &amp;quot;URL Dispatch narrative documentation&amp;quot;の章の &amp;quot;アプリケーションを作成するためのルートプレフィックスの使用&amp;quot;を参照してください。</p>
</li>
<li><p class="first">`` pyramid.security.NO_PERMISSION_REQUIRED``定数を、 `` permission = <a href="#id1"><span class="problematic" id="id2">``</span></a>文で使用して設定を表示するようにしました。この定数は文字列 `` __no_permission_required__``の値を持ちます。この文字列値は、以前はドキュメントで参照されていました。ドキュメントは定数を使用するようになりました。</p>
</li>
<li><p class="first">レスポンスアダプタを設定するデコレータベースの方法を追加しました： `` pyramid.response.response_adapter``。このデコレータは `` pyramid.config.Configurator.add_response_adapter``と同じ用途を持ちますが、宣言的です。</p>
</li>
<li><p class="first">`` pyramid.events.BeforeRender``イベントには `` rendering_val``という名前の属性が追加されました。これは、BeforeRenderサブスクライバのビューによって返された値をイントロスペクションするために使用できます。</p>
</li>
<li><p class="first">新しい設定ディレクティブ： `` pyramid.config.Configurator.add_tween``。このディレクティブは&amp;quot;tween &amp;quot;を追加します。 &amp;quot;tween &amp;quot;は、ピラミッドルータのプライマリリクエスト処理関数をラップするために使用されます。これはPyramidフレームワーク拡張で、タイミングのサポートを表示したり、簿記コードを置くのに便利な場所を提供するために使用できる機能です。</p>
<p>Tweensについては、&amp;quot;Registering Tweens &amp;quot;というHooksの章のナレーション文書セクションで詳しく説明しています。</p>
</li>
<li><p class="first">詳細については、解説書のCommand-Line Pyramidの章にある &amp;quot;Tweensの表示&amp;quot;という節を参照してください。</p>
</li>
<li><p class="first">Pyramidデバッグロガーは、標準のロギング設定を使用するようになりました（通常は、スタートアップの一部としてPasteで設定されます）。これは、例えば `` debug_notfound``、 `` debug_authorization``などからの出力が通常のロギングチャネルに行くことを意味します。デバッグロガーのロガー名は、コンフィグレータのコンストラクタの* caller <a href="#id1"><span class="problematic" id="id2">*</span></a>のパッケージ名になります。</p>
</li>
<li><p class="first">新しい属性はリクエストオブジェクトで利用できます： `` exc_info``。 Pyramidルータが例外をキャッチするまで、その値は `` None``になります。その後、 `` sys.exc_info（） <a href="#id1"><span class="problematic" id="id2">``</span></a>の結果になります。</p>
</li>
<li><p class="first">`` pyramid.testing.DummyRequest``は `` add_finished_callback``メソッドと `` add_response_callback``メソッドを実装しました。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator``クラスの新しいメソッド： `` set_authentication_policy``と `` set_authorization_policy``。これらは主にアドオンの作者によって消費されることを意図しています。</p>
</li>
<li><p class="first">新しいコンフィグレータメソッド： `` set_root_factory``。</p>
</li>
<li><p class="first">Pyramidは、コンストラクタの構築時にいくつかのデフォルトのコンフィグレーション文をコミットせず、コンストラクタ引数（例： `` authentication_policy``と `` authorization_policy``）として渡された値が&amp;quot;include &amp;quot;で取得された同じ設定をオーバーライドします。</p>
</li>
<li><p class="first">`` pyramid.mako_templating.MakoRenderingException``を使って例外をレンダリングしたほうがよかったです</p>
</li>
<li><p class="first">新しいリクエストメソッド： `` current_route_url``、 `` current_route_path``、および `` static_path``。</p>
</li>
<li><p class="first">`` pyramid.url``： `` current_route_path``と `` static_path``の新機能です。</p>
</li>
<li><p class="first">`` pyramid.request.Request.static_url`` API（およびその兄弟の `` pyramid.request.Request.static_path``、 `` pyramid.url.static_url``、 `` pyramid.url.static_path``）は、 asboluteファイル名を&amp;quot;path &amp;quot;引数として受け入れるようになりました。これにより、ファイル名が以前に静的ビューとして登録されていたディレクトリにある限り、アセットへのURLが生成されます。以前は、絶対ファイルパスを使用してアセットへのURLを生成しようとすると、ValueErrorが発生しました。</p>
</li>
<li><p class="first">`` RemoteUserAuthenticationPolicy <code class="docutils literal notranslate"><span class="pre">、</span> <span class="pre">``</span> <span class="pre">AuthTktAuthenticationPolicy</span></code>、および `` SessionAuthenticationPolicy``のコンストラクタは、 `` debug``というキーワード引数を追加できるようになりました。デフォルトでは、このキーワード引数は `` False``です。 `` True``の場合、これらのポリシーのいずれかで `` authenticated_userid``または `` effective_principals``メソッドが呼び出されると、デバッグ情報がPyramidデバッグロガー（通常はstderr）に送られます。生成された出力は、認証関連の問題を診断するときに役立ちます。</p>
</li>
<li><p class="first">新しいビュー述語： `` match_param``。例： `` config.add_view（aview、match_param = &amp;#39;action = edit&amp;#39;） <a href="#id1"><span class="problematic" id="id2">``</span></a>で追加されたビューは `` request.matchdict``の中に `` action``という名前の値がある場合にのみ呼び出されます。 `` edit``の値です。</p>
</li>
</ul>
</div>
<div class="section" id="id128">
<h3>内部<a class="headerlink" href="#id128" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Pyramid &amp;quot;exception view &amp;quot;機構は今や&amp;quot;tween &amp;quot;（ &amp;quot;pyramid.tweens.excview_tween_factory``）として実装されています。</li>
<li>WSGIHTTPException（HTTPFound、HTTPNotFoundなど）にWSGI環境が提供されているときに本文とコンテンツタイプをレンダリングする&amp;quot;prepare &amp;quot;という名前の新しいAPIが追加されました。デバッグツールバーに必要です。</li>
<li>WSGIHTTPExceptionで `` __call__``や `` prepare``が呼び出されると、本体が設定され、その後の `` __call__``への呼び出しは常に同じ本体を返します。例外の本文を再レンダリングするには、body属性を削除します。</li>
<li>以前は `` pyramid.events.BeforeRender``イベントは辞書をラップしました（それは `` _system``属性として扱いました）。今は*辞書です（ `` dict``から継承しています）。これはテンプレートに渡される値で、トップレベルの辞書になります。</li>
<li>`` pyramid.url``パッケージの `` route_url``、 `` route_path``、 `` resource_url``、 `` static_url``、 `` current_route_url``関数は、リクエストのメソッドに委譲します彼らは他の方法の代わりに、渡されてきました。 pyramid.request.Requestオブジェクトはpyramid.url.URLMethodsMixinというミックスインを継承し、これを可能にし、すべてのURL /パス生成ロジックがこのミックスインに組み込まれています。</li>
<li>`` pyramid.config``をパッケージにリファクタリングします。</li>
<li>コンフィギュレータの `` _set_security_policies``メソッドを削除しました。</li>
<li>`` StaticURLInfo``クラスを `` pyramid.static``から `` pyramid.config.views``に移動しました。</li>
<li>`` Settings``クラスを `` pyramid.settings``から `` pyramid.config.settings``に移動してください。</li>
<li>`` OverrideProvider``、 `` PackageOverride``、 `` DirectoryOverride``、および `` FileOverride``クラスを `` pyramid.asset``から `` pyramid.config.assets``に移動します。</li>
</ul>
</div>
<div class="section" id="id129">
<h3>廃止<a class="headerlink" href="#id129" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのPyramid関連のデプロイメント設定（ `` debug_all``、 `` debug_notfound``など）に接頭辞 `` pyramid``を付けることになっています。例： `` debug_all``  - &amp;gt; `` pyramid.debug_all``です。古いプレフィックスが設定されていない設定は引き続き無期限に機能しますが、それらを指定すると、最終的に廃止予定の警告が表示されることがあります。すべての足場とチュートリアルは、プレフィックス設定を使用するように変更されました。</li>
<li>`` settings``ディクショナリは `` __getitem__``の代わりに `` __getattr__``経由で値にアクセスしようとすると非推奨の警告を出します。</li>
</ul>
</div>
<div class="section" id="id130">
<h3>後方の非互換性<a class="headerlink" href="#id130" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">文字列がコンフィグレータに `` debug_logger``パラメータとして渡された場合、その文字列はロガーのインスタンスへのドット付きの名前ではなく、グローバルなPythonのロガーの名前と見なされます。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.include``メソッドは、単一の `` callable``引数（許可された呼び出し元のシーケンス）のみを受け入れるようになりました。複数の `` callable``を `` pyramid.config.Configurator.include``に渡すと、それは中断されます。代わりに、各呼び出し可能メソッドのメソッドを別々に呼び出す必要があります。この変更は、includeの `` route_prefix``機能をサポートするために導入されました。</p>
</li>
<li><p class="first">&amp;quot;自動コミット&amp;quot;コンフィグレータを使用する場合は、設定ルートとビューステートメントをより厳密に順序付ける必要があります。以前は、自動コミット・コンフィグレータを使用したときに、その名前のルートを追加する前にルート名を指定したビューを追加することができました。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="s1">&#39;my.pkg.someview&#39;</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;/foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>ビューがそれ自身を追加しようとすると、上記の例外が発生します。ビューを追加する前にルートを追加する必要があります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;/foo&#39;</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="s1">&#39;my.pkg.someview&#39;</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>これは普通のユーザには影響せず、自動コミットのコンフィグレータを使ったレガシーBFGコードベースを持っていて、おそらくコンフィグレータAPIを使うテスト（ `` pyramid.testing.setUp``で返されたコンフィグレータはオートコミッティングコンフィギュレータ）。これを回避する適切な方法は、これらのディレクティブの順序付け要件を持たない非自動コミット・コンフィグレータ（デフォルト）を使用することです。</p>
</li>
<li><p class="first">`` pyramid.config.Configurator.add_route``ディレクティブはルートオブジェクトを返さなくなりました。この変更は、ルートとビューの構成処理を適切に動作させるために必要でした。</p>
</li>
</ul>
</div>
<div class="section" id="id131">
<h3>ドキュメンテーション<a class="headerlink" href="#id131" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.url``パッケージの `` route_url``、 `` route_path``、 `` resource_url``、 `` static_url``、および `` current_route_url``関数を使った説明とAPIのドキュメントは、今や代わりにリクエストの名義的なメソッドを使用するように変更されました。</li>
<li>「アプリケーションを作成するためのルートプレフィックスの使用」というタイトルのセクションを&amp;quot;URLディスパッチ&amp;quot;ナレーションドキュメントの章に追加しました。</li>
<li>API docs： `` pyramid.tweens``に新しいモジュールを追加しました。</li>
<li>&amp;quot;フックn&amp;quot;の説明の章に&amp;quot;Registering Tweens &amp;quot;セクションを追加しました。</li>
<li>&amp;quot;コマンドラインピラミッド&amp;quot;の説明の章に&amp;quot;Tweens &amp;quot;セクションを追加しました。</li>
<li>`` pyramid.tweens``と `` pyramid.includes``の環境設定を環境変数と `` .ini``ファイル設定の章に追加しました。</li>
<li>物語のドキュメンテーションにロギングの章を追加しました（Pylonsのロギングドキュメントに基づいて、Philに感謝します）。</li>
<li>物語のドキュメントにペーストの章を追加しました（プロジェクトの章から移動した内容）。</li>
<li>辞書のメソッドを表す `` pyramid.interfaces.IDict``インターフェースをドキュメント化のためだけに追加しました（IMultiDictとIBeforeRenderはそれを継承しています）。</li>
<li>すべてのチュートリアルでは、ピラミッドからインポートされた関数バリエーションではなく、リクエストの `` route_url``、 `` route_path``、 `` resource_url``、 `` static_url``、 `` current_route_url``メソッドを使用しています.url``。</li>
<li>ZODB wikiチュートリアルでは、 `` repoze.zodbconn``パッケージではなく `` pyramid_zodbconn``パッケージを使用して、ZODB統合を提供しています。</li>
</ul>
</div>
<div class="section" id="dependency-changes">
<h3>依存関係の変更<a class="headerlink" href="#dependency-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>PyramidはPasteScript&amp;gt; = 1.7.4に依存しています。このバージョンには、柔軟なログ設定を可能にするために重要な機能が含まれています。</li>
</ul>
</div>
<div class="section" id="id132">
<h3>足場<a class="headerlink" href="#id132" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのスカフォールドは、トランザクション管理を管理するために `` repoze.tm2``ミドルウェアではなく、 `` pyramid_tm``パッケージを使用します。</li>
<li>ZODBスキャフォールドはZODB統合を提供するために `` repoze.zodbconn``パッケージではなく `` pyramid_zodbconn``パッケージを使用するようになりました。</li>
<li>すべての足場は対話的なデバッグ機能を提供するために `` WebError``パッケージではなく `` pyramid_debugtoolbar``パッケージを使用します。</li>
<li>足場で作成されたプロジェクトは、 `` WebError``パッケージに全く依存しなくなりました。 `` error_catcher``ミドルウェアを必要としていた `` production.ini``ファイルの設定が削除されました。エラー捕捉/電子メールの送信を設定することは、 `` pyramid_exclog``パッケージのドメインになりました（<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_exclog/en/latest">http://docs.pylonsproject.org/projects/pyramid_exclog/en/latest</a>/を参照）。</li>
</ul>
</div>
<div class="section" id="id133">
<h3>バグの修正<a class="headerlink" href="#id133" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>特定の時間に動作しないデフォルトのレンダラーに関する問題を修正しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/249を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="id134">
<h2>1.1（2011-07-22）<a class="headerlink" href="#id134" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id135">
<h3>特徴<a class="headerlink" href="#id135" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.renderers.null_renderer``オブジェクトをAPIとして追加しました。 nullレンダラーは、ビュー構成のレンダラー= <a href="#id1"><span class="problematic" id="id2">``</span></a>引き数への入力として高度な統合のケースで使用できるオブジェクトです。 nullレンダラーをビューレンダラー引数として使用すると、Pyramidはビューの呼び出し可能な結果を​​Responseオブジェクトに変換することを回避します。これは、Pyramidルーターが使用しているコンテキスト外で、ビュー構成とルックアップマシンを再利用する場合に便利です。この機能は `` pyramid_rpc``パッケージが消費するために追加されました。このパッケージは、まさにこのようにルータのコンテキスト外でビューの設定とルックアップを使用します。 `` pyramid_rpc``は1.1b1以降1.1で壊れました。それを追加することで、私たちはそれを再び働かせることができます。</li>
<li>docs.pylonsproject.orgを指すすべての足場テンプレートを、 `` / projects / pyramid / dev``ではなく `` / projects / pyramid / current``を使うように変更してください。</li>
</ul>
</div>
<div class="section" id="id136">
<h3>内部<a class="headerlink" href="#id136" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Python 2.4との下位互換性を提供する目的のみに役立つ `` compat``コードを削除します。</li>
<li>野生で使用されている非API関数 `` pyramid.renderers.renderer_from_name``の非推奨警告を追加しました。</li>
<li>`` pyramid.view.view_config``デコレータで使用する `` pyramid.renderers.RendererHelper``に `` clone``メソッドを追加してください。</li>
</ul>
</div>
<div class="section" id="id137">
<h3>ドキュメンテーション<a class="headerlink" href="#id137" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>wiki2（SQLA + URL Dispatch）チュートリアルの2つのタイプミスを修正しました。</li>
<li>新しいユーザーの使いやすさのために、物語セクションの章を並べ替えました。</li>
<li>ドキュメントのセクションにインデックスマーカーを追加しました。</li>
</ul>
</div>
</div>
<div class="section" id="b4-2011-07-18">
<h2>1.1b4（2011-07-18）<a class="headerlink" href="#b4-2011-07-18" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id138">
<h3>ドキュメンテーション<a class="headerlink" href="#id138" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&amp;quot;コマンドラインピラミッド&amp;quot;の章に &amp;quot;スクリプトを書く&amp;quot;というセクションを追加しました。</li>
</ul>
</div>
<div class="section" id="id139">
<h3>後方の非互換性<a class="headerlink" href="#id139" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.scripting.make_request`` APIを1.1b3にあまりにも急激に追加しました。削除されました。ご不便をかけて申し訳ありません。代わりに `` pyramid.request.Request.blank`` APIを使用してください。</li>
</ul>
</div>
<div class="section" id="id140">
<h3>特徴<a class="headerlink" href="#id140" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>後述する `` paster pshell``、 `` paster pviews``、 `` paster proutes``コマンドは `` pyramid.paster.bootstrap``を使用して `` .ini <a href="#id1"><span class="problematic" id="id2">``</span></a>ファイル名を指定せずに、実際のピラミッドアプリケーションを指し示すファイルを探します。代わりに、一般的には `` paster {pshell | proutes | pviews} development.ini``を実行することができ、それはほとんど正しいことをします。</li>
</ul>
</div>
<div class="section" id="id141">
<h3>バグの修正<a class="headerlink" href="#id141" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.httpexceptions.WSGIHTTPException._set_default_attrs``でカスタム例外テンプレートをレンダリングするときにカスタム環境変数を省略します。文字列化すると、実行すべきではないコードがトリガされます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/239を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b3-2011-07-15">
<h2>1.1b3（2011-07-15）<a class="headerlink" href="#b3-2011-07-15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id142">
<h3>特徴<a class="headerlink" href="#id142" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">ビューの半機能テストを容易にするためにコーナーケースを修正する：再レンダリング時に古いレジストリをクリアするために新しいレンダリングリンゴを作成する。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/234を参照してください。</p>
</li>
<li><p class="first">新しいAPIクラス： `` pyramid.static.static_view``。これは廃止された `` pyramid.view.static``クラスに取って代わるものです。 `` pyramid.static.static_view``は、デフォルトでは、リクエストの `` path_info``属性の結果として文書を提供します。属性は `` subpath``属性ではありません（逆は `` pyramid.view.static`` <cite>、まだあります）。 `</cite> pyramid.static.static_view``は `` use_subpath``フラグを公開します。これは、静的ビューを古い非推奨バージョンと同じように動作させたい場合に使用します。</p>
</li>
<li><p class="first">新しいAPI関数 `` pyramid.paster.bootstrap``が追加され、Pyramid環境を簡単にブートストラップするスクリプトを作成しました。例えば:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.paster</span> <span class="k">import</span> <span class="n">bootstrap</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="p">(</span><span class="s1">&#39;/path/to/my/development.ini&#39;</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span>
<span class="nb">print</span> <span class="n">request</span><span class="o">.</span><span class="n">route_url</span><span class="p">(</span><span class="s1">&#39;myroute&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">新しいAPI関数 `` pyramid.scripting.prepare`が追加されました。これは、 `` pyramid.paster.boostrap``の下位レベルのアナログであり、設定ファイル引数の代わりに要求とレジストリを受け入れ、同じ目的で使用されます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.scripting</span> <span class="k">import</span> <span class="n">prepare</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">prepare</span><span class="p">(</span><span class="n">registry</span><span class="o">=</span><span class="n">myregistry</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;request&#39;</span><span class="p">]</span>
<span class="nb">print</span> <span class="n">request</span><span class="o">.</span><span class="n">route_url</span><span class="p">(</span><span class="s1">&#39;myroute&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">新しいAPI関数 `` pyramid.scripting.make_request`が追加されました。結果として得られるリクエストは `` registry``属性を持ちます。 `` pyramid.scripting.prepare``や `` pyramid.paster.bootstrap``（どちらも引数としてリクエストを受け付けます）と一緒に使用することを意図しています:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.scripting</span> <span class="k">import</span> <span class="n">make_request</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">新しいAPI属性 `` pyramid.config.global_registries``は、 `` pyramid.config.Configurator.make_app``を介して現在のプロセスに読み込まれたすべてのPyramidレジストリへの参照を含む反復可能なオブジェクトです。最後にロードされたレジストリを含む `` last``属性もあります。これはスクリプティング機器で使用され、イントロスペクションに使用できます。</p>
</li>
</ul>
</div>
<div class="section" id="id143">
<h3>廃止<a class="headerlink" href="#id143" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.view.static``クラスは、より新しい `` pyramid.static.static_view``クラスのために推奨されなくなりました。非推奨警告は使用時に発生します。 `` use_subpath = True``引数で `` pyramid.static.static_view``への参照で置き換えるべきです。</li>
</ul>
</div>
<div class="section" id="id144">
<h3>バグの修正<a class="headerlink" href="#id144" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>domain / localeの組み合わせに対してmoファイルがロードされていなければ、そのドメイン/ロケールの組み合わせを使用して実行される `` pyramid.i18n.Localizer.pluralize``は、変換不可能な&amp;quot;変換オブジェクトにはattr &amp;#39;複数の&amp;#39; &amp;quot;エラーがありません。さて、代わりに&amp;quot;works &amp;quot;（デフォルトではドイツ語の複数形を使用しています）。利用可能なロケール/ドメインの翻訳なしで何かを複数形にしようとするのは無意味ですが、この動作は `` pyramid.i18n.Localizer.translate``の動作と一致します。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/235を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b2-2011-07-13">
<h2>1.1b2（2011-07-13）<a class="headerlink" href="#b2-2011-07-13" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id145">
<h3>特徴<a class="headerlink" href="#id145" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しい環境設定 `` PYRAMID_PREVENT_HTTP_CACHE``と新しい設定ファイルの値 `` prevent_http_cache``です。これらは同義語であり、プロセス内でグローバルにPyramidの `` http_cache``機構によってHTTPキャッシュヘッダーが設定されないようにします。 &amp;quot;構成の表示&amp;quot;の章の&amp;quot;Influencing HTTP Caching &amp;quot;セクションと&amp;quot;環境変数と構成設定&amp;quot;の説明の章のこの設定の詳細ドキュメントを参照してください。</li>
</ul>
</div>
<div class="section" id="behavior-changes">
<h3>行動の変化<a class="headerlink" href="#behavior-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>以前は、 `` BeforeRender``イベントサブスクライバが、イベントオブジェクトの `` __setitem__``または `` update``メソッドを介してレンダラーグローバルディクショナリにすでに存在するキーで値を追加した場合、 `` KeyError``提起されました。コンフィギュレータの&amp;quot;add_renderer_globals &amp;quot;機能の廃止により、既に存在していたレンダラグローバルディクショナリの既存の値を上書きする方法はありませんでした。さて、イベントオブジェクトは、 `` __setitem__``または `` update``が呼び出されたとき（新しい `` setdefault``メソッドと同様に）、グローバルディクショナリにすでにある古い値を上書きします古い辞書。その結果、他のサードパーティの加入者との最大限の相互運用性を実現するために、BeforeRenderサブスクライバとして使用する予定のイベントサブスクライバを書くと、サブスクライバコードが必要になります（ `` .get``または <a href="#id1"><span class="problematic" id="id2">``</span></a>____ __contains__``オーバーライド値を設定する前に、レンダラーグローバルディクショナリに値が存在しないことを確認します。</li>
</ul>
</div>
<div class="section" id="id146">
<h3>バグの修正<a class="headerlink" href="#id146" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` Configurator.add_route``メソッドは、中間の `` config.commit（） <a href="#id1"><span class="problematic" id="id2">``</span></a>なしで同じルートを持つ2つのルートを追加することを許可しました。起動時に `` ConfigurationError``が `` add_route``に関連しているように見える場合は、a）すべてのルート名が一意であることを確認するか、またはb） `` config.commit以前に追加された名前の名前を持つ第2のルートを追加する前に、または `` autocommit``モードで動作するConfiguratorを使用してください。</li>
<li>`` pyramid_routesalchemy``と `` pyramid_alchemy``足場は、 `` transaction.abort（） <a href="#id1"><span class="problematic" id="id2">``</span></a>の代わりに `` DBSession.rollback（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を不適切に使用していました。</li>
<li>私たちは例外ビューを呼び出す前に `` request.response``をクリアします。例外ビューは、例外の前にどのコードでも触れられていないrequest.responseで動作します。</li>
<li>`` zope.interface`` 3.6.4以上でPyramidを使用すると、ルート名にスペースが含まれているルートに関連するビューが正しくルックアップされていない可能性があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/232を参照してください。</li>
</ul>
</div>
<div class="section" id="id147">
<h3>ドキュメンテーション<a class="headerlink" href="#id147" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Wiki2（SQLAlchemy + URL Dispatch）チュートリアル `` models.initialize_sql``は、同じ名前の `` pyramid_routesalchemy``スカフォールド関数と一致しませんでした。それは足場で変更された時には同期しなかった。</li>
<li>「構成の設定」の説明の章の新しい文書のセクション：&amp;quot;HTTPキャッシュの影響&amp;quot;</li>
</ul>
</div>
</div>
<div class="section" id="b1-2011-07-10">
<h2>1.1b1（2011-07-10）<a class="headerlink" href="#b1-2011-07-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id148">
<h3>特徴<a class="headerlink" href="#id148" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">引数に指定されているpaste iniファイルセクション名がPyramid WSGIアプリケーションではない場合でも、 `` paster pshell``を呼び出すことが可能になりました。シェルは劣化モードで動作し、ユーザーに警告します。 &amp;quot;Pyramid Projectの作成&amp;quot;ドキュメンテーションセクションの&amp;quot;The Interactive Shell &amp;quot;を参照してください。</p>
</li>
<li><p class="first">`` paster pshell``は、デフォルトで（ `` app``と `` settings``を含む）より多くの組み込みのグローバル変数を提供します。 &amp;quot;Pyramid Projectの作成&amp;quot;ドキュメンテーションセクションの&amp;quot;The Interactive Shell &amp;quot;を参照してください。</p>
</li>
<li><p class="first">現在、アプリケーションの.ini設定ファイルに `` [pshell] <a href="#id1"><span class="problematic" id="id2">`</span></a>セクションを追加することができます。これは、pshellセッションで使用できるグローバル名に影響します。 &amp;quot;ピラミッドプロジェクトの作成&amp;quot;ドキュメンテーションの章の&amp;quot;シェルを拡張する&amp;quot;を参照してください。</p>
</li>
<li><p class="first">`` config.scan``メソッドは `` ** kw``引数を増やしました。 `` kw``引数は、ピラミッドが作成したVenusianの `` Scanner``オブジェクトに渡すキーワード引数の集合を表します。 （ `` Scanner``の詳細については、Venusianのドキュメントを参照してください）。</p>
</li>
<li><p class="first">新しいリクエストプロパティ： `` json_body``。このプロパティは、リクエスト本体のJSONでデコードされた変形を返します。要求の本文が整形式JSONでない場合、このプロパティは例外を発生させます。</p>
</li>
<li><p class="first">新しい値 `` http_cache``をビュー設定パラメータとして使うことができます。</p>
<p>ビュー設定に `` http_cache``値を指定すると、関連するview呼び出し可能で生成されたレスポンスの `` Expires``と `` Cache-Control``ヘッダーが変更されます。 `` http_cache``の値は次のいずれかです：</p>
<ul class="simple">
<li>非ゼロの整数。ゼロ以外の整数の場合、秒数として扱われます。この秒数は、このビューを呼び出すリクエストに対するレスポンスの `` Expires``ヘッダと `` Cache-Control：max-age``パラメータを計算するために使用されます。たとえば、 `` http_cache = 3600``は、リクエストしているブラウザに「この応答を1時間キャッシュしてください」と指示します。</li>
<li>`` datetime.timedelta``インスタンスです。 `` datetime.timedelta``インスタンスの場合、秒数に変換され、その秒数が `` Expires``ヘッダーと `` Cache-Control：max-age &amp;#39;&amp;#39;を計算するために使われますこのビューを呼び出す要求への応答のパラメータ。例： `` http_cache = datetime.timedelta（days = 1） <a href="#id1"><span class="problematic" id="id2">``</span></a>は、リクエストしているブラウザに「この応答を1日キャッシュしてください」と指示します。</li>
<li>0（ `` 0``）。値がゼロの場合、このビューからのすべての応答に存在する `` Cache-Control``と `` Expires``ヘッダーは、クライアントブラウザのキャッシュ（および任意の中間キャッシュ）にレスポンスをキャッシュしないように構成されます。</li>
<li>2タプル。それが2つのタプル（例えば `` http_cache =（1、{&amp;#39;public&amp;#39;：True）） <a href="#id1"><span class="problematic" id="id2">``</span></a>）の場合、タプルの最初の値は非ゼロの整数か `` datetime.timedelta``インスタンスです。どちらの場合も、この値はレスポンスをキャッシュする秒数として使用されます。タプルの2番目の値は辞書でなければなりません。辞書にある値は `` Cache-Control``レスポンスヘッダへの入力として使われます。例えば、 `` http_cache =（3600、{&amp;#39;public&amp;#39;：True}）は <a href="#id3"><span class="problematic" id="id4">``</span></a>キャッシュを1時間意味し、 `` public``をレスポンスのCache-Controlヘッダに追加します。 `` webob.cachecontrol.CacheControl``インターフェースでサポートされているすべてのキーと値を辞書に追加することができます。 `` {&amp;#39;public&amp;#39;：True} <a href="#id5"><span class="problematic" id="id6">``</span></a>を提供することは、 `` response.cache_control.public = True``を呼び出すことと等価です。</li>
</ul>
<p>`` http_cache``として非タプルの値を与えることは、あなたのビューのボディ内で `` response.cache_expires（value） <a href="#id1"><span class="problematic" id="id2">``</span></a>を呼び出すことと同じです。</p>
<p>`` http_cache``として2タプルの値を与えることは、あなたのビューのボディ内で `` response.cache_expires（value [0]、** value [1]） <a href="#id1"><span class="problematic" id="id2">``</span></a>を呼び出すのと同じです。</p>
<p>`` Expires``ヘッダーに影響を与えず、 `` Cache-Control``ヘッダにのみ影響を与えたい場合は、 `` None``の最初の要素を持つ `` http_cache``としてタプルを渡し、例： <a href="#id1"><span class="problematic" id="id2">``</span></a>（None、{&amp;#39;public&amp;#39;：True}） <a href="#id3"><span class="problematic" id="id4">``</span></a>。</p>
</li>
</ul>
</div>
<div class="section" id="id149">
<h3>バグの修正<a class="headerlink" href="#id149" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>元のビューのフレームワークラッパー（http_cachedなど）は、受信した応答がIResponseであることを信頼できることに依存していました。これは、必ずしもそうではありませんでした。なぜなら、応答は、ラップの初期段階ではなくルータによって解決されたからです。これは修正されました。</li>
</ul>
</div>
<div class="section" id="id150">
<h3>ドキュメンテーション<a class="headerlink" href="#id150" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&amp;quot;Webob &amp;quot;章に&amp;quot;JSONエンコードされたリクエスト本体を扱う&amp;quot;というセクションを追加しました（ `` request.json_body``の使用法）。</li>
</ul>
</div>
<div class="section" id="id151">
<h3>行動の変化<a class="headerlink" href="#id151" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` paster pshell``、 `` paster proutes``、 `` paster pviews``コマンドは、前の2つではなく `` / path / to / config.ini＃sectionname``の形式で引数を取るようになりました - 引数の `` /path/to/config.ini sectionname``のスペルです。 <a href="#id1"><span class="problematic" id="id2">``</span></a>＃sectionname``は省略できます。この場合、 <a href="#id3"><span class="problematic" id="id4">``</span></a>＃main``が仮定されます。</li>
</ul>
</div>
</div>
<div class="section" id="a4-2011-07-01">
<h2>1.1a4（2011-07-01）<a class="headerlink" href="#a4-2011-07-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id152">
<h3>バグの修正<a class="headerlink" href="#id152" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pyramid.testing.DummyRequest``は `` pyramid.request.Request``で廃止された属性にアクセスするとき（ `` response_content_type``のように）、廃止予定の警告を出します。これは、&amp;quot;実際の&amp;quot;要求の代わりにDummyRequestを使用するユニットテストを実行している人々の利益のためです。機能テストスイートを必要とせずに廃止されたことを知っています。</p>
</li>
<li><p class="first">`` pyramid.events.subscriber``ディレクティブは、複数のインタフェースオブジェクトをコンストラクタに渡すと、ドキュメンテーションとは逆の動作をします。たとえば、次のリスナーが登録されているとします。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">(</span><span class="n">IFoo</span><span class="p">,</span> <span class="n">IBar</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">expects_ifoo_events_and_ibar_events</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">event</span>
</pre></div>
</div>
<p>イベントの章docsは、リスナーが登録され、 `` IFoo``と `` IBar``イベントの両方を聞くと主張しました。代わりに、IObjectEventが発行され、オブジェクトインタフェースが &amp;quot;IFoo&amp;quot;で、イベントインタフェースが &amp;quot;IBar&amp;quot;であった場合にのみ呼び出される&amp;quot;オブジェクトイベント&amp;quot;サブスクライバを登録しました。</p>
<p>この動作はドキュメントと一致するようになりました。オブジェクトイベントサブスクライバを登録するために1.0の `` subscriber``ディレクティブのバグの振る舞いに頼っていた場合、オブジェクトイベントのサブスクライバを登録することを示すシーケンスを渡す必要があります。例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@subscriber</span><span class="p">([</span><span class="n">IFoo</span><span class="p">,</span> <span class="n">IBar</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">expects_object_event</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span> <span class="nb">object</span><span class="p">,</span> <span class="n">event</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id153">
<h3>特徴<a class="headerlink" href="#id153" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>JSONPレンダラーを追加します（ドキュメントのレンダラーの章にある&amp;quot;JSONPレンダラー&amp;quot;を参照）。</li>
</ul>
</div>
<div class="section" id="id154">
<h3>廃止<a class="headerlink" href="#id154" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>コンフィグレータの `` set_renderer_globals_factory``メソッドと `` renderer_globals``コンフィグレータコンストラクタパラメータを廃止しました。</li>
</ul>
</div>
<div class="section" id="id155">
<h3>ドキュメンテーション<a class="headerlink" href="#id155" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>WikiとWiki2チュートリアルの &amp;quot;Tests&amp;quot;章にはそれぞれ2つのバグがありました.WebTestに依存するようにユーザーに指示しておらず、Pyramid自体の変更の結果として2つのテストが失敗しました。これらの問題は修正されました。</li>
<li>1.0.X CHANGES.txtエントリをHISTORY.txtに移動します。</li>
</ul>
</div>
</div>
<div class="section" id="a3-2011-06-26">
<h2>1.1a3（2011-06-26）<a class="headerlink" href="#a3-2011-06-26" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id156">
<h3>特徴<a class="headerlink" href="#id156" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` mako.preprocessor``設定ファイルのパラメータを追加しました。 MakoプリプロセッサをPythonの呼び出し可能な名前またはPythonの点名として指定することができます。根拠については、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/183を参照してください。</li>
</ul>
</div>
<div class="section" id="id157">
<h3>バグの修正<a class="headerlink" href="#id157" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>実際にクラスメソッドであったカスタム述語に `` __text__``属性を設定しようとすると、PyramidはConfiguratorでAttributeErrorを発生させます。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/217を参照してください。</li>
<li><a href="#id583"><span class="problematic" id="id584">要求時に廃止されたresponse_</span></a> * attrsにアクセスしたり設定したりすると（ `` response_content_type``など）、レンダリング時ではなくアクセス時に非推奨警告が発行されるようになりました。</li>
</ul>
</div>
</div>
<div class="section" id="a2-2011-06-22">
<h2>1.1a2（2011-06-22）<a class="headerlink" href="#a2-2011-06-22" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id158">
<h3>バグの修正<a class="headerlink" href="#id158" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>1.1a1は、 `` pyramid.paster.PyramidTemplate``に下位互換性のあるimport shimを提供しないことによってAkhetを壊しました。 Akhetがそれをインポートすると非推奨の警告が出されますが、今では1つが追加されました。</li>
<li>`` config.add_translation_dirs``への一回の呼び出しで複数の仕様が提供された場合、ディレクトリはディレクトリリストの先頭に間違った順序で挿入されました。 `` * specs`` list（リストの後ろにある項目はリストの前に追加されています）。これは修正されました。</li>
</ul>
</div>
<div class="section" id="id159">
<h3>後方の非互換性<a class="headerlink" href="#id159" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">ピラミッドルータは、エラー処理中に `` repoze.bfg``のために書かれたアプリケーションとの下位互換性のためにビュー関連の例外を検出したときに、キー `` environ [&amp;#39;repoze.bfg.message&amp;#39;] <a href="#id1"><span class="problematic" id="id2">``</span></a>に値を設定しようとしました。これは、次のようなコードを使用してこれを行いました:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># &quot;why&quot; is an exception object</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="n">why</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="n">environ</span><span class="p">[</span><span class="s1">&#39;repoze.bfg.message&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>
</pre></div>
</div>
<p>値 `` environ [&amp;#39;repoze.bfg.message&amp;#39;] <a href="#id1"><span class="problematic" id="id2">``</span></a>の使用は、Pyramid 1.0で廃止されました。私たちの定める方針は、完全な2つのメジャーリリースに対する非推奨の機能を削除しないことです。このコードはもともとPyramid 1.2で削除される予定でした。しかし、 `` repoze.bfg.message``値を計算することは、野生で見つかった少なくとも1つのバグ（<a class="reference external" href="https://github.com/Pylons/pyramid/issues/199">https://github.com/Pylons/pyramid/issues/199</a>）のソースであり、下位互換性を維持し、バグを修正するための完全な方法です。したがって、このリリースでは値を設定するコードは削除されています。環境におけるこの値の存在に依存する例外ビューのコードは、要求の `` exception``属性（例えば、 `` request.exception [0] <a href="#id3"><span class="problematic" id="id4">``</span></a>）を使用して、 `` request .environ [&amp;#39;repoze.bfg.message&amp;#39;] <a href="#id5"><span class="problematic" id="id6">``</span></a>。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a1-2011-06-20">
<h2>1.1a1（2011-06-20）<a class="headerlink" href="#a1-2011-06-20" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id160">
<h3>ドキュメンテーション<a class="headerlink" href="#id160" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>「テンプレート」とは、「ペーストテンプレート」と「レンダリングテンプレート」（レンダリングエンジンで作成されたテンプレート、つまりMako、Chameleon、Jinjaなど）の両方を指します。 &amp;quot;Paster templates &amp;quot;は&amp;quot;scaffolds &amp;quot;と呼ばれますが、&amp;quot;rendered templates &amp;quot;の名前は&amp;quot;templates </li>
<li>`` wiki``（ZODB + Traversal）チュートリアルは少し更新されました。</li>
<li>`` wiki2``（SQLA + URL Dispatch）チュートリアルは若干更新されました。</li>
<li>`` pyramid.interfaces.IAuthenticationPolicy``と `` pyramid.interfaces.IAuthorizationPolicy``の公開インタフェースを作って、 `` pyramid.authentication``と `` pyramid.authorization`` APIドキュメントで参照してください。</li>
<li>公開された各インタフェースの関数定義を `` pyramid.interfaces``でレンダリングします。</li>
<li>見つからないドキュメントの参照を `` pyramid.config.Configurator.set_view_mapper``に追加し、&amp;quot;ビューマッパーの使用&amp;quot;というHooksの章のセクションを参照してください。</li>
<li>&amp;quot;環境変数と` <a href="#id1"><span class="problematic" id="id2">`</span></a>.ini``ファイル設定章にセクションを追加しました。&amp;quot;カスタム設定の追加&amp;quot;と書かれています。</li>
<li>&amp;quot;multidict &amp;quot;（例えば、 `` request.POST``のAPI）をインタフェースAPIのドキュメントとして追加しました。</li>
<li>&amp;quot;静的&amp;quot;ルート機能に関する&amp;quot;URL Dispatch &amp;quot;の説明の章にセクションを追加しました。</li>
<li>ドキュメントのHTMLレンダリングに&amp;quot;ピラミッドの新機能1.1 &amp;quot;を追加しました。</li>
<li>`` pyramid.authentication.SessionAuthenticationPolicy``にAPIドキュメントを追加しました。</li>
<li>`` pyramid.httpexceptions.exception_response``にAPIドキュメントを追加しました。</li>
<li>`` pyramid.httpexceptions.exception_response``の説明を含むViewsナレーションの章に&amp;quot;HTTP Exceptions &amp;quot;セクションを追加しました。</li>
</ul>
</div>
<div class="section" id="id161">
<h3>特徴<a class="headerlink" href="#id161" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">言語のフォールバックのサポートを追加する：特定の領域（ `` en_GB``など）を翻訳しようとすると、言語の翻訳に落ちます（つまり `` en``）。これにより、GNU gettextに沿った翻訳動作が行われ、Cの拡張機能を使用すると部分的に翻訳されたテキストが修正されます。</p>
</li>
<li><p class="first">新しい認証ポリシー： `` pyramid.authentication.SessionAuthenticationPolicy``。セッションを使用してクレデンシャルを保存します。</p>
</li>
<li><p class="first">`` pyramid.request.Request``オブジェクト（ `` request.response``など）の `` response``属性にアクセスすると、新しい `` pyramid.response.Response``オブジェクトが生成されるようになりました。この機能は、主にレンダラで設定されたビューが応答属性を設定する必要がある場合に使用されます。すべてのレンダラは、ルータに返されるレスポンスオブジェクトとして `` request.response``が意味するResponseオブジェクトを使用します。</p>
<p>`` request.response``は、レンダラーを使用しないビューのコードでも使用できますが、レンダラーが再生されていないときには `` request.response``で生成されるレスポンスオブジェクトを返す必要があります&amp;quot;グローバル&amp;quot;応答ではありません）。</p>
</li>
<li><p class="first">整数やロングは `` pyramid.url.resource_url``や `` pyramid.request.Request.resource_url``に <a href="#id1"><span class="problematic" id="id2">``</span></a>要素 <a href="#id3"><span class="problematic" id="id4">``</span></a>として渡されます。 `` resource_url（context、request、1,2） <a href="#id5"><span class="problematic" id="id6">``</span></a>（ ` 1 &amp;quot;と&amp;quot; 2 &amp;quot;が&amp;quot;要素 &amp;quot;である）は、暗黙的に結果の文字列に変換されます。以前は整数またはlongを要素として渡すと、TypeErrorが発生します。</p>
</li>
<li><p class="first">`` pyramid_alchemy``ペーストテンプレートは、 `` query.filter_by``ではなく `` query.get``を使用してアイデンティティマップキャッシングをより有効に活用します。</p>
</li>
<li><p class="first">`` pyramid_alchemy``ペーストテンプレートにユニットテストが追加されました。</p>
</li>
<li><p class="first">`` pyramid.i18n.make_localizer`` APIを追加しました（ `` get_localizer`` gutsから抜粋）。</p>
</li>
<li><p class="first">NewRequestイベントサブスクライバによって生成された例外は、例外ビューで捕捉できるようになりました。</p>
</li>
<li><p class="first">Pyramidが例外ビューからForbidden例外を発生させた理由についての情報を得ることができるようになりました。各在庫承認ポリシー（ `` pyramid.interfaces.IAuthorizationPolicy.permits``）の `` permits``メソッドによって返された `` ACLDenied``オブジェクトは、 `` result``属性としてForbidden例外に付加されました。したがって、[禁止された例外]ビューを作成した場合、ACE、ACL、アクセス許可、および要求に含まれるプリンシパルが、たとえば次のように表示されます。 `` context.result.permission``、 `` context.result.acl``などの禁止された例外ビューのロジック内にあります。</p>
</li>
<li><p class="first">`` AuthTktAuthenticationPolicy``を設定する際に、 `` timeout``が `` reissue_time``よりも低くならないように明示的にはしないでください（以前の設定では `` ValueError``が発生します。無意味な）。無意味な設定を許可することで、コードを理解しやすくなり、必要なテストが少なくなりました。</p>
</li>
<li><p class="first">`` paster pviews``という新しいパスタコマンドが追加されました。このコマンドは、指定されたパスについて一致する可能性のあるビューの概要を出力します。詳細については、説明文の&amp;quot;構成の表示&amp;quot;の章の&amp;quot;特定のURLの一致するビューの表示&amp;quot;を参照してください。</p>
</li>
<li><p class="first">Configuratorの `` add_route``メソッドは、 `` static``引数を受け付けるようになりました。この引数が `` True``の場合、要求が処理されたときに追加されたルートは照合のために決して考慮されません。代わりに、 `` route_url``と `` route_path``を使ってURLを生成するだけに便利です。詳細については、URL Dispatchの章の&amp;quot;Static Routes &amp;quot;セクションを参照してください。</p>
</li>
<li><p class="first">コンテキスト `` pyramid.interfaces.IExceptionResponse``のデフォルトの例外ビューがデフォルトで登録されるようになりました。これは、 `` pyramid.httpexceptions``（ `` HTTPFound``など）からインポートされた例外応答クラスのインスタンスをビューコード内から呼び出すことができることを意味します。呼び出されると、この例外ビューは応答に例外をレンダリングします。</p>
</li>
<li><p class="first">`` pyramid.httpexceptions.exception_response``という名前の関数は、HTTP整数ステータスコードを使用してHTTP例外応答オブジェクトを作成するために使用できるショートカットです。</p>
</li>
<li><p class="first">Configuratorは、 `` exceptionresponse_view``という名前のキーワード引数を追加できるようになりました。デフォルトでは、この引数には、応答が例外として発生したときに使用されるデフォルトの例外ビュー機能が設定されています。この値に `` None``が渡されると、応答の例外ビューは登録されません。 &amp;quot;None&amp;quot;を渡すと、HTTP例外をPyramid 1.0の例外に戻す動作が返されます（例外はミドルウェアとWSGIサーバに伝播します）。</p>
</li>
<li><p class="first">`` pyramid.request.Request``クラスは、 `` pyramid.response.Response``を指す `` ResponseClass``インターフェースを持つようになりました。</p>
</li>
<li><p class="first">`` pyramid.response.Response``クラスは `` pyramid.request.Request``を指す `` RequestClass``インターフェースを持っています。</p>
</li>
<li><p class="first">レンダラーが使用されていなくても呼び出し可能なPyramidビューから任意のオブジェクトを返すことが可能になりました。返されたオブジェクトの型に適切なアダプタが `` pyramid.interfaces.IResponse``に登録されていれば新しい `` pyramid.config.Configurator.add_response_adapter`` API。 &amp;quot;ピラミッドが応答を見る方法を変更する&amp;quot;というドキュメントのフックの章のセクションを参照してください。</p>
</li>
<li><p class="first">Pyramidルータは、WSGIレスポンスを返す際にデフォルトでWebObレスポンスオブジェクトの `` __call__``メソッドを呼び出すようになりました。つまり、WebOb応答オブジェクトの `` conditional_response``機能が適切に動作するようになりました。</p>
</li>
<li><p class="first">`` pyramid.request.Request.is_response``という名前の新しいメソッドです。このメソッドは、 `` pyramid.view.is_response``関数の代わりに使用する必要があります。これは廃止予定です。</p>
</li>
</ul>
</div>
<div class="section" id="id162">
<h3>バグの修正<a class="headerlink" href="#id162" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URLディスパッチで使用されるURLパターンマーカーは、カスタム正規表現を指定することができます。例えば、 `` / {foo：d +} <code class="docutils literal notranslate"><span class="pre">というパターンは</span> <span class="pre">`/</span> <span class="pre">12345`（foo</span> <span class="pre">==</span> <span class="pre">12345）を`</span> <span class="pre">`/</span> <span class="pre">abc``にマッチさせることを意味します。しかし、かっこを使用したパターンマーカのカスタム正規表現は機能しませんでした。たとえば、</span> <span class="pre">``</span> <span class="pre">/</span> <span class="pre">{foo：\</span> <span class="pre">d</span> <span class="pre">{4}}</span> <span class="pre">``は</span> <span class="pre">``</span> <span class="pre">/</span> <span class="pre">1234``と</span> <span class="pre">``</span> <span class="pre">/</span> <span class="pre">{foo：\</span> <span class="pre">d</span> <span class="pre">{1,2}}</span> <span class="pre">``が一致しない</span></code> / 1``または `` / 11``を使用します。例として与えられた以前の2つのパターンが現在機能するように、内側の括れブラケットの1つのレベルが認識されるようになりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/#issue">https://github.com/Pylons/pyramid/issues/#issue</a>/123も参照してください。</li>
<li>AuthTktCookieHelper（<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/131を参照）によって設定されたCookieのドメイン情報とともにポート番号を送信しないでください。</li>
<li>`` pyramid.url.route_path``（ショートカット `` pyramid.request.Request.route_url``メソッド）は、空でない場合はパスの先頭にWSGI SCRIPT_NAMEを追加します（https：// githubを参照）。 com / pylons / pyramid / issues / 135）を参照してください。</li>
<li>`` pyramid.testing.DummyRequest``は `` script_name``属性（空の文字列）を持ちます。</li>
<li>`` pyramid.url.route_url``または `` pyramid.url.resource_url``（https：// githubを参照）に渡される `` * elements``の <a href="#id1"><span class="problematic" id="id2">``</span></a>：&#64;＆+ $、 <a href="#id3"><span class="problematic" id="id4">``</span></a>を引用符で囲まないでください.com / Pylons / pyramid / issues＃issue / 141）。</li>
<li>`` pyramid.view.append_slash_notfound_view``（<a class="reference external" href="https://github.com/Pylons/pyramid/issues#issue">https://github.com/Pylons/pyramid/issues#issue</a>/149を参照）によって発行されたリダイレクトにSCRIPT_NAMEを含めます。</li>
<li>`` add_static_view``も内部的にルートファクトリを登録していたので、 `` permission``キーワード引数を含む `` config.add_static_view``で登録された静的ビューは期待どおりに動作しませんでした。ルートファクトリが内部的に登録されているため、ピラミッドパーミッションマシンによってチェックされたコンテキストにはACLが一度もありませんでした。 `` add_static_view``はもはやルートをファクトリに登録しないので、デフォルトルートファクトリが使用されます。</li>
<li>`` config.add_static_view``は、 `` config.add_route``に受け取った余分なキーワード引数を渡します（add_static_viewの呼び出しは、 `` pyramid.static.static_view``のルートをフックに追加することとほとんど論理的に同じです）サブパスを持つ）。これにより、カスタムACLで特定の静的ビューを保護するために `` factory = <a href="#id1"><span class="problematic" id="id2">``</span></a>を `` add_static_view``に渡すことが可能になります。</li>
<li>`` testing.setUp``が実行される前に（* <cite>testing.setUp`</cite>）ダミーリクエストが作成された場合、` <cite>testing.DummyRequest``は間違ったレジストリ（グローバルレジストリ）を</cite> <cite>self.registry``として使用しました。ローカルレジストリをスレッドローカルスタックにプッシュします）。熱心に属性を割り当てるのではなく、DummyRequestのプロパティとして `</cite> registry``を実装することで修正されました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/165も参照してください。</li>
<li>サブディレクトリに解決された静的ビューを表すURLにアクセスすると、そのサブディレクトリの `` index.html``は適切に処理されません。代わりに、 `` / subdir``へのリダイレクトが発行されます。これは修正され、静的ビュー内の `` index.html``を含むサブディレクトリにアクセスすると、index.htmlが正しく返されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/67も参照してください。</li>
<li>静的ビューで発行されたリダイレクトでは、既存の「SCRIPT_NAME」（URLマッピングコンポジットで設定されたものなど）は考慮されませんでした。今彼らはそうする。</li>
<li>`` pyramid.wsgi.wsgiapp2``デコレータは、起点リクエストの `` SCRIPT_NAME``を考慮しませんでした。</li>
<li>`` pyramid.wsgi.wsgiapp2``デコレータは、トラバーサルを介して見つかったビューを装飾するときにのみ効果的でした。 url-dispatch-matchedビューの一部であった `` PATH_INFO``を無視しました。</li>
</ul>
</div>
<div class="section" id="id163">
<h3>廃止<a class="headerlink" href="#id163" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` <a href="#id585"><span class="problematic" id="id586">request.response_</span></a> * <code class="docutils literal notranslate"><span class="pre">属性へのすべての代入を非推奨にしました（例えば</span> <span class="pre">``</span> <span class="pre">request.response_content_type</span> <span class="pre">=</span> <span class="pre">&amp;#39;foo&amp;#39;``は廃止予定です）。レスポンスへの影響をフレームワークで考慮した、割り当て可能なリクエスト属性の代入と突然変異は非難されました：</span> <span class="pre">``</span> <span class="pre">response_content_type</span></code>、 `` response_headerlist``、 `` response_status``、 `` response_charset``、 `` response_cache_for`` 。後でレンダリング機構が検出するためにこれらをリクエストオブジェクトに割り当てるのではなく、 `` request.response``にアクセスして作成したResponseオブジェクトの適切なAPIを使用する必要があります（例えば `` request.response_content_type = &amp;#39;abc&amp;#39; <a href="#id1"><span class="problematic" id="id2">``</span></a>は `` request.response.content_type = &amp;#39;abc&amp;#39;``に変更する必要があります）。</p>
</li>
<li><p class="first">ビュー関連のパラメータを `` pyramid.config.Configurator.add_route``に渡すことは廃止されました。以前は、コンフィグレータの `` add_route``メソッドに渡された `` view * <a href="#id1"><span class="problematic" id="id2">``</span></a>パラメータのセットを使って、ビューをルートに接続することが許可されていました。これは、後で `` add_view``を呼び出す必要性に代わる短縮形でした。たとえば、以下のことを行うには有効でした（しばしば推奨されます）：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="s1">&#39;mypackage.views.myview&#39;</span><span class="p">,</span>
                  <span class="n">view_renderer</span><span class="o">=</span><span class="s1">&#39;some/renderer.pt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>`` view * <a href="#id1"><span class="problematic" id="id2">``</span></a>引数を `` add_route``に渡すことは、ルートの `` route_name``パラメータを使って `` Configurator.add_view``を介してビューを定義済みのルートに接続することを推奨します。その結果、上記の例は今すぐ綴られるべきです:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="s1">&#39;mypackage.views.myview&#39;</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;home&#39;</span><span class="p">)</span>
                <span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;some/renderer.pt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>この廃止は、IRCで見られる混乱を減らし、（最終的に）文書化の負担を軽減するために行われました（<a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/164も参照）。ビュー関連のパラメータが `` Configurator.add_route``に渡されると非推奨警告が発行されるようになりました。</p>
</li>
<li><p class="first">&amp;quot;traverser &amp;quot;の `` __call__``メソッド（例えば `` pyramid.traversal.ResourceTreeTraverserのインスタンスのような `` pyramid.interfaces.ITraverser``を実装するオブジェクト）に `` environ``辞書を渡します``） `` request``引数が非推奨警告を出すようになりました。コンシューマーコードは `` request``オブジェクトを渡すべきです。環境を渡すことが許可されているという事実は、 `` repoze.bfg`` 1.1以降、ドキュメンテーション非難されており、この機能は将来のバージョンでは完全に削除されるでしょう。</p>
</li>
<li><p class="first">`` __contains__``、 `` __delitem__``、 `` __getitem__``、 `` __iter__``オブジェクトの `` pyramid.request.Request``オブジェクトの以下の（文書化されていない、辞書のような）メソッドは廃止されました。 `` iteritems``、 `` itervalues``、 `` keys``、 `` pop``、 `` __setitem__``、 `` __setitem__``、 `` get_key``、 `` items``、 popitem``、 `` setdefault``、 `` update``、および `` values``のようなものです。これらのメソッドを使用すると、非推奨警告が発行されます。これらのメソッドは、 `` repoze.bfg`` 1.1（BFG 1.0以前ではenvironオブジェクトが期待される要求オブジェクトを現在期待しているコード）の内部互換性のために追加されました。将来のバージョンでは、これらのメソッドは完全に削除されます。</p>
</li>
<li><p class="first">pyramid.request.Request.is_response``メソッドを優先して `` pyramid.view.is_response``関数を非推奨にしました。オブジェクトが本当に有効な応答オブジェクトであるかどうかを判断するには、レジストリにアクセスする必要があります。これは、要求属性としてのみ簡単に利用できます。 `` pyramid.view.is_response``関数は、それが削除されるまでは動作しますが、（非常に珍しい）状況下で誤った答えを返すことがあります。</p>
</li>
</ul>
</div>
<div class="section" id="id164">
<h3>行動の変化<a class="headerlink" href="#id164" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>デフォルトのMakoレンダラは、式タグ内のすべてのHTMLをエスケープするように設定されました。これは、非正規化された入力をユーザーから表示することによるXSS攻撃を防ぐのに役立ちます。ユーザーのテンプレートでこの動作を元に戻すには、 &amp;#39;n&amp;#39;フィルタを使用して式をフィルタリングする必要があります。たとえば、$ {myhtml | n}。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/193を参照してください。</li>
<li>リクエストがレンダラーを使用するビューで使用される場合、 `` response``属性（または&amp;quot;reified &amp;quot; / lazyプロパティ）を持つリクエストオブジェクトを返すカスタムリクエストファクトリが必要になりました。この `` response``属性は `` pyramid.response.Response``クラスのインスタンスでなければなりません。</li>
<li>JSONおよび文字列レンダラーファクトリは、 `` request.response_content_type``ではなく `` request.response.content_type``に割り当てられます。</li>
<li>各ビルトインレンダラーファクトリは、レスポンスのコンテンツタイプをレスポンスのデフォルトのコンテンツタイプと比較することによってレスポンスのコンテンツタイプを変更する必要があるかどうかを判断します。コンテンツタイプがデフォルトのコンテンツタイプ（通常 `` text / html``）である場合、レンダラーはコンテンツタイプをJSONおよび文字列レンダラーのそれぞれに対して `` application / json``または `` text / plain``に​​変更します。 。</li>
<li>`` pyramid.wsgi.wsgiapp2``は、下流のアプリケーションの `` SCRIPT_NAME``と `` PATH_INFO``を修正する方法を見いだす方法が少しずつ異なります。結果として、それらの値は、下流のアプリケーションの観点から若干異なるかもしれません（例えば、 `` SCRIPT_NAME``は後にスラッシュを持たないでしょう）。</li>
<li>以前は `` pyramid.request.Request``を `` webob.request.Request``から継承し、 `` __getattr__``、 `` __setattr__``、 `` __delattr__``自体を実装してアドホックattrをオーバーライドしましたリクエストの属性が環境内に格納されているWebObの動作。今度は、 `` pyramid.request.Request``オブジェクトは、同じ動作を提供する `` webob.request.Request``の代わりに（より最近の） `` webob.request.BaseRequest``を継承しています。 `` pyramid.request.Request``はもはや独自の `` __getattr__``、 `` __setattr__``、 `` __delattr__``を実装しません。</li>
<li>`` pyramid.response.Response``は（ `` pyramid.interfaces.IResponse``インターフェースを直接実装するために） `` webob.response.Response``の*サブクラス*になりました。</li>
<li>`` pyramid.httpexceptions``（例えば `` HTTPNotFound``）からインポート可能な&amp;quot;例外応答&amp;quot;オブジェクトは、 `` webob.exc``に実際に存在するクラスのインポートエイリアスではなくなりました。代わりに、 `` webob.exc``例外応答オブジェクトをほぼ完全にミラーリングしてエミュレートする独自の例外クラスをモジュール内に定義しました。詳細については、&amp;quot;Design Defense &amp;quot; docセクションの &amp;quot;Pyramidが独自のHTTP例外クラスを使用する&amp;quot;を参照してください。</li>
</ul>
</div>
<div class="section" id="id165">
<h3>後方の非互換性<a class="headerlink" href="#id165" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>PyramidはPython 2.4をサポートしなくなりました。 Pyramid 1.1+を実行するには、Python 2.5以上が必要です。</li>
<li>デフォルトでは、Pyramidルータは、 `` pyramid.interfaces.IResponse``インタフェースを実装するために、ビュー呼び出し可能オブジェクトから返された応答オブジェクトを期待しています。このインタフェースのPyramid 1.0バージョンとは異なり、IResponseを実装するオブジェクトは、現在、 `` environ``と `` start_response``を受け入れ、 `` app_iter`` iterableを返す `` __call__``メソッドを定義しなければなりませんもの。以前は、3つのWebOb `` app_iter``、 `` headerlist``、および `` status``属性をレスポンスとして持つオブジェクトを返すことができました。これは後方互換性がありません。 IRISponseにアダプターを登録することで、ビュー呼び出し可能オブジェクトから戻ってきたオブジェクトの型から下位互換性を取り戻すことができます。 &amp;quot;ピラミッドが応答を見る方法を変更する&amp;quot;というドキュメントのフックの章のセクションを参照してください。</li>
<li>`` pyramid.interfaces.IResponse``インターフェースは、より広範囲になりました。これまでは `` app_iter``、 `` status``、 `` headerlist``だけを定義していました。これは基本的に `` webob.Response`` APIを直接ミラーリングすることを意図しています。これは多くのメソッドと属性を持っています。</li>
<li>`` HTTPFound``、 `` HTTPMultipleChoices``、 `` HTTPMovedPermanently``、 `` HTTPSeeOther``、 `` HTTPUseProxy``、および `` HTTPTemporaryRedirect``という名前の `` pyramid.httpexceptions``クラスは、 `` detail``ではなく `` location``を最初の位置引数として使用します。これは、pyramid.httpexceptions.HTTPFound（location = &amp;#39;http // foo&amp;#39;） <a href="#id1"><span class="problematic" id="id2">``</span></a>を返すのではなく、 `` pyramid.httpexceptions.HTTPFound（ &amp;#39;http：// foo&amp;#39;） <a href="#id3"><span class="problematic" id="id4">``</span></a>を返すなど、後者はもちろん作業を続けるでしょう）。</li>
</ul>
</div>
<div class="section" id="id166">
<h3>依存関係<a class="headerlink" href="#id166" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Pyramidは、テストがそのリリースのバグ修正に依存するため、WebOb&amp;gt; = 1.0.2に依存します：&amp;quot;SCRIPT_NAME`` &amp;quot;がない状態でのWSGI環境の処理を修正しました。 （WebOb 1.0.2と1.0.3は実質的にブラウンバックのリリースであったため、実際には1.0.4以上のバージョンを使用しているはずです）。</li>
</ul>
</div>
</div>
<div class="section" id="id167">
<h2>1.0（2011-01-30）<a class="headerlink" href="#id167" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id168">
<h3>ドキュメンテーション<a class="headerlink" href="#id168" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ZODB Wikiチュートリアルのバグを修正しました（ `` setup.py``内の&amp;quot;models &amp;quot;のステップで `` docutils``に依存しません）。</li>
<li>`` registerDummySecurityPolicy``、 `` registerResources``、 `` registerModels``、 `` registerEventListener``、 `` registerTemplateRenderer``、 `` registerDummyRenderer``、 `` API`` APIの `` pyramid.testing`` APIに関するAPIドキュメントを削除しました。 registerAttility`、 `` registerAdapter``、 `` registerSubscriber``、 `` registerRoute``、 `` registerSettings``のように、</li>
<li>&amp;quot;ZODOでZODBを使用する&amp;quot;と&amp;quot;repoze.catalogをピラミッド内でtutorialsの中からコアドキュメントとPyramidチュートリアルサイト（<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_tutorials/en/latest/">http://docs.pylonsproject.org/projects/pyramid_tutorials/en/latest/</a>）に移動しました。 。</li>
<li>WSGI環境に `` __del__``でオブジェクトをジャムするのではなく、 `` request.add_finished_callback``を使うようにURL Dispatch章の &amp;quot;Request After After a Request&amp;quot;セクションを変更しました。</li>
<li>`` add_route`` APIドキュメントの重複をURL Dispatchの説明の章から削除します。</li>
<li>`` pyramid.view.view_config`` APIドキュメントのAPIとNarrativeドキュメンテーションの重複を削除するには、 `` pyramid.config.add_view``ドキュメンテーションとナレーションの章のドキュメントを参照してください。</li>
<li>ドキュメンテーションのナレーション部分に複製されたいくつかのAPIドキュメントを削除</li>
<li>SQLAlchemy + URLディスパッチwikiチュートリアルの&amp;quot;全般的な認証の流れ&amp;quot;を削除しました（印刷物の問題が原因です）（Pyramidチュートリアルのサイトに移動）。</li>
</ul>
</div>
<div class="section" id="id169">
<h3>バグの修正<a class="headerlink" href="#id169" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.testing``のBFG-1.2 APIは廃止予定の警告を適切に出力するようになりました。</li>
<li>ZODBテンプレートのWSGIパイプラインに `` egg：repoze.retry＃retry``ミドルウェアを追加しました（通常の操作で発生するZODB競合エラーの再試行）。</li>
<li>`` is_response``の重複した実装を削除しました。競合する2つの実装が存在しました。一つは `` pyramid.config``に、もう一つは `` pyramid.view``です。 `` pyramid.view``で定義されたものは、 `` pyramid.config``で内部的に使われ、引き続きAPIとして宣伝されています。</li>
</ul>
</div>
</div>
<div class="section" id="b3-2011-01-28">
<h2>1.0b3（2011-01-28）<a class="headerlink" href="#b3-2011-01-28" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id170">
<h3>バグの修正<a class="headerlink" href="#id170" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>パーステンプレート/チュートリアルテンプレートの著作権記号の代わりに©を使用すると、カットアンドペーストして非UTF8形式に保存する人々の利益が得られます。</li>
<li>`` pyramid.view.append_slash_notfound_view``は、リダイレクト間でGETクエリパラメータを保存するようになりました。</li>
</ul>
</div>
<div class="section" id="id171">
<h3>ドキュメンテーション<a class="headerlink" href="#id171" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` set_default_permission``に関連する文書を作成してください：デフォルトの権限が例外ビューも保護することを明示してください。</li>
<li>パスタテンプレートとチュートリアルでは、HTMLテンプレートのタブの代わりにスペースを使用するようになりました。</li>
</ul>
</div>
</div>
<div class="section" id="b2-2011-01-24">
<h2>1.0b2（2011-01-24）<a class="headerlink" href="#b2-2011-01-24" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id172">
<h3>バグの修正<a class="headerlink" href="#id172" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのペースターテンプレートによって生成された `` production.ini``は、SQLAlchemy文のロギングやその他の不適切な出力を防ぐ有効なロギングレベルWARNを持つようになりました。</li>
<li>`` pyramid_routesalchemy``と `` pyramid_alchemy``のペーストテンプレートの `` production.ini``には `` sqlalchemy``ロガーセクションがなく、 `` paster serve production.ini``が動作しません。</li>
<li>`` pyramid_routesalchemy``と `` pyramid_alchemy``のペーストテンプレートは、 `` {{project}} <code class="docutils literal notranslate"><span class="pre">変数を使用すべき場所で</span> <span class="pre">``</span> <span class="pre">{{package}}</span> <span class="pre">``変数を使っていました。例えば</span> <span class="pre">​​</span></code> paster create -t​​. pyramid_routesalchemy Dibbus``は、 `` paster serve development.ini``がその結果に対して使われたときに開始できません。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/#issue">https://github.com/Pylons/pyramid/issues/#issue</a>/107を参照してください。</li>
<li>`` pyramid.renderers.RendererHelper``の `` render_view``メソッドはレンダラーに `` renderer_info``の値を渡しました。これは辞書の代わりに `` RendererHelper``のインスタンスを渡します。これは他の用法と一貫しています。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues#issue">https://github.com/Pylons/pyramid/issues#issue</a>/106を参照してください。</li>
<li>AuthTktAuthenticationPolicyのトークン（ `` reissue_time`` &amp;lt;`` timeout`` / `` max_age``）を再発行するように設定されているときに、それを破るバグが `` pyramid.authentication.AuthTktCookieHelper``に存在しました。症状： `` ValueError：（ &amp;#39;無効なトークン％r&amp;#39;、 &amp;#39;&amp;#39;） <a href="#id1"><span class="problematic" id="id2">``</span></a>。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues#issue">https://github.com/Pylons/pyramid/issues#issue</a>/108を参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="b1-2011-01-21">
<h2>1.0b1（2011-01-21）<a class="headerlink" href="#b1-2011-01-21" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id173">
<h3>特徴<a class="headerlink" href="#id173" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>AuthTktAuthenticationPolicyは、 `` pyramid.security.remember``を介して `` tokens``パラメータを受け付けるようになりました。値は一連の文字列でなければなりません。トークンはauth_tkt &amp;quot;tokens &amp;quot;フィールドに置かれ、auth_tktクッキーに返されます。</li>
<li>AuthTktAuthenticationPolicyに `` wild_domain``引数を追加します。デフォルトは `` True``です。 `` False``に設定されている場合、ワイルドカードドメインを持つクッキーを設定するポリシーの機能は無効になります。</li>
<li>各パスタテンプレートに `` MANIFEST.in``ファイルを追加してください。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues#issue">https://github.com/Pylons/pyramid/issues#issue</a>/95を参照してください。</li>
</ul>
</div>
<div class="section" id="id174">
<h3>バグの修正<a class="headerlink" href="#id174" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` testing.setUp``はレジストリに `` settings``属性を追加するようになりました（設定なしでレジストリが渡されたときと作成されたときの両方）。</li>
<li>`` testing.setUp``関数は、 `` settings``引数をとります。これは辞書でなければなりません。その値は、返された `` config``オブジェクトで `` config.registry.settings``として利用可能になります。</li>
</ul>
</div>
<div class="section" id="id175">
<h3>ドキュメンテーション<a class="headerlink" href="#id175" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ドキュメントのHTMLレンダリングに&amp;quot;What&amp;#39;s New in Pyramid 1.0 &amp;quot;の章を追加しました。</li>
<li>合併したcaseman-master Narrative編集枝、多くの文言の修正と拡張。</li>
<li>チャプターのテストの章で `` chameleon_zpt`` API呼び出しを表示する非推奨の例を修正しました。</li>
<li>`` add_directive`` &amp;quot;セクションを介してアドバンストコンフィグレーションの説明の章に&amp;quot;コンフィグレータへのメソッドの追加 &amp;quot;を追加しました。</li>
<li>`` add_finished_callback``、 `` add_response_callback``、 `` route_path``、 `` route_url``、 `` static_url``メソッドを `` pyramid.request.Request`` APIドキュメントに追加してください。</li>
<li>Makoテンプレート内のI18Nを「国際化とローカリゼーション」の章で使用する方法についてのドキュメントを（最小限）追加してください。</li>
<li>&amp;quot;フォーム&amp;quot;章の内容を&amp;quot;Views &amp;quot;の章に戻します。私はそれを置くより良い場所を考えることができません。</li>
<li>`` IAuthorizationPolicy``のインターフェイス文書が少し改良されました。</li>
<li>「URLディスパッチ」の章内のURLディスパッチ置換マーカーでカスタム正規表現の使用法を最小限に説明します。</li>
</ul>
</div>
<div class="section" id="id176">
<h3>廃止<a class="headerlink" href="#id176" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.view.view_config``（下位互換性shim）に `` pyramid.view.bfg_view``エイリアスを使うと、非推奨警告が発行されるようになりました。</li>
</ul>
</div>
<div class="section" id="id177">
<h3>後方の非互換性<a class="headerlink" href="#id177" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` testing.setUp``を使うと、ISettingsユーティリティが副作用として登録されるようになりました。 queryAdapterを介して `` testing.setUp``の後にこのユーティリティを問い合わせるテストコードは `` None``の戻り値を期待します。このコードを変更する必要があります。</li>
<li>`` pyramid.exceptions.Forbidden``エラーが発生すると、そのステータスコードは `` 403 Forbidden``になります。 `` repoze.bfg``との下位互換性のために以前は `` 401 Unauthorized``でした。この変更により、デフォルトで `` 401 Unauthorized``を傍受し、 `` 403 Forbidden``を通過させる `` repoze.who``でPyramidのユーザに問題が発生します。これらのデプロイメントでは、 `` 403 Forbidden`にも対応するために `` repoze.who``を設定する必要があります。</li>
<li>`` pyramid.session.UnencyrptedCookieSessionFactory``に対する `` cookie_on_exception``パラメータのデフォルト値は、 `` True``になりました。つまり、ビューコードによって例外が発生し、セッションが変更された場合、クッキーが返されます。以前のデフォルト値は `` False``でした。</li>
</ul>
</div>
<div class="section" id="paster-templates">
<h3>ペースターテンプレート<a class="headerlink" href="#paster-templates" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid_zodb``、 `` pyramid_routesalchemy``、 `` pyramid_alchemy``のペーストテンプレートは `` development.ini``で `` repoze.tm2``トランザクションマネージャを設定するときにデフォルトの &amp;quot;コミット拒否&amp;quot;フックを使用するようになりました。 <a href="#id1"><span class="problematic" id="id2">`</span></a>。これにより、応答ステータスコードが400または500の範囲内にあるときにトランザクションがコミットされるのを防止します。 <a class="reference external" href="http://docs.repoze.org/tm2/#using-a-commit">http://docs.repoze.org/tm2/#using-a-commit</a>-vetoも参照してください。</li>
</ul>
</div>
</div>
<div class="section" id="a10-2011-01-18">
<h2>1.0a10（2011-01-18）<a class="headerlink" href="#a10-2011-01-18" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id178">
<h3>バグの修正<a class="headerlink" href="#id178" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URLディスパッチは大括弧の中で使われるときに正規表現マッチで現れる `` * * <a href="#id1"><span class="problematic" id="id2">``</span></a>や `` * <a href="#id3"><span class="problematic" id="id4">``</span></a>を適切に処理するようになりました。問題＃90を解決します。</li>
</ul>
</div>
<div class="section" id="id179">
<h3>後方の非互換性<a class="headerlink" href="#id179" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Configuratorの `` add_handler``メソッドがPyramidコアから削除されました。ハンドラは、PyPIからダウンロードできる `` pyramid_handlers``パッケージの機能になりました。パッケージのドキュメントはhttp://docs.pylonsproject.org/projects/pyramid_handlers/en/latest/から入手できます。これは、このメソッドを再利用するために `` main``ブロックに構成文を追加する方法を説明しています。また、 `` pyramid_handlers``に `` install_requires``の依存関係を `` setup.py``ファイルに追加する必要があります。</li>
<li>Configuratorの `` load_zcml``メソッドがPyramidコアから削除されました。 ZCMLの読み込みは、PyPIからダウンロードできる `` pyramid_zcml``パッケージの機能となりました。パッケージのドキュメントは、http：//docs.pylonsproject.org/projects/pyramid_zcml/en/latest/から入手できます。これは、このメソッドを再利用するために `` main``ブロックに構成文を追加する方法を説明しています。また、 `` pyramid_zcml``に `` install_requires``の依存関係を `` setup.py``ファイルに追加する必要があります。</li>
<li>`` pyramid.includes``サブパッケージは削除されました。使用するZCMLファイルにはパッケージ `` ​​pyramid.includes``（例えば `` ` &lt;include package=&quot;pyramid.includes&quot;/&gt; `` pyramid_zcml``パッケージをインクルードする必要があります（例えば `` ` &lt;include package=&quot;pyramid_zcml&quot;/&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>）。</li>
<li>`` pyramid.view.action``デコレータはPyramidコアから削除されました。ハンドラは、現在、 `` pyramid_handlers``パッケージの機能です。 `` pyramid_handlers import action``のように、 `` pyramid_handlers``からインポートする必要があります。</li>
<li><a href="#id1"><span class="problematic" id="id2">``</span></a>ハンドラ `` ZCMLディレクティブは削除されました。これは `` pyramid_handlers``パッケージの機能です。</li>
<li>`` pylons_minimal``、 `` pylons_basic``、 `` pylons_sqla``のペーストテンプレートは削除されました。 Pylons-esque開発の一般的な置き換えとして、 `` pyramid_sqla``（PyPIから入手可能）を使用してください。</li>
<li>`` make_app``関数は `` pyramid.router``モジュールから削除されました。これは `` pyramid_zcml``パッケージ内での生活を続けています。これにより、 `` pyramid.router``モジュールにはAPI関数がなくなります。</li>
<li>デプロイメント設定（Pyramidの `` main``関数に渡される `` ** settings``内の）内の `` configure_zcml``の設定は意味を持ちません。</li>
</ul>
</div>
<div class="section" id="id180">
<h3>特徴<a class="headerlink" href="#id180" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.testing.setUp``と `` pyramid.testing.tearDown``は廃止されました。これで、コンフィグレータの直接作成に代わって、テストコンフィグレーションのための標準的なセットアップとティアダウンAPIになりました。これは、今後のConfiguratorの廃止を防ぐファサードを提供するように設計された変更です。</li>
<li>`` pyramid.testing.DummyRequest``に `` charset``属性を追加します（無条件に `` UTF-8``）。</li>
<li>configuratorに `` add_directive``メソッドを追加すると、フレームワークエクステンダがコンフィグレータにメソッドを追加できます（ala ZCMLディレクティブ）。</li>
<li>`` Configurator.include``が引数として* module <a href="#id1"><span class="problematic" id="id2">*</span></a>を渡されたとき、デフォルトではそのモジュール内で `` includeme``という名前の呼び出し可能ファイルを見つけようとします。これにより、 `` some.module &amp;#39;&amp;#39;の中のインクルード関数が有効である限り、 `` config.include（ &amp;#39;some.module.somefunc&amp;#39;） <a href="#id3"><span class="problematic" id="id4">``</span></a>ではなく `` config.include（ &amp;#39;some.module&amp;#39;） <a href="#id5"><span class="problematic" id="id6">``</span></a>を使用することができます``は `` includeme``という名前です。</li>
<li>`` bfg2pyramid``スクリプトは、 `` repoze.bfg.includes``をパッケージ属性として持つZCMLインクルードタグを `` pyramid_zcml``に変換します。例えば、 `` &lt;include package=&quot;repoze.bfg.includes&quot;&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>は `` ` &lt;include package=&quot;pyramid_zcml&quot;&gt; <a href="#id3"><span class="problematic" id="id4">``</span></a>。</li>
</ul>
</div>
<div class="section" id="id181">
<h3>ペースターテンプレート<a class="headerlink" href="#id181" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのペーストテンプレートは、 `` tests.py``モジュール内にConfiguratorを手動で作成するのではなく、 `` pyramid.testing.setUp``と `` pyramid.testing.tearDown``を使用します。上記の機能。</li>
<li>`` starter_zcml``のペーストテンプレートは `` pyramid_zcml``パッケージに移動されました。</li>
</ul>
</div>
<div class="section" id="id182">
<h3>ドキュメンテーション<a class="headerlink" href="#id182" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ウィキとwiki2のチュートリアルでは、上記の機能の決定に従って、「手作業で」コンフィグレータを作成するのではなく、 `` pyramid.testing.setUp``と `` pyramid.testing.tearDown``を使用するようになりました。</li>
<li>&amp;quot;Testing &amp;quot;の説明の章では、Configuratorの作成の代わりに `` pyramid.testing.setUp``と `` pyramid.testing.tearDown``と `` Configurator.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` Configurator.end（） ） <a href="#id3"><span class="problematic" id="id4">``</span></a>。</li>
<li>&amp;quot;Renderers &amp;quot;章内の `` request.override_renderer``属性を&amp;quot;実行時にレンダリングを上書きする&amp;quot;という節で文書化してください。</li>
<li>&amp;quot;Declarative Configuration &amp;quot;の説明の章は削除されました（ `` pyramid_zcml``パッケージに移動されました）。</li>
<li>物語の章の中のZCMLへの参照は、削除されたり、 &amp;quot;pyramid_zcml&amp;quot;の場所にリダイレクトされました。</li>
</ul>
</div>
<div class="section" id="id183">
<h3>廃止<a class="headerlink" href="#id183" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>次のAPI関数のインポートに関連する非推奨警告が追加されました： `` pyramid.traversal.find_model``、 `` pyramid.traversal.model_path``、 `` pyramid.traversal.model_path_tuple``、 `` pyramid.url.model_url <a href="#id1"><span class="problematic" id="id2">``</span></a>。 deprecation警告によって出された命令は、開発者にこれらのメソッドのスペルを `` resource``に相当するものに変更するよう指示します。これは、1.0a7で実行された&amp;quot;モデル&amp;quot;から &amp;quot;&amp;quot; &amp;quot;リソース&amp;quot;への質量コンセプトの変更の結果です。</li>
</ul>
</div>
</div>
<div class="section" id="a9-2011-01-08">
<h2>1.0a9（2011-01-08）<a class="headerlink" href="#a9-2011-01-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id184">
<h3>バグの修正<a class="headerlink" href="#id184" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` proutes``コマンドは、印刷のためにビューを解決するのが難しかったので、例外的なルートファクトリに遭遇したときに例外が発生しました。ビューを解決しようとするのではなく、表示できない場合は、 `` &lt;unknown&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>。</li>
<li>`` self`引数は、 `` Session``インターフェースシグネチャの新しいメソッドに含まれていました。これにより `` pyramid_beaker``テストが失敗しました。</li>
<li>下位互換性のために `` pyramid.traversal.resource_path_tuple``の別名として `` pyramid.traversal.model_path_tuple``を読んでください。</li>
</ul>
</div>
<div class="section" id="id185">
<h3>特徴<a class="headerlink" href="#id185" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>新しいAPI「pyramid.url.current_route_url``を追加します。このAPIは、&amp;quot;現在の&amp;quot;ルート（もしあれば）とそのmatchdict値に基づいてURLを計算します。</li>
<li>`` config.add_view``は、 `` decorator``キーワード引数を受け付けます。これは、レジストリに追加される前に呼び出し可能なビューをデコレートする呼び出し可能です。</li>
<li>ハンドラクラスが `` __action_decorator__``属性（通常はclassmethodまたはstaticmethod）を提供する場合、それをそのハンドラの各ビュー登録のデコレータとして使用します。</li>
<li>`` pyramid.interfaces.IAuthenticationPolicy``インターフェースは `` unauthenticated_userid``メソッドを指定するようになりました。このメソッドは、オブジェクトキャッシングをサポートしない永続ストレージを使用しているユーザーと、要求属性として&amp;quot;ユーザーオブジェクト&amp;quot;を作成するユーザーが必要とする重要な最適化をサポートします。</li>
<li>新しいAPIが `` unauthenticated_userid``という名前の `` pyramid.security``モジュールに追加されました。このAPI関数は、有効なセキュリティポリシーの `` unauthenticated_userid``メソッドを呼び出します。</li>
<li>`` unauthenticated_userid``メソッドが `` pyramid.config.Configurator.testing_securitypolicy``で返されたダミー認証ポリシーに追加されました。これは、ダミー認証ポリシーの `` authenticated_userid``メソッドと同じものを返します。</li>
<li>`` pyramid.authentication.AuthTktCookieHelper``はAPIになりました。このクラスは、認証Cookie設定の仕組みを助けるために、サードパーティの認証ポリシー開発者が使用できます。</li>
<li>Configuratorの新しいコンストラクタ引数： `` default_view_mapper``。代わりのビュー呼び出し規則を持つシステムを作成すると便利です。ビュー・マッパーは、ビュー・コール可能オブジェクトとして使用されるオブジェクトに、任意の引数リストと任意の結果を持たせることができます。 `` default_view_mapper``として渡されたオブジェクトは、 `` pyramid.interfaces.IViewMapperFactory``インタフェースを実装する必要があります。</li>
<li>Configuratorに `` set_view_mapper`` APIを追加してください。 Configuratorコンストラクタに `` default_view_mapper``を渡すのと同じ結果を返します。</li>
<li>`` config.add_view``は、 `` mapper``キーワード引数を受け取ります。これは、 `` None``、Pythonの点線の名前を表す文字列、 `` IViewMapperFactory``のオブジェクトのいずれかでなければなりません。この機能は&amp;quot;民間人&amp;quot;には役に立ちませんが、拡張機能の作者にのみ有効です。</li>
<li>ビューの登録中に提供された静的レンダラが、以前に登録されたレンダラの名前でなければならない `` override_renderer``という名前のリクエスト属性を介してリクエスト時にオーバーライドされるようにします。既存のレンダリングビューを使って&amp;quot;遍在する&amp;quot; RPCを提供するのに便利です。</li>
<li>`` pyramid.testing.DummyRequest``のインスタンスは、ほとんどが辞書である `` session``オブジェクトを持っていますが、flashとCSRFのための他のセッションAPIメソッドも実装しています。</li>
</ul>
</div>
<div class="section" id="id186">
<h3>後方の非互換性<a class="headerlink" href="#id186" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid.interfaces.IAuthenticationPolicy``インターフェースは、ポリシー実装が `` unauthenticated_userid``メソッドを実装しなければならないように指定しているので、サードパーティのカスタム認証ポリシーはすべてこのメソッドを実装する必要があります。ただし、 `` pyramid.security.unauthenticated_userid``という名前のグローバル関数が呼び出されたときにのみ呼び出されるので、呼び出していなければ何の問題も気づかないでしょう。</li>
<li>`` pyramid.interfaces.ISession.get_csrf_token``は、セッションにすでに存在していない場合（以前はNoneを返す）、実装が* new <a href="#id1"><span class="problematic" id="id2">*</span></a>トークンを返さなければならないようにしました。内部セッションの実装が変更されました。</li>
</ul>
</div>
<div class="section" id="id187">
<h3>ドキュメンテーション<a class="headerlink" href="#id187" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>（弱い）&amp;quot;CMFアプリケーションをPyramidに変換する&amp;quot;チュートリアルは、チュートリアルのセクションから削除されました。それは `` pyramid_tutorials`` Githubリポジトリに移されました。</li>
<li>&amp;quot;リソースの場所とビューの参照&amp;quot;の章は、Rob Millerの&amp;quot;Much Ado About Traversal &amp;quot;（元々http://blog.nonsequitarian.org/2010/much-ado-about-htmlで公開されています）トラバーサル/）。</li>
<li>多くのマイナーな言い回しとリファクタリング（Casey Duncanのドキュメントフォークを統合し、一般的な編集に取り組んでいます）。</li>
<li>フックの説明の章に新しいビューマッパー機能の（弱い）記述を追加しました。</li>
<li>ビューを2：ビュー呼び出しとビュー構成に分割する。</li>
<li>View Callablesの後、View Configurationの前に、レンダラーとテンプレートの章を並べ替えます。</li>
<li>セッションオブジェクトのマージ、クロスサイトリクエスト偽造、およびFlash Messagingの章を1つのセッションの章にまとめます。</li>
<li>WikiとWiki2のチュートリアルには、より良いCSSとグラフィックがあります。</li>
</ul>
</div>
<div class="section" id="id188">
<h3>内部<a class="headerlink" href="#id188" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&amp;quot;ビュー派生&amp;quot;コードは、多数のスタンドアロン関数（ビューマッパーリファクタリングの副作用）ではなく、一連のクラスに分解されるようになりました。</li>
<li>`` pyramid.renderer.RendererHelper``クラスは、デフォルトのビューマッパー（ビューマッパーリファクタリングの副作用）によって使用される `` render_view``メソッドを増やしました。</li>
<li>&amp;quot;view deriver &amp;quot;に `` renderer``として渡されたオブジェクトは、辞書（ビューマッパーリファクタリングの副作用）ではなく `` pyramid.renderers.RendererHelper``のインスタンスになりました。</li>
<li>`` pyramid.chameleon_text``の&amp;quot;page template &amp;quot;として使われたクラスは、カメレオンの組み込みバージョンを使うのが優先して削除されました。</li>
<li>レジストリに登録されたビュー呼び出し可能ラッパーには、元のビュー呼び出し可能な（またはクラス）を参照する `` __original_view__``属性が含まれています。</li>
<li>以前に `` _get_userid``と命名されたすべての内部認証ポリシー実装の（非API）メソッドは、現在は `` unauthenticated_userid``という名前になり、APIメソッドに昇格しました。このメソッドをオーバーライドした場合は、代わりに `` unauthenticated_userid``としてオーバーライドする必要があります。</li>
<li>_map_viewというconfig.pyの（非API）機能を削除します。</li>
</ul>
</div>
</div>
<div class="section" id="a8-2010-12-27">
<h2>1.0a8（2010-12-27）<a class="headerlink" href="#a8-2010-12-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id189">
<h3>バグの修正<a class="headerlink" href="#id189" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` registry``という名前は、IPythonの `` paster pshell``環境では利用できませんでした。</li>
</ul>
</div>
<div class="section" id="id190">
<h3>特徴<a class="headerlink" href="#id190" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>リソースが `` __resource_url__``メソッドを実装している場合、 `` pyramid.url.resource_url``関数を呼び出してURLを生成し、デフォルトロジックをオーバーライドした結果として呼び出されます。 「リソースの説明」の章の新しい「リソースのURLの生成」セクションを参照してください。</li>
<li>&amp;quot;Flash Messaging &amp;quot; Narrativeドキュメンテーションの章で説明されているように、フラッシュメッセージを追加しました。</li>
<li>&amp;quot;クロスサイトリクエスト偽造攻撃の防止&amp;quot;という説明の章で説明されているように、CSRFトークンの生成が追加されました。</li>
<li>ビュー関連の引数が存在し、 `` view``引数が渡されなければ、設定中に例外を発生させてadd_routeへの `` view``と `` view_permission``引数がどのように働くのか誤解を避けてください。</li>
<li>ルーティングテーブルの要約を表示する `` paster proute``コマンドを追加してください。 &amp;quot;URL Dispatch &amp;quot;の章 &amp;quot;&amp;quot;すべてのアプリケーションルートの表示&amp;quot;の説明文のセクションを参照してください。</li>
</ul>
</div>
<div class="section" id="id191">
<h3>ペースターテンプレート<a class="headerlink" href="#id191" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` pyramid_zodb`` PasterテンプレートはもはやZCMLを使用しません。代わりに、それはスキャンに基づいています。</li>
</ul>
</div>
<div class="section" id="id192">
<h3>ドキュメンテーション<a class="headerlink" href="#id192" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>リソースの説明の章（&amp;quot;__resource_url__&amp;quot;を使ったURL生成のオーバーライドに関する情報を含む）に&amp;quot;リソースのURLを生成する&amp;quot;セクションを追加しました。</li>
<li>「リソースへのパスの生成」セクションを「リソースの説明」の章に追加しました。</li>
<li>リソースの説明の章に&amp;quot;パス別リソースの検索&amp;quot;セクションを追加しました。</li>
<li>リソースナレーションの章に&amp;quot;リソースの系統を取得する&amp;quot;を追加しました。</li>
<li>&amp;quot;リソースが別のリソースのリネージにあるかどうかをリソースの説明の章に追加する&amp;quot;を追加しました。</li>
<li>リソースの説明の章に&amp;quot;ルートリソースを見つける&amp;quot;を追加しました。</li>
<li>リソースの説明の章に&amp;quot;リネージュのクラスまたはインターフェイスを持つリソースを見つける&amp;quot;を追加しました。</li>
<li>&amp;quot;Flash Messaging &amp;quot;ナレーションドキュメントの章を追加しました。</li>
<li>&amp;quot;Cross-Site Request Forgery Attacksの防止&amp;quot;と題された説明の章が追加されました。</li>
<li>`` pyramid_zodb`` Pasterテンプレートの変更に基づいて&amp;quot;ZODB + Traversal Wiki Tutorial &amp;quot;を変更しました。</li>
<li>設定の競合、2段階設定、 `` include``と `` commit``をどう扱うかを文書化した&amp;quot;Advanced Configuration &amp;quot;ナレーションの章を追加しました。</li>
<li>`` pyramid.view.static``のAPIドキュメントのレンダリングを修正しました。</li>
<li>ディフェンスのドキュメントを作成するには、&amp;quot;ピラミッドはそれを行う方法の1つ以上を提供する&amp;quot;を追加します。</li>
<li>変更された静的アセット&amp;quot;ナレーションの章：&amp;quot; name &amp;quot;はURLでない限りプレフィックスを表し、URLディスパッチのルート相対スタティックビューフォールバックの例を追加し、単純なビューを作成する例を追加しましたファイルの本体。</li>
<li>「Hooks」の章の「Declarative Configuration」の章にZCMLの使用法を移してください。</li>
<li>&amp;quot;静的資産&amp;quot;の章を&amp;quot;資産&amp;quot;の章にマージします。</li>
<li>&amp;quot;URL Dispatch &amp;quot;章の&amp;quot;すべてのアプリケーションルートの表示&amp;quot;（ &amp;quot;paster proutes&amp;quot;コマンドの場合）にナレーション文書セクションを追加しました。</li>
</ul>
</div>
</div>
<div class="section" id="a7-2010-12-20">
<h2>1.0a7（2010-12-20）<a class="headerlink" href="#a7-2010-12-20" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="terminology-changes">
<h3>用語の変更<a class="headerlink" href="#terminology-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">以前は&amp;quot;モデル&amp;quot;として知られていたピラミッドの概念は、現在 &amp;quot;リソース&amp;quot;として知られています。結果として：</p>
<ul>
<li><p class="first">次のAPI変更が行われました:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">model_url</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">resource_url</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">find_model</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find_resource</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">model_path</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">resource_path</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">model_path_tuple</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">resource_path_tuple</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">ModelGraphTraverser</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">traversal</span><span class="o">.</span><span class="n">ResourceTreeTraverser</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">testing_models</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">testing_resources</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">registerModels</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">registerResources</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">DummyModel</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">DummyResource</span>
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>以前は&amp;quot;モデル&amp;quot;を参照していたすべてのドキュメントは、&amp;quot;リソース&amp;quot;を参照しています。</li>
<li>`` starter``と `` starter_zcml``のペーストテンプレートに `` models.py``モジュールの代わりに `` resources.py``モジュールが追加されました。</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>さまざまなAPIの位置引数名が `` model``から `` resource``に変更されました。</li>
</ul>
<p>下位互換性のシムは、すべての場合に適所に残っています。彼らは&amp;quot;永遠に&amp;quot;働き続けるでしょう。</p>
</li>
<li><p class="first">以前は&amp;quot;リソース&amp;quot;として知られていたピラミッドの概念は、現在 &amp;quot;資産&amp;quot;として知られています。結果として：</p>
<ul>
<li><p class="first">以前は `` pyramid.resource``として知られていた（非API）モジュールは `` pyramid.asset``と呼ばれています。</p>
</li>
<li><p class="first">以前は&amp;quot;リソース指定&amp;quot;を参照していたすべてのドキュメントが&amp;quot;資産指定&amp;quot;を参照しています。</p>
</li>
<li><p class="first">次のAPI変更が行われました:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">absolute_resource_spec</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">absolute_asset_spec</span>

<span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">override_resource</span> <span class="o">-&gt;</span>
                  <span class="n">pyramid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">Configurator</span><span class="o">.</span><span class="n">override_asset</span>
</pre></div>
</div>
</li>
<li><p class="first">以前は `` resource``として知られていたZCMLディレクティブは `` asset``と呼ばれています。</p>
</li>
<li><p class="first">以前は `` BFG_RELOAD_RESOURCES``（envvar）または `` reload_resources``（configファイル）として知られていた設定は、それぞれ `` PYRAMID_RELOAD_ASSETS``と `` reload_assets``として知られています。</p>
</li>
</ul>
<p>下位互換性のシムは、すべての場合に適所に残っています。彼らは&amp;quot;永遠に&amp;quot;働き続けるでしょう。</p>
</li>
</ul>
</div>
<div class="section" id="id193">
<h3>バグの修正<a class="headerlink" href="#id193" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのテストを（ `` python setup.py nosetests``を介して間接的にではなく）直接 `` nosetests``コマンドで直接実行することができます。</li>
<li>スキャン中に構成の競合が発生すると、競合の例外は、競合の原因となったデコレータ情報を表示するようになりました。</li>
</ul>
</div>
<div class="section" id="id194">
<h3>特徴<a class="headerlink" href="#id194" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>マッチしたルート（matchdictと述語を含む）を記録する `` debug_routematch``設定を追加しました。</li>
<li>`` registry``という名前はデフォルトで `` pshell``環境で利用できるようになりました。これはアプリケーションレジストリオブジェクトです。</li>
</ul>
</div>
<div class="section" id="environment">
<h3>環境<a class="headerlink" href="#environment" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>接頭辞 `` BFG_``を使用していたすべての環境変数は、 `` PYRAMID_``の接頭辞になりました（例えば `` BFG_DEBUG_NOTFOUND``は `` PYRAMID_DEBUG_NOTFOUND``です）</li>
</ul>
</div>
<div class="section" id="id195">
<h3>ドキュメンテーション<a class="headerlink" href="#id195" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>urldispatchナレーション文書の章に&amp;quot;Debugging Route Matching &amp;quot;セクションを追加しました。</li>
<li>`` PYRAMID_DEBUG_ROUTEMATCH`` envvarと `` debug_routematch``設定ファイルの設定をEnvironment Narrative Docs章に追加しました。</li>
<li>&amp;quot;Project &amp;quot;の章を `` paster pshell``の使用を拡張するために少し変更しました。</li>
<li>Jythonのユーザーは、「インストール」の説明の章でJinja2ではなくMakoに指示してください。</li>
<li>&amp;quot;モデル&amp;quot;から&amp;quot;リソース&amp;quot;、&amp;quot;リソース&amp;quot;から&amp;quot;資産&amp;quot;への用語の名前変更をサポートする多くの変更。</li>
<li>テストの説明の章に `` WebTest``機能テストの例を追加しました。</li>
<li>一般的な要求（URLディスパッチ、トラバース）によるチャプター順の並べ替え。ビューの章の後にハイブリッドの章を置く。</li>
<li>物語のドキュメンテーションの&amp;quot;Views &amp;quot;章から&amp;quot;Renderers &amp;quot;を独自の章として分割します。</li>
</ul>
</div>
<div class="section" id="id196">
<h3>ペースターテンプレート<a class="headerlink" href="#id196" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>すべてのペーストテンプレートに `` debug_routematch = false``を追加しました。</li>
</ul>
</div>
<div class="section" id="id197">
<h3>依存関係<a class="headerlink" href="#id197" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Venusian&amp;gt; = 0.5（スキャン競合例外装飾用）に依存します。</li>
</ul>
</div>
</div>
<div class="section" id="a6-2010-12-15">
<h2>1.0a6（2010-12-15）<a class="headerlink" href="#a6-2010-12-15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id198">
<h3>バグの修正<a class="headerlink" href="#id198" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>1.0a5は `` pyramid.config.Configurator.scan``が `` config.scan（ &amp;#39;packagename&amp;#39;）とは対照的に、 `` package``引数（ `` config.scan（） `` ） <a href="#id1"><span class="problematic" id="id2">``</span></a>。症状は次のとおりです：廃止予定のピラミッド関数とクラスのインポートについてのコンソールへの非推奨警告の多く、 `` view_config``デコレータで装飾されたビュー呼び出し可能項目の非検出。</li>
<li>テストは現在Windows上で行われます（バグは見つかりませんが、テストスイート内のいくつかのテストではファイル名にUNIXパスセグメントが仮定されています）。</li>
</ul>
</div>
<div class="section" id="id199">
<h3>ドキュメンテーション<a class="headerlink" href="#id199" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ZODB + Traversal Wikiチュートリアルでは、「pyramid_zodb」チュートリアルで生成されたビュー呼び出し可能関数が呼び出し可能な1つのビューを使用していたため、失敗するテストを実行するように指示しましたが、サンプルコードでは、2引数呼び出しを使用していました。</li>
<li>`` pyramid_zodb``で生成されたものと一致するように、すべてのステップのZODB + Traversalチュートリアルsetup.pyを更新しました。</li>
<li>&amp;quot;Models &amp;quot;章の `` repoze.bfg.traversalwrapper``への参照を修正してください（代わりに `` pyramid_traversalwrapper``を参照）。</li>
</ul>
</div>
</div>
<div class="section" id="a5-2010-12-14">
<h2>1.0a5（2010-12-14）<a class="headerlink" href="#a5-2010-12-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id200">
<h3>特徴<a class="headerlink" href="#id200" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><a href="#id1"><span class="problematic" id="id2">``</span></a>ハンドラ `` ZCMLディレクティブを追加してください。このディレクティブは `` pyramid.configuration.add_handler``と同じことをします。</li>
<li>`` pyramid.config``という名前の新しいモジュールが追加されました。それは古い `` pyramid.configuration``モジュールの任務を包含しています。</li>
<li>新しい `` pyramid.config.Configurator`クラスには、以前の `` pyramid.configuration.Configurator``クラスがしなかったAPIメソッドがあります： `` with_context``（クラスメソッド）、 `` include``、 <a href="#id1"><span class="problematic" id="id2">``</span></a>アクション`、` <a href="#id3"><span class="problematic" id="id4">`</span></a>commit``のようなものです。これらの方法は、必須のアプリケーション拡張性のために存在します。</li>
<li>`` pyramid.testing.setUp``関数は、 `` autocommit``キーワード引数を受け付けます。デフォルトは `` True``です。 `` False``が渡された場合、 `` setUp``によって返されるConfigオブジェクトは、自動コミットされないConfigオブジェクトになります。</li>
<li>すべてのペースターテンプレートにロギング設定を追加します。</li>
<li>`` pyramid_alchemy``、 `` pyramid_routesalchemy``、 `` pylons_sqla``のペーストテンプレートはそれぞれ、 `` .ini``ファイルとPythonコードで慣用的なSQLAlchemy設定を使用します。</li>
<li>`` pyramid.testing.DummyRequest``にはクラス変数 `` query_string``があります。デフォルトは空文字列です。</li>
<li>NotImplementedErrorをキャッチし、django.utilsからsimplejsonをインポートすることにより、GAE上のjsonのサポートを追加します。</li>
<li>Makoレンダラは、 `` mako.module_directory``のリソース指定を受け付けるようになりました。</li>
<li>新しいブール値のMako設定変数 `` mako.strict_undefined``。 <a href="#id1"><span class="problematic" id="id2">`</span></a>Makoのコンテキスト変数&lt;<a class="reference external" href="http://www.makotemplates.org/docs/runtime.html#context-variables">http://www.makotemplates.org/docs/runtime.html#context-variables</a>&gt;その意味のために <a href="#id3"><span class="problematic" id="id4">`</span></a>_。</li>
</ul>
</div>
<div class="section" id="id201">
<h3>依存関係<a class="headerlink" href="#id201" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Mako 0.3.6+に依存しています（これには `` strict_undefined``機能が必要です）。</li>
</ul>
</div>
<div class="section" id="id202">
<h3>バグの修正<a class="headerlink" href="#id202" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` paster pshell``セッションの中からConfiguratorを作成するときには、 `` package``は実際には必要ないものの、 `` package``引数を渡さなければなりませんでした。 `` package``を渡さなかった場合、 `` Pyramid.path.caller_module``関数から出てくる `` KeyError： &amp;#39;__name __&amp;#39; <a href="#id1"><span class="problematic" id="id2">``</span></a>のようなエラーを受け取ります。これは修正されました。</li>
<li>`` pyramid_routesalchemy``ペーストテンプレートのユニットテストは失敗しました（ `` AssertionError： &amp;#39;SomeProject&amp;#39;！= &amp;#39;someproject&amp;#39;``）。これは修正されました。</li>
<li>既定のレンダラーが機能するようにします（レンダラーファクトリは名前なしで登録されます。ビューは特定のレンダラーに名前を付けない限りすべてのビューでアクティブです）。</li>
<li>Makoレンダラは `` mako.imports``、 `` mako.default_filters``、 `` mako.imports``の設定をリストに正しく戻さなかった。</li>
<li>Makoレンダラーは、 `` mako.error_handler``の設定をドット付きの名前から呼び出し可能なものに正しく変換しませんでした。</li>
</ul>
</div>
<div class="section" id="id203">
<h3>ドキュメンテーション<a class="headerlink" href="#id203" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/caseman">https://github.com/caseman</a>/pyramid（「モデル」の説明の章まで）のナレーション文書の章に、多くの言葉遣い、読みやすさ、正確さの変更を加えました。</li>
<li>&amp;quot;サンプルアプリケーション&amp;quot;セクションは、repoze.bfgの起源パッケージから移植されたCluegun、Shootout、およびVirginiaサンプルアプリケーションの存在を記録するように変更されました。</li>
<li>SQLAlchemy + URLDispatchチュートリアルを更新し、 &amp;quot;pyramid_routesalchemy``テンプレートへの変更を統合しました。</li>
<li>Interfaces APIの章に `` pyramid.interfaces.ITemplateRenderer``インターフェースを追加してください（ `` implementation（） <a href="#id1"><span class="problematic" id="id2">``</span></a>メソッドを持っています、カメレオンのマクロを使うときに使う必要があります）。</li>
<li>プロジェクト物語のドキュメンテーションの章（モジュールをパッケージに変換することについて説明する）に&amp;quot;パッケージ構造の変更&amp;quot;セクションを追加してください。</li>
<li>ZCMLセクションの新しい `` handler`` ZCMLディレクティブのためのドキュメントが追加されました。</li>
</ul>
</div>
<div class="section" id="id204">
<h3>廃止<a class="headerlink" href="#id204" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">`` pyramid.configuration.Configurator``は廃止予定です。 `` pyramid.config.Configurator``を使い、コンストラクタ `` autocommit = True``を渡してください。 `` pyramid.configuration.Configurator``エイリアスは、すべてのアプリケーションが使用しているので、長い間存続しますが、インポートによって非推奨警告が発行されるようになりました。 `` pyramid.config.Configurator``クラスは `` pyramid.configuration.Configurator``クラスと同じAPIを持っています。デフォルトでは非自動コミット*コンフィグレータですが、置き換えられることを意味します。現在廃止された `` pyramid.configuration.Configurator``は、設定メソッドが呼び出されるたびに自動的にコミットします。</p>
<p>`` pyramid.configuration``モジュールは残っていますが、非推奨です。代わりに `` pyramid.config``を使用してください。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a4-2010-11-21">
<h2>1.0a4（2010-11-21）<a class="headerlink" href="#a4-2010-11-21" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id205">
<h3>特徴<a class="headerlink" href="#id205" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URL Dispatchでは、置き換えマーカーを `` / <a href="#id1"><span class="problematic" id="id2">``</span></a>の直後ではなく、パターン内のどこにでも配置できるようになりました。</li>
<li>URL Dispatchは `` {marker} <a href="#id1"><span class="problematic" id="id2">``</span></a>の代わりにルートパターンの置換マーカーを示すために `` {marker} <a href="#id3"><span class="problematic" id="id4">``</span></a>という形式を使用するようになりました。古いコロンスタイルのマーカー構文は、下位互換性のために受け入れられます。新しいフォーマットでは、デフォルトの `` [^ /] + <a href="#id5"><span class="problematic" id="id6">``</span></a>の代わりにそのマーカ位置の正規表現を使うことができます。例えば、 `` {marker：d +} <a href="#id7"><span class="problematic" id="id8">``</span></a>はマーカを数字。</li>
<li>人々に相対URLを生成させる `` pyramid.url.route_path`` APIを追加してください。 `` route_path``を呼び出すことは、 `` pyramid.url.route_url``を引数 `` _app_url``を空文字列と同じように呼ぶことと同じです。</li>
<li>`` pyramid.request.Request.route_path`` APIを追加してください。これは `` pyramid.url.route_url``を呼び出す要求の便利なメソッドです。</li>
<li>テストスイートをJythonに渡すようにします（PasteScriptトランクが必要です（おそらく1.7.4）。</li>
<li>テストスイートをPyPyに渡します（カメレオンは動作しません）。</li>
<li>`` config.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` config.end（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を使って周囲のアプリケーション構成を行う必要はなくなりました。すべてのペーステンプレートが変更され、これらの機能は呼び出されなくなりました。</li>
<li>もし失敗したインポートが、ドット付きの名前を解決するときにドット付きの名前を使って要求されたインポートとは無関係ならば（例えば、ドット付きの名前を表示する）、Configuratorが `` ImportError``を `` ConfigurationError``に変換しないように修正しました。</li>
</ul>
</div>
<div class="section" id="id206">
<h3>ドキュメンテーション<a class="headerlink" href="#id206" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>SQLAlchemy + URLDispatchとZODB + Traversalチュートリアルは、 `` config.begin（） <a href="#id1"><span class="problematic" id="id2">``</span></a>や `` config.end（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を呼び出さないように更新されました。</li>
</ul>
</div>
<div class="section" id="id207">
<h3>バグの修正<a class="headerlink" href="#id207" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>`` get_renderer``、 `` get_template``、 `` render_template``、 `` render_template_to_response``の `` pyramid.chameleon_text``と `` pyramid.chameleon_zpt``をインポートするには廃止予定警告を追加してください。</li>
<li>`` pyramid.zcml.zcml_configure``と `` pyramid.zcml.file_configure``のインポートのための廃止予定警告を追加してください。</li>
<li>The <code class="docutils literal notranslate"><span class="pre">pyramid_alchemy</span></code> paster template had a typo, preventing an import
from working.</li>
<li>Fix apparent failures when calling <code class="docutils literal notranslate"><span class="pre">pyramid.traversal.find_model(root,</span>
<span class="pre">path)</span></code> or <code class="docutils literal notranslate"><span class="pre">pyramid.traversal.traverse(path)</span></code> when <code class="docutils literal notranslate"><span class="pre">path</span></code> is
(erroneously) a Unicode object. The user is meant to pass these APIs a
string object, never a Unicode object.  In practice, however, users indeed
pass Unicode.  Because the string that is passed must be ASCII encodeable,
now, if they pass a Unicode object, its data is eagerly converted to an
ASCII string rather than being passed along to downstream code as a
convenience to the user and to prevent puzzling second-order failures from
cropping up (all failures will occur within <code class="docutils literal notranslate"><span class="pre">pyramid.traversal.traverse</span></code>
rather than later down the line as the result of calling e.g.
<code class="docutils literal notranslate"><span class="pre">traversal_path</span></code>).</li>
</ul>
</div>
<div class="section" id="id208">
<h3>後方の非互換性<a class="headerlink" href="#id208" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">pyramid.testing.zcml_configure</span></code> API has been removed.  It had been
advertised as removed since repoze.bfg 1.2a1, but hadn't actually been.</li>
</ul>
</div>
<div class="section" id="id209">
<h3>廃止<a class="headerlink" href="#id209" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">pyramid.settings.get_settings</span></code> API is now deprecated.  Use
<code class="docutils literal notranslate"><span class="pre">pyramid.threadlocals.get_current_registry().settings</span></code> instead or use the
<code class="docutils literal notranslate"><span class="pre">settings</span></code> attribute of the registry available from the request
(<code class="docutils literal notranslate"><span class="pre">request.registry.settings</span></code>).</li>
</ul>
</div>
<div class="section" id="id210">
<h3>ドキュメンテーション<a class="headerlink" href="#id210" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Removed <code class="docutils literal notranslate"><span class="pre">zodbsessions</span></code> tutorial chapter.  It's still useful, but we now
have a SessionFactory abstraction which competes with it, and maintaining
documentation on both ways to do it is a distraction.</li>
</ul>
</div>
<div class="section" id="id211">
<h3>内部<a class="headerlink" href="#id211" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Replace Twill with WebTest in internal integration tests (avoid deprecation
warnings generated by Twill).</li>
</ul>
</div>
</div>
<div class="section" id="a3-2010-11-16">
<h2>1.0a3 (2010-11-16)<a class="headerlink" href="#a3-2010-11-16" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id212">
<h3>特徴<a class="headerlink" href="#id212" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added Mako TemplateLookup settings for <code class="docutils literal notranslate"><span class="pre">mako.error_handler</span></code>,
<code class="docutils literal notranslate"><span class="pre">mako.default_filters</span></code>, and <code class="docutils literal notranslate"><span class="pre">mako.imports</span></code>.</li>
<li>Normalized all paster templates: each now uses the name <code class="docutils literal notranslate"><span class="pre">main</span></code> to
represent the function that returns a WSGI application, each now uses
WebError, each now has roughly the same shape of development.ini style.</li>
<li>Added class vars <code class="docutils literal notranslate"><span class="pre">matchdict</span></code> and <code class="docutils literal notranslate"><span class="pre">matched_route</span></code> to
<code class="docutils literal notranslate"><span class="pre">pyramid.request.Request</span></code>.  Each is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
<li>New API method: <code class="docutils literal notranslate"><span class="pre">pyramid.settings.asbool</span></code>.</li>
<li>New API methods for <code class="docutils literal notranslate"><span class="pre">pyramid.request.Request</span></code>: <code class="docutils literal notranslate"><span class="pre">model_url</span></code>,
<code class="docutils literal notranslate"><span class="pre">route_url</span></code>, and <code class="docutils literal notranslate"><span class="pre">static_url</span></code>.  These are simple passthroughs for their
respective functions in <code class="docutils literal notranslate"><span class="pre">pyramid.url</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">settings</span></code> object which used to be available only when
<code class="docutils literal notranslate"><span class="pre">request.settings.get_settings</span></code> was called is now available as
<code class="docutils literal notranslate"><span class="pre">registry.settings</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">request.registry.settings</span></code> in view code).</li>
</ul>
</div>
<div class="section" id="id213">
<h3>バグの修正<a class="headerlink" href="#id213" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The pylons_* paster templates erroneously used the <code class="docutils literal notranslate"><span class="pre">{squiggly}</span></code> routing
syntax as the pattern supplied to <code class="docutils literal notranslate"><span class="pre">add_route</span></code>.  This style of routing is
not supported.  They were replaced with <code class="docutils literal notranslate"><span class="pre">:colon</span></code> style route patterns.</li>
<li>The pylons_* paster template used the same string
(<code class="docutils literal notranslate"><span class="pre">your_app_secret_string</span></code>) for the <code class="docutils literal notranslate"><span class="pre">session.secret</span></code> setting in the
generated <code class="docutils literal notranslate"><span class="pre">development.ini</span></code>.  This was a security risk if left unchanged
in a project that used one of the templates to produce production
applications.  It now uses a randomly generated string.</li>
</ul>
</div>
<div class="section" id="id214">
<h3>ドキュメンテーション<a class="headerlink" href="#id214" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>ZODB+traversal wiki (<code class="docutils literal notranslate"><span class="pre">wiki</span></code>) tutorial updated due to changes to
<code class="docutils literal notranslate"><span class="pre">pyramid_zodb</span></code> paster template.</li>
<li>SQLAlchemy+urldispach wiki (<code class="docutils literal notranslate"><span class="pre">wiki2</span></code>) tutorial updated due to changes to
<code class="docutils literal notranslate"><span class="pre">pyramid_routesalchemy</span></code> paster template.</li>
<li>Documented the <code class="docutils literal notranslate"><span class="pre">matchdict</span></code> and <code class="docutils literal notranslate"><span class="pre">matched_route</span></code> attributes of the
request object in the Request API documentation.</li>
</ul>
</div>
<div class="section" id="id215">
<h3>廃止<a class="headerlink" href="#id215" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Obtaining the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object via
<code class="docutils literal notranslate"><span class="pre">registry.{get|query}Utility(ISettings)</span></code> is now deprecated.  Instead,
obtain the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object via the <code class="docutils literal notranslate"><span class="pre">registry.settings</span></code> attribute.  A
backwards compatibility shim was added to the registry object to register
the settings object as an ISettings utility when <code class="docutils literal notranslate"><span class="pre">setattr(registry,</span>
<span class="pre">'settings',</span> <span class="pre">foo)</span></code> is called, but it will be removed in a later release.</li>
<li>Obtaining the <code class="docutils literal notranslate"><span class="pre">settings</span></code> object via <code class="docutils literal notranslate"><span class="pre">pyramid.settings.get_settings</span></code> is
now deprecated.  Obtain it as the <code class="docutils literal notranslate"><span class="pre">settings</span></code> attribute of the registry
now (obtain the registry via <code class="docutils literal notranslate"><span class="pre">pyramid.threadlocal.get_registry</span></code> or as
<code class="docutils literal notranslate"><span class="pre">request.registry</span></code>).</li>
</ul>
</div>
<div class="section" id="id216">
<h3>行動の違い<a class="headerlink" href="#id216" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Internal: ZCML directives no longer call get_current_registry() if there's
a <code class="docutils literal notranslate"><span class="pre">registry</span></code> attribute on the ZCML context (kill off use of
threadlocals).</li>
<li>Internal: Chameleon template renderers now accept two arguments: <code class="docutils literal notranslate"><span class="pre">path</span></code>
and <code class="docutils literal notranslate"><span class="pre">lookup</span></code>.  <code class="docutils literal notranslate"><span class="pre">Lookup</span></code> will be an instance of a lookup class which
supplies (late-bound) arguments for debug, reload, and translate.  Any
third-party renderers which use (the non-API) function
<code class="docutils literal notranslate"><span class="pre">pyramid.renderers.template_renderer_factory</span></code> will need to adjust their
implementations to obey the new callback argument list.  This change was to
kill off inappropriate use of threadlocals.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2010-11-09">
<h2>1.0a2 (2010-11-09)<a class="headerlink" href="#a2-2010-11-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id217">
<h3>ドキュメンテーション<a class="headerlink" href="#id217" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>All references to events by interface
(e.g. <code class="docutils literal notranslate"><span class="pre">pyramid.interfaces.INewRequest</span></code>) have been changed to reference
their concrete classes (e.g. <code class="docutils literal notranslate"><span class="pre">pyramid.events.NewRequest</span></code>) in
documentation about making subscriptions.</li>
<li>All references to Pyramid-the-application were changed from mod-<cite>pyramid</cite>
to app-<cite>Pyramid</cite>.  A custom role setting was added to <code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code> to
allow for this.  (internal)</li>
</ul>
</div>
</div>
<div class="section" id="a1-2010-11-05">
<h2>1.0a1 (2010-11-05)<a class="headerlink" href="#a1-2010-11-05" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="features-delta-from-bfg-1-3">
<h3>Features (delta from BFG 1.3)<a class="headerlink" href="#features-delta-from-bfg-1-3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Mako templating renderer supports resource specification format for
template lookups and within Mako templates. Absolute filenames must
be used in Pyramid to avoid this lookup process.</p>
</li>
<li><p class="first">Add <code class="docutils literal notranslate"><span class="pre">pyramid.httpexceptions</span></code> module, which is a facade for the
<code class="docutils literal notranslate"><span class="pre">webob.exc</span></code> module.</p>
</li>
<li><p class="first">Direct built-in support for the Mako templating language.</p>
</li>
<li><p class="first">A new configurator method exists: <code class="docutils literal notranslate"><span class="pre">add_handler</span></code>.  This method adds
a Pylons-style &quot;view handler&quot; (such a thing used to be called a
&quot;controller&quot; in Pylons 1.0).</p>
</li>
<li><p class="first">New argument to configurator: <code class="docutils literal notranslate"><span class="pre">session_factory</span></code>.</p>
</li>
<li><p class="first">New method on configurator: <code class="docutils literal notranslate"><span class="pre">set_session_factory</span></code></p>
</li>
<li><p class="first">Using <code class="docutils literal notranslate"><span class="pre">request.session</span></code> now returns a (dictionary-like) session
object if a session factory has been configured.</p>
</li>
<li><p class="first">The request now has a new attribute: <code class="docutils literal notranslate"><span class="pre">tmpl_context</span></code> for benefit of
Pylons users.</p>
</li>
<li><p class="first">The decorator previously known as <code class="docutils literal notranslate"><span class="pre">pyramid.view.bfg_view</span></code> is now
known most formally as <code class="docutils literal notranslate"><span class="pre">pyramid.view.view_config</span></code> in docs and
paster templates.  An import of <code class="docutils literal notranslate"><span class="pre">pyramid.view.bfg_view</span></code>, however,
will continue to work &quot;forever&quot;.</p>
</li>
<li><p class="first">New API methods in <code class="docutils literal notranslate"><span class="pre">pyramid.session</span></code>: <code class="docutils literal notranslate"><span class="pre">signed_serialize</span></code> and
<code class="docutils literal notranslate"><span class="pre">signed_deserialize</span></code>.</p>
</li>
<li><p class="first">New interface: <code class="docutils literal notranslate"><span class="pre">pyramid.interfaces.IRendererInfo</span></code>.  An object of this type
is passed to renderer factory constructors (see &quot;Backwards
Incompatibilities&quot;).</p>
</li>
<li><p class="first">New event type: <code class="docutils literal notranslate"><span class="pre">pyramid.interfaces.IBeforeRender</span></code>.  An object of this type
is sent as an event before a renderer is invoked (but after the
application-level renderer globals factory added via
<code class="docutils literal notranslate"><span class="pre">pyramid.configurator.configuration.set_renderer_globals_factory</span></code>, if any,
has injected its own keys).  Applications may now subscribe to the
<code class="docutils literal notranslate"><span class="pre">IBeforeRender</span></code> event type in order to introspect the and modify the set of
renderer globals before they are passed to a renderer.  The event object
iself has a dictionary-like interface that can be used for this purpose.  For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.events</span> <span class="k">import</span> <span class="n">subscriber</span>
<span class="kn">from</span> <span class="nn">pyramid.interfaces</span> <span class="k">import</span> <span class="n">IRendererGlobalsEvent</span>

<span class="nd">@subscriber</span><span class="p">(</span><span class="n">IRendererGlobalsEvent</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_global</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">event</span><span class="p">[</span><span class="s1">&#39;mykey&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>
</div>
<p>If a subscriber attempts to add a key that already exist in the renderer
globals dictionary, a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> is raised.  This limitation is due to the
fact that subscribers cannot be ordered relative to each other.  The set of
keys added to the renderer globals dictionary by all subscribers and
app-level globals factories must be unique.</p>
</li>
<li><p class="first">New class: <code class="docutils literal notranslate"><span class="pre">pyramid.response.Response</span></code>.  This is a pure facade for
<code class="docutils literal notranslate"><span class="pre">webob.Response</span></code> (old code need not change to use this facade, it's
existence is mostly for vanity and documentation-generation purposes).</p>
</li>
<li><p class="first">All preexisting paster templates (except <code class="docutils literal notranslate"><span class="pre">zodb</span></code>) now use &quot;imperative&quot;
configuration (<code class="docutils literal notranslate"><span class="pre">starter</span></code>, <code class="docutils literal notranslate"><span class="pre">routesalchemy</span></code>, <code class="docutils literal notranslate"><span class="pre">alchemy</span></code>).</p>
</li>
<li><p class="first">A new paster template named <code class="docutils literal notranslate"><span class="pre">pyramid_starter_zcml</span></code> exists, which uses
declarative configuration.</p>
</li>
</ul>
</div>
<div class="section" id="documentation-delta-from-bfg-1-3">
<h3>Documentation (delta from BFG 1.3)<a class="headerlink" href="#documentation-delta-from-bfg-1-3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a <code class="docutils literal notranslate"><span class="pre">pyramid.httpexceptions</span></code> API documentation chapter.</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">pyramid.session</span></code> API documentation chapter.</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">Session</span> <span class="pre">Objects</span></code> narrative documentation chapter.</li>
<li>Added an API chapter for the <code class="docutils literal notranslate"><span class="pre">pyramid.personality</span></code> module.</li>
<li>Added an API chapter for the <code class="docutils literal notranslate"><span class="pre">pyramid.response</span></code> module.</li>
<li>All documentation which previously referred to <code class="docutils literal notranslate"><span class="pre">webob.Response</span></code> now uses
<code class="docutils literal notranslate"><span class="pre">pyramid.response.Response</span></code> instead.</li>
<li>The documentation has been overhauled to use imperative configuration,
moving declarative configuration (ZCML) explanations to a separate
narrative chapter <code class="docutils literal notranslate"><span class="pre">declarative.rst</span></code>.</li>
<li>The ZODB Wiki tutorial was updated to take into account changes to the
<code class="docutils literal notranslate"><span class="pre">pyramid_zodb</span></code> paster template.</li>
<li>The SQL Wiki tutorial was updated to take into account changes to the
<code class="docutils literal notranslate"><span class="pre">pyramid_routesalchemy</span></code> paster template.</li>
</ul>
</div>
<div class="section" id="backwards-incompatibilities-with-bfg-1-3">
<h3>Backwards Incompatibilities (with BFG 1.3)<a class="headerlink" href="#backwards-incompatibilities-with-bfg-1-3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">There is no longer an <code class="docutils literal notranslate"><span class="pre">IDebugLogger</span></code> registered as a named utility
with the name <code class="docutils literal notranslate"><span class="pre">repoze.bfg.debug</span></code>.</p>
</li>
<li><p class="first">The logger which used to have the name of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.debug</span></code> now
has the name <code class="docutils literal notranslate"><span class="pre">pyramid.debug</span></code>.</p>
</li>
<li><p class="first">The deprecated API <code class="docutils literal notranslate"><span class="pre">pyramid.testing.registerViewPermission</span></code>
has been removed.</p>
</li>
<li><p class="first">The deprecated API named <code class="docutils literal notranslate"><span class="pre">pyramid.testing.registerRoutesMapper</span></code>
has been removed.</p>
</li>
<li><p class="first">The deprecated API named <code class="docutils literal notranslate"><span class="pre">pyramid.request.get_request</span></code> was removed.</p>
</li>
<li><p class="first">The deprecated API named <code class="docutils literal notranslate"><span class="pre">pyramid.security.Unauthorized</span></code> was
removed.</p>
</li>
<li><p class="first">The deprecated API named <code class="docutils literal notranslate"><span class="pre">pyramid.view.view_execution_permitted</span></code>
was removed.</p>
</li>
<li><p class="first">The deprecated API named <code class="docutils literal notranslate"><span class="pre">pyramid.view.NotFound</span></code> was removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">bfgshell</span></code> paster command is now named <code class="docutils literal notranslate"><span class="pre">pshell</span></code>.</p>
</li>
<li><p class="first">The Venusian &quot;category&quot; for all built-in Venusian decorators
(e.g. <code class="docutils literal notranslate"><span class="pre">subscriber</span></code> and <code class="docutils literal notranslate"><span class="pre">view_config</span></code>/<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>) is now
<code class="docutils literal notranslate"><span class="pre">pyramid</span></code> instead of <code class="docutils literal notranslate"><span class="pre">bfg</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">pyramid.renderers.rendered_response</span></code> function removed; use
<code class="docutils literal notranslate"><span class="pre">render_pyramid.renderers.render_to_response</span></code> instead.</p>
</li>
<li><p class="first">Renderer factories now accept a <em>renderer info object</em> rather than an
absolute resource specification or an absolute path.  The object has the
following attributes: <code class="docutils literal notranslate"><span class="pre">name</span></code> (the <code class="docutils literal notranslate"><span class="pre">renderer=</span></code> value), <code class="docutils literal notranslate"><span class="pre">package</span></code> (the
'current package' when the renderer configuration statement was found),
<code class="docutils literal notranslate"><span class="pre">type</span></code>: the renderer type, <code class="docutils literal notranslate"><span class="pre">registry</span></code>: the current registry, and
<code class="docutils literal notranslate"><span class="pre">settings</span></code>: the deployment settings dictionary.</p>
<p>Third-party <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> renderer implementations that must be ported to
Pyramid will need to account for this.</p>
<p>This change was made primarily to support more flexible Mako template
rendering.</p>
</li>
<li><p class="first">The presence of the key <code class="docutils literal notranslate"><span class="pre">repoze.bfg.message</span></code> in the WSGI environment when
an exception occurs is now deprecated.  Instead, code which relies on this
environ value should use the <code class="docutils literal notranslate"><span class="pre">exception</span></code> attribute of the request
(e.g. <code class="docutils literal notranslate"><span class="pre">request.exception[0]</span></code>) to retrieve the message.</p>
</li>
<li><p class="first">The values <code class="docutils literal notranslate"><span class="pre">bfg_localizer</span></code> and <code class="docutils literal notranslate"><span class="pre">bfg_locale_name</span></code> kept on the request
during internationalization for caching purposes were never APIs.  These
however have changed to <code class="docutils literal notranslate"><span class="pre">localizer</span></code> and <code class="docutils literal notranslate"><span class="pre">locale_name</span></code>, respectively.</p>
</li>
<li><p class="first">The default <code class="docutils literal notranslate"><span class="pre">cookie_name</span></code> value of the <code class="docutils literal notranslate"><span class="pre">authtktauthenticationpolicy</span></code> ZCML
now defaults to <code class="docutils literal notranslate"><span class="pre">auth_tkt</span></code> (it used to default to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.auth_tkt</span></code>).</p>
</li>
<li><p class="first">The default <code class="docutils literal notranslate"><span class="pre">cookie_name</span></code> value of the
<code class="docutils literal notranslate"><span class="pre">pyramid.authentication.AuthTktAuthenticationPolicy</span></code> constructor now
defaults to <code class="docutils literal notranslate"><span class="pre">auth_tkt</span></code> (it used to default to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.auth_tkt</span></code>).</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">request_type</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directive, the
<code class="docutils literal notranslate"><span class="pre">pyramid.configuration.Configurator.add_view</span></code> method, or the
<code class="docutils literal notranslate"><span class="pre">pyramid.view.view_config</span></code> decorator (nee <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>) is no longer
permitted to be one of the strings <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code> or
<code class="docutils literal notranslate"><span class="pre">DELETE</span></code>, and now must always be an interface.  Accepting the
method-strings as <code class="docutils literal notranslate"><span class="pre">request_type</span></code> was a backwards compatibility strategy
servicing repoze.bfg 1.0 applications.  Use the <code class="docutils literal notranslate"><span class="pre">request_method</span></code>
parameter instead to specify that a view a string request-method predicate.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="repoze-bfg-change-history-previous-name-for-pyramid">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">repoze.bfg</span></code> Change History (previous name for Pyramid)<a class="headerlink" href="#repoze-bfg-change-history-previous-name-for-pyramid" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="b1-2010-10-25">
<h2>1.3b1 (2010-10-25)<a class="headerlink" href="#b1-2010-10-25" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id218">
<h3>特徴<a class="headerlink" href="#id218" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">paster</span></code> template named <code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code> has been updated
to use SQLAlchemy declarative syntax.  Thanks to Ergo^.</li>
</ul>
</div>
<div class="section" id="id219">
<h3>バグの修正<a class="headerlink" href="#id219" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When a renderer factory could not be found, a misleading error
message was raised if the renderer name was not a string.</li>
</ul>
</div>
<div class="section" id="id220">
<h3>ドキュメンテーション<a class="headerlink" href="#id220" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The &quot;&quot;bfgwiki2&quot; (SQLAlchemy + url dispatch) tutorial has been
updated slightly.  In particular, the source packages no longer
attempt to use a private index, and the recommended Python version
is now 2.6.  It was also updated to take into account the changes to
the <code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code> template used to set up an environment.</li>
<li>The &quot;bfgwiki&quot; (ZODB + traversal) tutorial has been updated slightly.
In particular, the source packages no longer attempt to use a
private index, and the recommended Python version is now 2.6.</li>
</ul>
</div>
</div>
<div class="section" id="a15-2010-09-30">
<h2>1.3a15 (2010-09-30)<a class="headerlink" href="#a15-2010-09-30" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id221">
<h3>特徴<a class="headerlink" href="#id221" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.traversal_path</span></code> API now eagerly attempts
to encode a Unicode <code class="docutils literal notranslate"><span class="pre">path</span></code> into ASCII before attempting to split
it and decode its segments.  This is for convenience, effectively to
allow a (stored-as-Unicode-in-a-database, or
retrieved-as-Unicode-from-a-request-parameter) Unicode path to be
passed to <code class="docutils literal notranslate"><span class="pre">find_model</span></code>, which eventually internally uses the
<code class="docutils literal notranslate"><span class="pre">traversal_path</span></code> function under the hood.  In version 1.2 and
prior, if the <code class="docutils literal notranslate"><span class="pre">path</span></code> was Unicode, that Unicode was split on
slashes and each resulting segment value was Unicode.  An
inappropriate call to the <code class="docutils literal notranslate"><span class="pre">decode()</span></code> method of a resulting Unicode
path segment could cause a <code class="docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code> to occur even if
the Unicode representation of the path contained no 'high order'
characters (it effectively did a &quot;double decode&quot;).  By converting
the Unicode path argument to ASCII before we attempt to decode and
split, genuine errors will occur in a more obvious place while also
allowing us to handle (for convenience) the case that it's a Unicode
representation formed entirely from ASCII-compatible characters.</li>
</ul>
</div>
</div>
<div class="section" id="a14-2010-09-14">
<h2>1.3a14 (2010-09-14)<a class="headerlink" href="#a14-2010-09-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id222">
<h3>バグの修正<a class="headerlink" href="#id222" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>If an exception view was registered through the legacy
<code class="docutils literal notranslate"><span class="pre">set_notfound_view</span></code> or <code class="docutils literal notranslate"><span class="pre">set_forbidden_view</span></code> APIs, the context
sent to the view was incorrect (could be <code class="docutils literal notranslate"><span class="pre">None</span></code> inappropriately).</li>
</ul>
</div>
<div class="section" id="id223">
<h3>特徴<a class="headerlink" href="#id223" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Compatibility with WebOb 1.0.</li>
</ul>
</div>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Now requires WebOb &gt;= 1.0.</li>
</ul>
</div>
<div class="section" id="id224">
<h3>後方の非互換性<a class="headerlink" href="#id224" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Due to changes introduced WebOb 1.0, the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.make_request_ascii</span></code> event subscriber no longer
works, so it has been removed.  This subscriber was meant to be used
in a deployment so that code written before BFG 0.7.0 could run
unchanged.  At this point, such code will need to be rewritten to
expect Unicode from <code class="docutils literal notranslate"><span class="pre">request.GET</span></code>, <code class="docutils literal notranslate"><span class="pre">request.POST</span></code> and
<code class="docutils literal notranslate"><span class="pre">request.params</span></code> or it will need to be changed to use
<code class="docutils literal notranslate"><span class="pre">request.str_POST</span></code>, <code class="docutils literal notranslate"><span class="pre">request.str_GET</span></code> and/or
<code class="docutils literal notranslate"><span class="pre">request.str_params</span></code> instead of the non-<code class="docutils literal notranslate"><span class="pre">str</span></code> versions of same,
as the non-<code class="docutils literal notranslate"><span class="pre">str</span></code> versions of the same APIs always now perform
decoding to Unicode.</li>
</ul>
</div>
<div class="section" id="errata">
<h3>Errata<a class="headerlink" href="#errata" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A prior changelog entry asserted that the <code class="docutils literal notranslate"><span class="pre">INewResponse</span></code> event was
not sent to listeners if the response was not &quot;valid&quot; (if a view or
renderer returned a response object that did not have a
status/headers/app_iter).  This is not true in this release, nor was
it true in 1.3a13.</li>
</ul>
</div>
</div>
<div class="section" id="a13-2010-09-14">
<h2>1.3a13 (2010-09-14)<a class="headerlink" href="#a13-2010-09-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id225">
<h3>バグの修正<a class="headerlink" href="#id225" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">traverse</span></code> route predicate could not successfully generate a
traversal path.</li>
</ul>
</div>
<div class="section" id="id226">
<h3>特徴<a class="headerlink" href="#id226" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>In support of making it easier to configure applications which are
&quot;secure by default&quot;, a default permission feature was added.  If
supplied, the default permission is used as the permission string to
all view registrations which don't otherwise name a permission.
These APIs are in support of that:<ul>
<li>A new constructor argument was added to the Configurator:
<code class="docutils literal notranslate"><span class="pre">default_permission</span></code>.</li>
<li>A new method was added to the Configurator:
<code class="docutils literal notranslate"><span class="pre">set_default_permission</span></code>.</li>
<li>A new ZCML directive was added: <code class="docutils literal notranslate"><span class="pre">default_permission</span></code>.</li>
</ul>
</li>
<li>Add a new request API: <code class="docutils literal notranslate"><span class="pre">request.add_finished_callback</span></code>.  Finished
callbacks are called by the router unconditionally near the very end
of request processing.  See the &quot;Using Finished Callbacks&quot; section
of the &quot;Hooks&quot; narrative chapter of the documentation for more
information.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">request.matched_route</span></code> attribute is now added to the request
when a route has matched.  Its value is the &quot;route&quot; object that
matched (see the <code class="docutils literal notranslate"><span class="pre">IRoute</span></code> interface within
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code> API documentation for the API of a route
object).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">exception</span></code> attribute of the request is now set slightly
earlier and in a slightly different set of scenarios, for benefit of
&quot;finished callbacks&quot; and &quot;response callbacks&quot;.  In previous
versions, the <code class="docutils literal notranslate"><span class="pre">exception</span></code> attribute of the request was not set at
all if an exception view was not found.  In this version, the
<code class="docutils literal notranslate"><span class="pre">request.exception</span></code> attribute is set immediately when an exception
is caught by the router, even if an exception view could not be
found.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">add_route</span></code> method of a Configurator now accepts a
<code class="docutils literal notranslate"><span class="pre">pregenerator</span></code> argument.  The pregenerator for the resulting route
is called by <code class="docutils literal notranslate"><span class="pre">route_url</span></code> in order to adjust the set of arguments
passed to it by the user for special purposes, such as Pylons
'subdomain' support.  It will influence the URL returned by
<code class="docutils literal notranslate"><span class="pre">route_url</span></code>.  See the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IRoutePregenerator</span></code>
interface for more information.</li>
</ul>
</div>
<div class="section" id="id227">
<h3>後方の非互換性<a class="headerlink" href="#id227" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The router no longer sets the value <code class="docutils literal notranslate"><span class="pre">wsgiorg.routing_args</span></code> into
the environ when a route matches. The value used to be something
like <code class="docutils literal notranslate"><span class="pre">((),</span> <span class="pre">matchdict)</span></code>.  This functionality was only ever
obliquely referred to in change logs; it was never documented as an
API.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">exception</span></code> attribute of the request now defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.
In prior versions, the <code class="docutils literal notranslate"><span class="pre">request.exception</span></code> attribute did not exist
if an exception was not raised by user code during request
processing; it only began existence once an exception view was
found.</li>
</ul>
</div>
<div class="section" id="id228">
<h3>廃止<a class="headerlink" href="#id228" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IWSGIApplicationCreatedEvent</span></code> event
interface was renamed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IApplicationCreated</span></code>.  Likewise, the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.WSGIApplicationCreatedEvent</span></code> class was renamed
to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.ApplicationCreated</span></code>.  The older aliases will
continue to work indefinitely.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IAfterTraversal</span></code> event interface was
renamed to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IContextFound</span></code>.  Likewise, the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.AfterTraversal</span></code> class was renamed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.ContextFound</span></code>.  The older aliases will continue
to work indefinitely.</li>
<li>References to the WSGI environment values <code class="docutils literal notranslate"><span class="pre">bfg.routes.matchdict</span></code>
and <code class="docutils literal notranslate"><span class="pre">bfg.routes.route</span></code> were removed from documentation.  These
will stick around internally for several more releases, but it is
<code class="docutils literal notranslate"><span class="pre">request.matchdict</span></code> and <code class="docutils literal notranslate"><span class="pre">request.matched_route</span></code> are now the
&quot;official&quot; way to obtain the matchdict and the route object which
resulted in the match.</li>
</ul>
</div>
<div class="section" id="id229">
<h3>ドキュメンテーション<a class="headerlink" href="#id229" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added documentation for the <code class="docutils literal notranslate"><span class="pre">default_permission</span></code> ZCML directive.</li>
<li>Added documentation for the <code class="docutils literal notranslate"><span class="pre">default_permission</span></code> constructor value
and the <code class="docutils literal notranslate"><span class="pre">set_default_permission</span></code> method in the Configurator API
documentation.</li>
<li>Added a new section to the &quot;security&quot; chapter named &quot;Setting a
Default Permission&quot;.</li>
<li>Document <code class="docutils literal notranslate"><span class="pre">renderer_globals_factory</span></code> and <code class="docutils literal notranslate"><span class="pre">request_factory</span></code>
arguments to Configurator constructor.</li>
<li>Added two sections to the &quot;Hooks&quot; chapter of the documentation:
&quot;Using Response Callbacks&quot; and &quot;Using Finished Callbacks&quot;.</li>
<li>Added documentation of the <code class="docutils literal notranslate"><span class="pre">request.exception</span></code> attribute to the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.Request</span></code> API documentation.</li>
<li>Added glossary entries for &quot;response callback&quot; and &quot;finished
callback&quot;.</li>
<li>The &quot;Request Processing&quot; narrative chapter has been updated to note
finished and response callback steps.</li>
<li>New interface in interfaces API documentation: <code class="docutils literal notranslate"><span class="pre">IRoutePregenerator</span></code>.</li>
<li>Added a &quot;The Matched Route&quot; section to the URL Dispatch narrative
docs chapter, detailing the <code class="docutils literal notranslate"><span class="pre">matched_route</span></code> attribute.</li>
</ul>
</div>
</div>
<div class="section" id="a12-2010-09-08">
<h2>1.3a12 (2010-09-08)<a class="headerlink" href="#a12-2010-09-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id230">
<h3>バグの修正<a class="headerlink" href="#id230" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix a bug in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.static_url</span></code> URL generation: if two
resource specifications were used to create two separate static
views, but they shared a common prefix, it was possible that
<code class="docutils literal notranslate"><span class="pre">static_url</span></code> would generate an incorrect URL.</li>
<li>Fix another bug in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.static_url</span></code> URL generation: too
many slashes in generated URL.</li>
<li>Prevent a race condition which could result in a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code>
when rendering a Chameleon template that has not already been
rendered once.  This would usually occur directly after a restart,
when more than one person or thread is trying to execute the same
view at the same time: <a class="reference external" href="https://bugs.launchpad.net/karl3/+bug/621364">https://bugs.launchpad.net/karl3/+bug/621364</a></li>
</ul>
</div>
<div class="section" id="id231">
<h3>特徴<a class="headerlink" href="#id231" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The argument to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.add_route</span></code>
which was previously called <code class="docutils literal notranslate"><span class="pre">path</span></code> is now called <code class="docutils literal notranslate"><span class="pre">pattern</span></code> for
better explicability.  For backwards compatibility purposes, passing
a keyword argument named <code class="docutils literal notranslate"><span class="pre">path</span></code> to <code class="docutils literal notranslate"><span class="pre">add_route</span></code> will still work
indefinitely.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute to the ZCML <code class="docutils literal notranslate"><span class="pre">route</span></code> directive is now named
<code class="docutils literal notranslate"><span class="pre">pattern</span></code> for better explicability.  The older <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute
will continue to work indefinitely.</li>
</ul>
</div>
<div class="section" id="id232">
<h3>ドキュメンテーション<a class="headerlink" href="#id232" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>All narrative, API, and tutorial docs which referred to a route
pattern as a <code class="docutils literal notranslate"><span class="pre">path</span></code> have now been updated to refer to them as a
<code class="docutils literal notranslate"><span class="pre">pattern</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code> API documentation page is now rendered
via <code class="docutils literal notranslate"><span class="pre">repoze.sphinx.autointerface</span></code>.</li>
<li>The URL Dispatch narrative chapter now refers to the <code class="docutils literal notranslate"><span class="pre">interfaces</span></code>
chapter to explain the API of an <code class="docutils literal notranslate"><span class="pre">IRoute</span></code> object.</li>
</ul>
</div>
<div class="section" id="id233">
<h3>ペースターテンプレート<a class="headerlink" href="#id233" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The routesalchemy template has been updated to use <code class="docutils literal notranslate"><span class="pre">pattern</span></code> in
its route declarations rather than <code class="docutils literal notranslate"><span class="pre">path</span></code>.</li>
</ul>
</div>
<div class="section" id="id234">
<h3>依存関係<a class="headerlink" href="#id234" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">tests_require</span></code> now includes <code class="docutils literal notranslate"><span class="pre">repoze.sphinx.autointerface</span></code> as a
dependency.</li>
</ul>
</div>
<div class="section" id="id235">
<h3>内部<a class="headerlink" href="#id235" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add an API to the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> named <code class="docutils literal notranslate"><span class="pre">get_routes_mapper</span></code>.
This returns an object implementing the <code class="docutils literal notranslate"><span class="pre">IRoutesMapper</span></code> interface.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesMapper</span></code> object now has a
<code class="docutils literal notranslate"><span class="pre">get_route</span></code> method which returns a single Route object or
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
<li>A new interface <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IRoute</span></code> was added.  The
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.Route</span></code> object implements this interface.</li>
<li>The canonical attribute for accessing the routing pattern from a
route object is now <code class="docutils literal notranslate"><span class="pre">pattern</span></code> rather than <code class="docutils literal notranslate"><span class="pre">path</span></code>.</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">hash()</span></code> rather than <code class="docutils literal notranslate"><span class="pre">id()</span></code> when computing the &quot;phash&quot; of a
custom route/view predicate in order to allow the custom predicate
some control over which predicates are &quot;equal&quot;.</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">response.headerlist.append</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">response.headers.add</span></code> in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.add_global_response_headers</span></code> in case the
response is not a WebOb response.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.Route</span></code> constructor (not an API) now
accepts a different ordering of arguments.  Previously it was
<code class="docutils literal notranslate"><span class="pre">(pattern,</span> <span class="pre">name,</span> <span class="pre">factory=None,</span> <span class="pre">predicates=())</span></code>.  It is now
<code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">pattern,</span> <span class="pre">factory=None,</span> <span class="pre">predicates=())</span></code>.  This is in
support of consistency with <code class="docutils literal notranslate"><span class="pre">configurator.add_route</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesMapper.connect</span></code> method (not an
API) now accepts a different ordering of arguments.  Previously it
was <code class="docutils literal notranslate"><span class="pre">(pattern,</span> <span class="pre">name,</span> <span class="pre">factory=None,</span> <span class="pre">predicates=())</span></code>.  It is now
<code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">pattern,</span> <span class="pre">factory=None,</span> <span class="pre">predicates=())</span></code>.  This is in
support of consistency with <code class="docutils literal notranslate"><span class="pre">configurator.add_route</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="a11-2010-09-05">
<h2>1.3a11 (2010-09-05)<a class="headerlink" href="#a11-2010-09-05" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id236">
<h3>バグの修正<a class="headerlink" href="#id236" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Process the response callbacks and the NewResponse event earlier, to
enable mutations to the response to take effect.</li>
</ul>
</div>
</div>
<div class="section" id="a10-2010-09-05">
<h2>1.3a10 (2010-09-05)<a class="headerlink" href="#a10-2010-09-05" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id237">
<h3>特徴<a class="headerlink" href="#id237" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">A new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.Request.add_response_callback</span></code> API has
been added.  This method is documented in the new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request</span></code> API chapter.  It can be used to influence
response values before a concrete response object has been created.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INewResponse</span></code> interface now includes a
<code class="docutils literal notranslate"><span class="pre">request</span></code> attribute; as a result, a handler for INewResponse now
has access to the request which caused the response.</p>
</li>
<li><p class="first">Each of the follow methods of the Configurator now allow the
below-named arguments to be passed as &quot;dotted name strings&quot;
(e.g. &quot;foo.bar.baz&quot;) rather than as actual implementation objects
that must be imported:</p>
<dl class="docutils">
<dt>setup_registry</dt>
<dd><p class="first last">root_factory, authentication_policy, authorization_policy,
debug_logger, locale_negotiator, request_factory,
renderer_globals_factory</p>
</dd>
<dt>add_subscriber</dt>
<dd><p class="first last">subscriber, iface</p>
</dd>
<dt>derive_view</dt>
<dd><p class="first last">view</p>
</dd>
<dt>add_view</dt>
<dd><p class="first last">view, <code class="docutils literal notranslate"><span class="pre">for_</span></code>, context, request_type, containment</p>
</dd>
<dt>add_route()</dt>
<dd><p class="first last">view, view_for, factory, <code class="docutils literal notranslate"><span class="pre">for_</span></code>, view_context</p>
</dd>
<dt>scan</dt>
<dd><p class="first last">package</p>
</dd>
<dt>add_renderer</dt>
<dd><p class="first last">factory</p>
</dd>
<dt>set_forbidden_view</dt>
<dd><p class="first last">view</p>
</dd>
<dt>set_notfound_view</dt>
<dd><p class="first last">view</p>
</dd>
<dt>set_request_factory</dt>
<dd><p class="first last">factory</p>
</dd>
<dt>set_renderer_globals_factory()</dt>
<dd><p class="first last">factory</p>
</dd>
<dt>set_locale_negotiator</dt>
<dd><p class="first last">negotiator</p>
</dd>
<dt>testing_add_subscriber</dt>
<dd><p class="first last">event_iface</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id238">
<h3>バグの修正<a class="headerlink" href="#id238" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The route pattern registered internally for a local &quot;static view&quot;
(either via the <code class="docutils literal notranslate"><span class="pre">static</span></code> ZCML directive or via the
<code class="docutils literal notranslate"><span class="pre">add_static_view</span></code> method of the configurator) was incorrect.  It
was regsistered for e.g. <code class="docutils literal notranslate"><span class="pre">static*traverse</span></code>, while it should have
been registered for <code class="docutils literal notranslate"><span class="pre">static/*traverse</span></code>.  Symptom: two static views
could not reliably be added to a system when they both shared the
same path prefix (e.g. <code class="docutils literal notranslate"><span class="pre">/static</span></code> and <code class="docutils literal notranslate"><span class="pre">/static2</span></code>).</li>
</ul>
</div>
<div class="section" id="id239">
<h3>後方の非互換性<a class="headerlink" href="#id239" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The INewResponse event is now not sent to listeners if the response
returned by view code (or a renderer) is not a &quot;real&quot; response
(e.g. if it does not have <code class="docutils literal notranslate"><span class="pre">.status</span></code>, <code class="docutils literal notranslate"><span class="pre">.headerlist</span></code> and
<code class="docutils literal notranslate"><span class="pre">.app_iter</span></code> attribtues).</li>
</ul>
</div>
<div class="section" id="id240">
<h3>ドキュメンテーション<a class="headerlink" href="#id240" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add an API chapter for the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request</span></code> module, which
includes documentation for the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.Request</span></code> class
(the &quot;request object&quot;).</li>
<li>Modify the &quot;Request and Response&quot; narrative chapter to reference the
new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request</span></code> API chapter.  Some content was moved from
this chapter into the API documentation itself.</li>
<li>Various changes to denote that Python dotted names are now allowed
as input to Configurator methods.</li>
</ul>
</div>
<div class="section" id="id241">
<h3>内部<a class="headerlink" href="#id241" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The (internal) feature which made it possible to attach a
<code class="docutils literal notranslate"><span class="pre">global_response_headers</span></code> attribute to the request (which was
assumed to contain a sequence of header key/value pairs which would
later be added to the response by the router), has been removed.
The functionality of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.Request.add_response_callback</span></code> takes its
place.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.NewResponse</span></code> class's construct has changed:
it now must be created with <code class="docutils literal notranslate"><span class="pre">(request,</span> <span class="pre">response)</span></code> rather than
simply <code class="docutils literal notranslate"><span class="pre">(response)</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="a9-2010-08-22">
<h2>1.3a9 (2010-08-22)<a class="headerlink" href="#a9-2010-08-22" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id242">
<h3>特徴<a class="headerlink" href="#id242" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The Configurator now accepts a dotted name <em>string</em> to a package as
a <code class="docutils literal notranslate"><span class="pre">package</span></code> constructor argument. The <code class="docutils literal notranslate"><span class="pre">package</span></code> argument was
previously required to be a package <em>object</em> (not a dotted name
string).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.with_package</span></code> method
was added.  This method returns a new Configurator using the same
application registry as the configurator object it is called
upon. The new configurator is created afresh with its <code class="docutils literal notranslate"><span class="pre">package</span></code>
constructor argument set to the value passed to <code class="docutils literal notranslate"><span class="pre">with_package</span></code>.
This feature will make it easier for future BFG versions to allow
dotted names as arguments in places where currently only object
references are allowed (the work to allow dotted names isntead of
object references everywhere has not yet been done, however).</li>
<li>The new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.maybe_dotted</span></code>
method resolves a Python dotted name string supplied as its
<code class="docutils literal notranslate"><span class="pre">dotted</span></code> argument to a global Python object.  If the value cannot
be resolved, a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.ConfigurationError</span></code> is
raised.  If the value supplied as <code class="docutils literal notranslate"><span class="pre">dotted</span></code> is not a string, the
value is returned unconditionally without any resolution attempted.</li>
<li>The new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.absolute_resource_spec</span></code>
method resolves a potentially relative &quot;resource specification&quot;
string into an absolute version.  If the value supplied as
<code class="docutils literal notranslate"><span class="pre">relative_spec</span></code> is not a string, the value is returned
unconditionally without any resolution attempted.</li>
</ul>
</div>
<div class="section" id="id243">
<h3>後方の非互換性<a class="headerlink" href="#id243" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The functions in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers</span></code> named <code class="docutils literal notranslate"><span class="pre">render</span></code> and
<code class="docutils literal notranslate"><span class="pre">render_to_response</span></code> introduced in 1.3a6 previously took a set of
<code class="docutils literal notranslate"><span class="pre">**values</span></code> arguments for the values to be passed to the renderer.
This was wrong, as renderers don't need to accept only dictionaries
(they can accept any type of object).  Now, the value sent to the
renderer must be supplied as a positional argument named <code class="docutils literal notranslate"><span class="pre">value</span></code>.
The <code class="docutils literal notranslate"><span class="pre">request</span></code> argument is still a keyword argument, however.</li>
<li>The functions in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers</span></code> named <code class="docutils literal notranslate"><span class="pre">render</span></code> and
<code class="docutils literal notranslate"><span class="pre">render_to_response</span></code> now accept an additonal keyword argument
named <code class="docutils literal notranslate"><span class="pre">package</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">get_renderer</span></code> API in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers</span></code> now accepts a
<code class="docutils literal notranslate"><span class="pre">package</span></code> argument.</li>
</ul>
</div>
<div class="section" id="id244">
<h3>ドキュメンテーション<a class="headerlink" href="#id244" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The ZCML <code class="docutils literal notranslate"><span class="pre">include</span></code> directive docs were incorrect: they specified
<code class="docutils literal notranslate"><span class="pre">filename</span></code> rather than (the correct) <code class="docutils literal notranslate"><span class="pre">file</span></code> as an allowable
attribute.</li>
</ul>
</div>
<div class="section" id="id245">
<h3>内部<a class="headerlink" href="#id245" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.resource.resolve_resource_spec</span></code> function can now
accept a package object as its <code class="docutils literal notranslate"><span class="pre">pname</span></code> argument instead of just a
package name.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">_renderer_factory_from_name</span></code> and <code class="docutils literal notranslate"><span class="pre">_renderer_from_name</span></code>
methods of the Configurator were removed.  These were never APIs.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">_render</span></code>, <code class="docutils literal notranslate"><span class="pre">_render_to_response</span></code> and <code class="docutils literal notranslate"><span class="pre">_make_response</span></code>
functions with <code class="docutils literal notranslate"><span class="pre">repoze.bfg.render</span></code> (added in 1.3a6) have been
removed.</li>
<li>A new helper class <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.RendererHelper</span></code> was
added.</li>
<li>The _map_view function of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration</span></code> now takes
only a renderer_name argument instead of both a <code class="docutils literal notranslate"><span class="pre">renderer</span></code> and
<code class="docutils literal notranslate"><span class="pre">renderer``_name</span> <span class="pre">argument.</span>&#160; <span class="pre">It</span> <span class="pre">also</span> <span class="pre">takes</span> <span class="pre">a</span> <span class="pre">``package</span></code> argument
now.</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">imp.get_suffixes</span></code> indirection in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.path.package_name</span></code> instead of hardcoded <code class="docutils literal notranslate"><span class="pre">.py</span></code>
<code class="docutils literal notranslate"><span class="pre">.pyc</span></code> and <code class="docutils literal notranslate"><span class="pre">.pyo</span></code> to use for comparison when attemtping to
decide if a directory is a package.</li>
<li>Make tests runnable again under Jython (although they do not all
pass currently).</li>
<li>The reify decorator now maintains the docstring of the function it
wraps.</li>
</ul>
</div>
</div>
<div class="section" id="a8-2010-08-08">
<h2>1.3a8 (2010-08-08)<a class="headerlink" href="#a8-2010-08-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id246">
<h3>特徴<a class="headerlink" href="#id246" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">New public interface: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.IExceptionResponse</span></code>.
This interface is provided by all internal exception classes (such
as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.Forbidden</span></code>), instances of which are both
exception objects and can behave as WSGI response objects.  This
interface is made public so that exception classes which are also
valid WSGI response factories can be configured to implement them or
exception instances which are also or response instances can be
configured to provide them.</p>
</li>
<li><p class="first">New API class: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.AppendSlashNotFoundViewFactory</span></code>.</p>
<p>There can only be one Not Found view in any <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>
application.  Even if you use
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.append_slash_notfound_view</span></code> as the Not Found
view, <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> still must generate a <code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></code>
response when it cannot redirect to a slash-appended URL; this not
found response will be visible to site users.</p>
<p>If you don't care what this 404 response looks like, and you only
need redirections to slash-appended route URLs, you may use the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.append_slash_notfound_view</span></code> object as the Not
Found view.  However, if you wish to use a <em>custom</em> notfound view
callable when a URL cannot be redirected to a slash-appended URL,
you may wish to use an instance of the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.AppendSlashNotFoundViewFactory</span></code> class as the Not
Found view, supplying the notfound view callable as the first
argument to its constructor.  For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.bfg.exceptions</span> <span class="k">import</span> <span class="n">NotFound</span>
<span class="kn">from</span> <span class="nn">repoze.bfg.view</span> <span class="k">import</span> <span class="n">AppendSlashNotFoundViewFactory</span>

<span class="k">def</span> <span class="nf">notfound_view</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HTTPNotFound</span><span class="p">(</span><span class="s1">&#39;It aint there, stop trying!&#39;</span><span class="p">)</span>

<span class="n">custom_append_slash</span> <span class="o">=</span> <span class="n">AppendSlashNotFoundViewFactory</span><span class="p">(</span><span class="n">notfound_view</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">custom_append_slash</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">NotFound</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">notfound_view</span></code> supplied must adhere to the two-argument view
callable calling convention of <code class="docutils literal notranslate"><span class="pre">(context,</span> <span class="pre">request)</span></code> (<code class="docutils literal notranslate"><span class="pre">context</span></code>
will be the exception object).</p>
</li>
</ul>
</div>
<div class="section" id="id247">
<h3>ドキュメンテーション<a class="headerlink" href="#id247" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Expanded the &quot;Cleaning Up After a Request&quot; section of the URL
Dispatch narrative chapter.</li>
<li>Expanded the &quot;Redirecting to Slash-Appended Routes&quot; section of the
URL Dispatch narrative chapter.</li>
</ul>
</div>
<div class="section" id="id248">
<h3>内部<a class="headerlink" href="#id248" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Previously, two default view functions were registered at
Configurator setup (one for <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code> named
<code class="docutils literal notranslate"><span class="pre">default_notfound_view</span></code> and one for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.Forbidden</span></code> named
<code class="docutils literal notranslate"><span class="pre">default_forbidden_view</span></code>) to render internal exception responses.
Those default view functions have been removed, replaced with a
generic default view function which is registered at Configurator
setup for the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IExceptionResponse</span></code> interface
that simply returns the exception instance; the <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> and
<code class="docutils literal notranslate"><span class="pre">Forbidden</span></code> classes are now still exception factories but they are
also response factories which generate instances that implement the
new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IExceptionResponse</span></code> interface.</li>
</ul>
</div>
</div>
<div class="section" id="a7-2010-08-01">
<h2>1.3a7 (2010-08-01)<a class="headerlink" href="#a7-2010-08-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id249">
<h3>特徴<a class="headerlink" href="#id249" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.add_route</span></code> API now
returns the route object that was added.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.subscriber</span></code> decorator was added.  This
decorator decorates module-scope functions, which are then treated
as event listeners after a scan() is performed.  See the Events
narrative documentation chapter and the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events</span></code> module
documentation for more information.</li>
</ul>
</div>
<div class="section" id="id250">
<h3>バグの修正<a class="headerlink" href="#id250" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When adding a view for a route which did not yet exist (&quot;did not yet
exist&quot; meaning, temporally, a view was added with a route name for a
route which had not yet been added via add_route), the value of the
<code class="docutils literal notranslate"><span class="pre">custom_predicate</span></code> argument to <code class="docutils literal notranslate"><span class="pre">add_view</span></code> was lost.  Symptom:
wrong view matches when using URL dispatch and custom view
predicates together.</li>
<li>Pattern matches for a <code class="docutils literal notranslate"><span class="pre">:segment</span></code> marker in a URL dispatch route
pattern now always match at least one character.  See &quot;Backwards
Incompatibilities&quot; below in this changelog.</li>
</ul>
</div>
<div class="section" id="id251">
<h3>後方の非互換性<a class="headerlink" href="#id251" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A bug existed in the regular expression to do URL matching.  As an
example, the URL matching machinery would cause the pattern
<code class="docutils literal notranslate"><span class="pre">/{foo}</span></code> to match the root URL <code class="docutils literal notranslate"><span class="pre">/</span></code> resulting in a match
dictionary of <code class="docutils literal notranslate"><span class="pre">{'foo':u''}</span></code> or the pattern <code class="docutils literal notranslate"><span class="pre">/{fud}/edit</span> <span class="pre">might</span>
<span class="pre">match</span> <span class="pre">the</span> <span class="pre">URL</span> <span class="pre">``//edit</span></code> resulting in a match dictionary of
<code class="docutils literal notranslate"><span class="pre">{'fud':u''}</span></code>.  It was always the intent that <code class="docutils literal notranslate"><span class="pre">:segment</span></code> markers
in the pattern would need to match <em>at least one</em> character, and
never match the empty string.  This, however, means that in certain
circumstances, a routing match which your application inadvertently
depended upon may no longer happen.</li>
</ul>
</div>
<div class="section" id="id252">
<h3>ドキュメンテーション<a class="headerlink" href="#id252" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added description of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.subscriber</span></code> decorator
to the Events narrative chapter.</li>
<li>Added <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.subscriber</span></code> API documentation to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.events</span></code> API docs.</li>
<li>Added a section named &quot;Zope 3 Enforces 'TTW' Authorization Checks By
Default; BFG Does Not&quot; to the &quot;Design Defense&quot; chapter.</li>
</ul>
</div>
</div>
<div class="section" id="a6-2010-07-25">
<h2>1.3a6 (2010-07-25)<a class="headerlink" href="#a6-2010-07-25" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id253">
<h3>特徴<a class="headerlink" href="#id253" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">New argument to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.add_route</span></code>
and the <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive: <code class="docutils literal notranslate"><span class="pre">traverse</span></code>.  If you would like
to cause the <code class="docutils literal notranslate"><span class="pre">context</span></code> to be something other than the <code class="docutils literal notranslate"><span class="pre">root</span></code>
object when this route matches, you can spell a traversal pattern as
the <code class="docutils literal notranslate"><span class="pre">traverse</span></code> argument.  This traversal pattern will be used as
the traversal path: traversal will begin at the root object implied
by this route (either the global root, or the object returned by the
<code class="docutils literal notranslate"><span class="pre">factory</span></code> associated with this route).</p>
<p>The syntax of the <code class="docutils literal notranslate"><span class="pre">traverse</span></code> argument is the same as it is for
<code class="docutils literal notranslate"><span class="pre">path</span></code>. For example, if the <code class="docutils literal notranslate"><span class="pre">path</span></code> provided is
<code class="docutils literal notranslate"><span class="pre">articles/:article/edit</span></code>, and the <code class="docutils literal notranslate"><span class="pre">traverse</span></code> argument provided
is <code class="docutils literal notranslate"><span class="pre">/:article</span></code>, when a request comes in that causes the route to
match in such a way that the <code class="docutils literal notranslate"><span class="pre">article</span></code> match value is '1' (when
the request URI is <code class="docutils literal notranslate"><span class="pre">/articles/1/edit</span></code>), the traversal path will be
generated as <code class="docutils literal notranslate"><span class="pre">/1</span></code>.  This means that the root object's
<code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> will be called with the name <code class="docutils literal notranslate"><span class="pre">1</span></code> during the
traversal phase.  If the <code class="docutils literal notranslate"><span class="pre">1</span></code> object exists, it will become the
<code class="docutils literal notranslate"><span class="pre">context</span></code> of the request.  The Traversal narrative has more
information about traversal.</p>
<p>If the traversal path contains segment marker names which are not
present in the path argument, a runtime error will occur.  The
<code class="docutils literal notranslate"><span class="pre">traverse</span></code> pattern should not contain segment markers that do not
exist in the <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
<p>A similar combining of routing and traversal is available when a
route is matched which contains a <code class="docutils literal notranslate"><span class="pre">*traverse</span></code> remainder marker in
its path.  The <code class="docutils literal notranslate"><span class="pre">traverse</span></code> argument allows you to associate route
patterns with an arbitrary traversal path without using a
<code class="docutils literal notranslate"><span class="pre">*traverse</span></code> remainder marker; instead you can use other match
information.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">traverse</span></code> argument is ignored when attached to a
route that has a <code class="docutils literal notranslate"><span class="pre">*traverse</span></code> remainder marker in its path.</p>
</li>
<li><p class="first">A new method of the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> exists:
<code class="docutils literal notranslate"><span class="pre">set_request_factory</span></code>.  If used, this method will set the factory
used by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> router to create all request objects.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> constructor takes an additional argument:
<code class="docutils literal notranslate"><span class="pre">request_factory</span></code>.  If used, this argument will set the factory
used by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> router to create all request objects.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> constructor takes an additional argument:
<code class="docutils literal notranslate"><span class="pre">request_factory</span></code>.  If used, this argument will set the factory
used by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> router to create all request objects.</p>
</li>
<li><p class="first">A new method of the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> exists:
<code class="docutils literal notranslate"><span class="pre">set_renderer_globals_factory</span></code>.  If used, this method will set the
factory used by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> router to create renderer
globals.</p>
</li>
<li><p class="first">A new method of the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> exists: <code class="docutils literal notranslate"><span class="pre">get_settings</span></code>.  If
used, this method will return the current settings object (performs
the same job as the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_settings</span></code> API).</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> constructor takes an additional argument:
<code class="docutils literal notranslate"><span class="pre">renderer_globals_factory</span></code>.  If used, this argument will set the
factory used by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> router to create renderer
globals.</p>
</li>
<li><p class="first">Add <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.render</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.render_to_response</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.get_renderer</span></code> functions.  These are
imperative APIs which will use the same rendering machinery used by
view configurations with a <code class="docutils literal notranslate"><span class="pre">renderer=</span></code> attribute/argument to
produce a rendering or renderer.  Because these APIs provide a
central API for all rendering, they now form the preferred way to
perform imperative template rendering.  Using functions named
<code class="docutils literal notranslate"><span class="pre">render_*</span></code> from modules such as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_text</span></code> is now discouraged (although not
deprecated).  The code the backing older templating-system-specific
APIs now calls into the newer <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderer</span></code> code.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.testing_add_template</span></code>
has been renamed to <code class="docutils literal notranslate"><span class="pre">testing_add_renderer</span></code>.  A backwards
compatibility alias is present using the old name.</p>
</li>
</ul>
</div>
<div class="section" id="id254">
<h3>ドキュメンテーション<a class="headerlink" href="#id254" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">Hybrid</span></code> narrative chapter now contains a description of the
<code class="docutils literal notranslate"><span class="pre">traverse</span></code> route argument.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Hooks</span></code> narrative chapter now contains sections about
changing the request factory and adding a renderer globals factory.</li>
<li>The API documentation includes a new module:
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Templates</span></code> chapter was updated; all narrative that used
templating-specific APIs within examples to perform rendering (such
as the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt.render_template_to_response</span></code>
method) was changed to use <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.render_*</span></code>
functions.</li>
</ul>
</div>
<div class="section" id="id255">
<h3>バグの修正<a class="headerlink" href="#id255" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">header</span></code> predicate (when used as either a view predicate or a
route predicate) had a problem when specified with a name/regex
pair.  When the header did not exist in the headers dictionary, the
regex match could be fed <code class="docutils literal notranslate"><span class="pre">None</span></code>, causing it to throw a
<code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">expected</span> <span class="pre">string</span> <span class="pre">or</span> <span class="pre">buffer</span></code> exception.  Now, the
predicate returns False as intended.</li>
</ul>
</div>
<div class="section" id="id256">
<h3>廃止<a class="headerlink" href="#id256" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.rendered_response</span></code> function was never an
official API, but may have been imported by extensions in the wild.
It is officially deprecated in this release.  Use
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers.render_to_response</span></code> instead.</p>
</li>
<li><p class="first">The following APIs are <em>documentation</em> deprecated (meaning they are
officially deprecated in documentation but do not raise a
deprecation error upon their usage, and may continue to work for an
indefinite period of time):</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code> module: <code class="docutils literal notranslate"><span class="pre">get_renderer</span></code>,
<code class="docutils literal notranslate"><span class="pre">get_template</span></code>, <code class="docutils literal notranslate"><span class="pre">render_template</span></code>,
<code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code>.  The suggested alternatives are
documented within the docstrings of those methods (which are still
present in the documentation).</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_text</span></code> module: <code class="docutils literal notranslate"><span class="pre">get_renderer</span></code>,
<code class="docutils literal notranslate"><span class="pre">get_template</span></code>, <code class="docutils literal notranslate"><span class="pre">render_template</span></code>,
<code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code>.  The suggested alternatives are
documented within the docstrings of those methods (which are still
present in the documentation).</p>
<p>In general, to perform template-related functions, one should now
use the various methods in the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderers</span></code> module.</p>
</li>
</ul>
</div>
<div class="section" id="id257">
<h3>後方の非互換性<a class="headerlink" href="#id257" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">A new internal exception class (<em>not</em> an API) named
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.PredicateMismatch</span></code> now exists.  This
exception is currently raised when no constituent view of a
multiview can be called (due to no predicate match).  Previously, in
this situation, a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code> was raised.  We
provide backwards compatibility for code that expected a
<code class="docutils literal notranslate"><span class="pre">NotFound</span></code> to be raised when no predicates match by causing
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.PredicateMismatch</span></code> to inherit from
<code class="docutils literal notranslate"><span class="pre">NotFound</span></code>.  This will cause any exception view registered for
<code class="docutils literal notranslate"><span class="pre">NotFound</span></code> to be called when a predicate mismatch occurs, as was
the previous behavior.</p>
<p>There is however, one perverse case that will expose a backwards
incompatibility.  If 1) you had a view that was registered as a
member of a multiview 2) this view explicitly raised a <code class="docutils literal notranslate"><span class="pre">NotFound</span></code>
exception <em>in order to</em> proceed to the next predicate check in the
multiview, that code will now behave differently: rather than
skipping to the next view match, a NotFound will be raised to the
top-level exception handling machinery instead.  For code to be
depending upon the behavior of a view raising <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> to
proceed to the next predicate match, would be tragic, but not
impossible, given that <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> is a public interface.
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.PredicateMismatch</span></code> is not a public API and
cannot be depended upon by application code, so you should not
change your view code to raise <code class="docutils literal notranslate"><span class="pre">PredicateMismatch</span></code>.  Instead, move
the logic which raised the <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> exception in the view out
into a custom view predicate.</p>
</li>
<li><p class="first">If, when you run your application's unit test suite under BFG 1.3, a
<code class="docutils literal notranslate"><span class="pre">KeyError</span></code> naming a template or a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> indicating that a
'renderer factory' is not registered may is raised
(e.g. <code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">No</span> <span class="pre">factory</span> <span class="pre">for</span> <span class="pre">renderer</span> <span class="pre">named</span> <span class="pre">'.pt'</span> <span class="pre">when</span> <span class="pre">looking</span>
<span class="pre">up</span> <span class="pre">karl.views:templates/snippets.pt</span></code>), you may need to perform some
extra setup in your test code.</p>
<p>The best solution is to use the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.testing_add_renderer</span></code> (or,
alternately the deprecated
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerTemplateRenderer</span></code> or
<code class="docutils literal notranslate"><span class="pre">registerDummyRenderer</span></code>) API within the code comprising each
individual unit test suite to register a &quot;dummy&quot; renderer for each
of the templates and renderers used by code under test.  For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">testing_add_renderer</span><span class="p">(</span><span class="s1">&#39;karl.views:templates/snippets.pt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will register a basic dummy renderer for this particular
missing template.  The <code class="docutils literal notranslate"><span class="pre">testing_add_renderer</span></code> API actually
<em>returns</em> the renderer, but if you don't care about how the render
is used, you don't care about having a reference to it either.</p>
<p>A more rough way to solve the issue exists.  It causes the &quot;real&quot;
template implementations to be used while the system is under test,
which is suboptimal, because tests will run slower, and unit tests
won't actually <em>be</em> unit tests, but it is easier.  Always ensure you
call the <code class="docutils literal notranslate"><span class="pre">setup_registry()</span></code> method of the Configurator .  Eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reg</span> <span class="o">=</span> <span class="n">MyRegistry</span><span class="p">()</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">registry</span><span class="o">=</span><span class="n">reg</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">setup_registry</span><span class="p">()</span>
</pre></div>
</div>
<p>Calling <code class="docutils literal notranslate"><span class="pre">setup_registry</span></code> only has an effect if you're <em>passing in</em>
a <code class="docutils literal notranslate"><span class="pre">registry</span></code> argument to the Configurator constructor.
<code class="docutils literal notranslate"><span class="pre">setup_registry</span></code> is called by the course of normal operations
anyway if you do not pass in a <code class="docutils literal notranslate"><span class="pre">registry</span></code>.</p>
<p>If your test suite isn't using a Configurator yet, and is still
using the older <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> APIs name <code class="docutils literal notranslate"><span class="pre">setUp</span></code> or
<code class="docutils literal notranslate"><span class="pre">cleanUp</span></code>, these will register the renderers on your behalf.</p>
<p>A variant on the symptom for this theme exists: you may already be
dutifully registering a dummy template or renderer for a template
used by the code you're testing using <code class="docutils literal notranslate"><span class="pre">testing_register_renderer</span></code>
or <code class="docutils literal notranslate"><span class="pre">registerTemplateRenderer</span></code>, but (perhaps unbeknownst to you)
the code under test expects to be able to use a &quot;real&quot; template
renderer implementation to retrieve or render <em>another</em> template
that you forgot was being rendered as a side effect of calling the
code you're testing.  This happened to work because it found the
<em>real</em> template while the system was under test previously, and now
it cannot.  The solution is the same.</p>
<p>It may also help reduce confusion to use a <em>resource specification</em>
to specify the template path in the test suite and code rather than
a relative path in either.  A resource specification is unambiguous,
while a relative path needs to be relative to &quot;here&quot;, where &quot;here&quot;
isn't always well-defined (&quot;here&quot; in a test suite may or may not be
the same as &quot;here&quot; in the code under test).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a5-2010-07-14">
<h2>1.3a5 (2010-07-14)<a class="headerlink" href="#a5-2010-07-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id258">
<h3>特徴<a class="headerlink" href="#id258" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>New internal exception: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.URLDecodeError</span></code>.
This URL is a subclass of the built-in Python exception named
<code class="docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code>.</li>
<li>When decoding a URL segment to Unicode fails, the exception raised
is now <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.URLDecodeError</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code>.  This makes it possible to register an
exception view invoked specifically when <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> cannot
decode a URL.</li>
</ul>
</div>
<div class="section" id="id259">
<h3>バグの修正<a class="headerlink" href="#id259" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix regression in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.add_static_view</span></code>.  Before
1.3a4, view names that contained a slash were supported as route
prefixes. 1.3a4 broke this by trying to treat them as full URLs.</li>
</ul>
</div>
<div class="section" id="id260">
<h3>ドキュメンテーション<a class="headerlink" href="#id260" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.URLDecodeError</span></code> exception was added to
the exceptions chapter of the API documentation.</li>
</ul>
</div>
<div class="section" id="id261">
<h3>後方の非互換性<a class="headerlink" href="#id261" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>in previous releases, when a URL could not be decoded from UTF-8
during traversal, a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> was raised.  Now the error which
is raised is a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.URLDecodeError</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="a4-2010-07-03">
<h2>1.3a4 (2010-07-03)<a class="headerlink" href="#a4-2010-07-03" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id262">
<h3>特徴<a class="headerlink" href="#id262" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Undocumented hook: make <code class="docutils literal notranslate"><span class="pre">get_app</span></code> and <code class="docutils literal notranslate"><span class="pre">get_root</span></code> of the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.paster.BFGShellCommand</span></code> hookable in cases where
endware may interfere with the default versions.</p>
</li>
<li><p class="first">In earlier versions, a custom route predicate associated with a url
dispatch route (each of the predicate functions fed to the
<code class="docutils literal notranslate"><span class="pre">custom_predicates</span></code> argument of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.add_route</span></code>) has always
required a 2-positional argument signature, e.g. <code class="docutils literal notranslate"><span class="pre">(context,</span>
<span class="pre">request)</span></code>.  Before this release, the <code class="docutils literal notranslate"><span class="pre">context</span></code> argument was
always <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>As of this release, the first argument passed to a predicate is now
a dictionary conventionally named <code class="docutils literal notranslate"><span class="pre">info</span></code> consisting of <code class="docutils literal notranslate"><span class="pre">route</span></code>,
and <code class="docutils literal notranslate"><span class="pre">match</span></code>.  <code class="docutils literal notranslate"><span class="pre">match</span></code> is a dictionary: it represents the
arguments matched in the URL by the route.  <code class="docutils literal notranslate"><span class="pre">route</span></code> is an object
representing the route which was matched.</p>
<p>This is useful when predicates need access to the route match.  For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">any_of</span><span class="p">(</span><span class="n">segment_name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">predicate</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;match&#39;</span><span class="p">][</span><span class="n">segment_name</span><span class="p">]</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">predicate</span>

<span class="n">num_one_two_or_three</span> <span class="o">=</span> <span class="n">any_of</span><span class="p">(</span><span class="s1">&#39;num, &#39;</span><span class="n">one</span><span class="s1">&#39;, &#39;</span><span class="n">two</span><span class="s1">&#39;, &#39;</span><span class="n">three</span><span class="s1">&#39;)</span>

<span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="s1">&#39;/:num&#39;</span><span class="p">,</span> <span class="n">custom_predicates</span><span class="o">=</span><span class="p">(</span><span class="n">num_one_two_or_three</span><span class="p">,))</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">route</span></code> object is an object that has two useful attributes:
<code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">path</span></code>.  The <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute is the route name.
The <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute is the route pattern.  An example of using
the route in a set of route predicates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">twenty_ten</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;route&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;ymd&#39;</span><span class="p">,</span> <span class="s1">&#39;ym&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;match&#39;</span><span class="p">][</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2010&#39;</span>

<span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;/:year&#39;</span><span class="p">,</span> <span class="n">custom_predicates</span><span class="o">=</span><span class="p">(</span><span class="n">twenty_ten</span><span class="p">,))</span>
<span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;ym&#39;</span><span class="p">,</span> <span class="s1">&#39;/:year/:month&#39;</span><span class="p">,</span> <span class="n">custom_predicates</span><span class="o">=</span><span class="p">(</span><span class="n">twenty_ten</span><span class="p">,))</span>
<span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;ymd&#39;</span><span class="p">,</span> <span class="s1">&#39;/:year/:month:/day&#39;</span><span class="p">,</span> <span class="n">custom_predicates</span><span class="o">=</span><span class="p">(</span><span class="n">twenty_ten</span><span class="p">,))</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> API has changed.  If a keyword
<code class="docutils literal notranslate"><span class="pre">_app_url</span></code> is present in the arguments passed to <code class="docutils literal notranslate"><span class="pre">route_url</span></code>,
this value will be used as the protocol/hostname/port/leading path
prefix of the generated URL.  For example, using an <code class="docutils literal notranslate"><span class="pre">_app_url</span></code> of
<code class="docutils literal notranslate"><span class="pre">http://example.com:8080/foo</span></code> would cause the URL
<code class="docutils literal notranslate"><span class="pre">http://example.com:8080/foo/fleeb/flub</span></code> to be returned from this
function if the expansion of the route pattern associated with the
<code class="docutils literal notranslate"><span class="pre">route_name</span></code> expanded to <code class="docutils literal notranslate"><span class="pre">/fleeb/flub</span></code>.</p>
</li>
<li><p class="first">It is now possible to use a URL as the <code class="docutils literal notranslate"><span class="pre">name</span></code> argument fed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.add_static_view</span></code>.  When the
name argument is a URL, the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.static_url</span></code> API will
generate join this URL (as a prefix) to a path including the static
file name.  This makes it more possible to put static media on a
separate webserver for production, while keeping static media
package-internal and served by the development webserver during
development.</p>
</li>
</ul>
</div>
<div class="section" id="id263">
<h3>ドキュメンテーション<a class="headerlink" href="#id263" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The authorization chapter of the ZODB Wiki Tutorial
(docs/tutorials/bfgwiki) was changed to demonstrate authorization
via a group rather than via a direct username (thanks to Alex
Marandon).</li>
<li>The authorization chapter of the SQLAlchemy Wiki Tutorial
(docs/tutorials/bfgwiki2) was changed to demonstrate authorization
via a group rather than via a direct username.</li>
<li>Redirect requests for tutorial sources to
<a class="reference external" href="http://docs.repoze.org/bfgwiki-1.3">http://docs.repoze.org/bfgwiki-1.3</a> and
<a class="reference external" href="http://docs.repoze.org/bfgwiki2-1.3/">http://docs.repoze.org/bfgwiki2-1.3/</a> respectively.</li>
<li>A section named <code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Route</span> <span class="pre">Predicates</span></code> was added to the URL
Dispatch narrative chapter.</li>
<li>The Static Resources chapter has been updated to mention using
<code class="docutils literal notranslate"><span class="pre">static_url</span></code> to generate URLs to external webservers.</li>
</ul>
</div>
<div class="section" id="id264">
<h3>内部<a class="headerlink" href="#id264" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Removed <code class="docutils literal notranslate"><span class="pre">repoze.bfg.static.StaticURLFactory</span></code> in favor of a new
abstraction revolving around the (still-internal)
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.static.StaticURLInfo</span></code> helper class.</li>
</ul>
</div>
</div>
<div class="section" id="a3-2010-05-01">
<h2>1.3a3 (2010-05-01)<a class="headerlink" href="#a3-2010-05-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id265">
<h3>ペースターテンプレート<a class="headerlink" href="#id265" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">bfg_alchemy</span></code> and <code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code> templates no longer
register a <code class="docutils literal notranslate"><span class="pre">handle_teardown</span></code> event listener which calls
<code class="docutils literal notranslate"><span class="pre">DBSession.remove</span></code>.  This was found by Chris Withers to be
unnecessary.</li>
</ul>
</div>
<div class="section" id="id266">
<h3>ドキュメンテーション<a class="headerlink" href="#id266" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The &quot;bfgwiki2&quot; (URL dispatch wiki) tutorial code and documentation
was changed to remove the <code class="docutils literal notranslate"><span class="pre">handle_teardown</span></code> event listener which
calls <code class="docutils literal notranslate"><span class="pre">DBSession.remove</span></code>.</li>
<li>Any mention of the <code class="docutils literal notranslate"><span class="pre">handle_teardown</span></code> event listener as used by the
paster templates was removed from the URL Dispatch narrative chapter.</li>
<li>A section entitled Detecting Available Languages was added to the
i18n narrative docs chapter.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2010-04-28">
<h2>1.3a2 (2010-04-28)<a class="headerlink" href="#a2-2010-04-28" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id267">
<h3>特徴<a class="headerlink" href="#id267" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A locale negotiator no longer needs to be registered explicitly. The
default locale negotiator at
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.i18n.default_locale_negotiator</span></code> is now used
unconditionally as... um, the default locale negotiator.</li>
<li>The default locale negotiator has become more complex.<ul>
<li>First, the negotiator looks for the <code class="docutils literal notranslate"><span class="pre">_LOCALE_</span></code> attribute of
the request object (possibly set by a view or an event listener).</li>
<li>Then it looks for the <code class="docutils literal notranslate"><span class="pre">request.params['_LOCALE_']</span></code> value.</li>
<li>Then it looks for the <code class="docutils literal notranslate"><span class="pre">request.cookies['_LOCALE_']</span></code> value.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id268">
<h3>後方の非互換性<a class="headerlink" href="#id268" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The default locale negotiator now looks for the parameter named
<code class="docutils literal notranslate"><span class="pre">_LOCALE_</span></code> rather than a parameter named <code class="docutils literal notranslate"><span class="pre">locale</span></code> in
<code class="docutils literal notranslate"><span class="pre">request.params</span></code>.</li>
</ul>
</div>
<div class="section" id="id269">
<h3>行動の変化<a class="headerlink" href="#id269" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A locale negotiator may now return <code class="docutils literal notranslate"><span class="pre">None</span></code>, signifying that the
default locale should be used.</li>
</ul>
</div>
<div class="section" id="id270">
<h3>ドキュメンテーション<a class="headerlink" href="#id270" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Documentation concerning locale negotiation in the
Internationalizationa and Localization chapter was updated.</li>
<li>Expanded portion of i18n narrative chapter docs which discuss
working with gettext files.</li>
</ul>
</div>
</div>
<div class="section" id="a1-2010-04-26">
<h2>1.3a1 (2010-04-26)<a class="headerlink" href="#a1-2010-04-26" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id271">
<h3>特徴<a class="headerlink" href="#id271" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Added &quot;exception views&quot;.  When you use an exception (anything that
inherits from the Python <code class="docutils literal notranslate"><span class="pre">Exception</span></code> builtin) as view context
argument, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.bfg.view</span> <span class="k">import</span> <span class="n">bfg_view</span>
<span class="kn">from</span> <span class="nn">repoze.bfg.exceptions</span> <span class="k">import</span> <span class="n">NotFound</span>
<span class="kn">from</span> <span class="nn">webob.exc</span> <span class="k">import</span> <span class="n">HTTPNotFound</span>

<span class="nd">@bfg_view</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">NotFound</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">notfound_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HTTPNotFound</span><span class="p">()</span>
</pre></div>
</div>
<p>For the above example, when the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code>
exception is raised by any view or any root factory, the
<code class="docutils literal notranslate"><span class="pre">notfound_view</span></code> view callable will be invoked and its response
returned.</p>
<p>Other normal view predicates can also be used in combination with an
exception view registration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.bfg.view</span> <span class="k">import</span> <span class="n">bfg_view</span>
<span class="kn">from</span> <span class="nn">repoze.bfg.exceptions</span> <span class="k">import</span> <span class="n">NotFound</span>
<span class="kn">from</span> <span class="nn">webob.exc</span> <span class="k">import</span> <span class="n">HTTPNotFound</span>

<span class="nd">@bfg_view</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">NotFound</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;home&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">notfound_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HTTPNotFound</span><span class="p">()</span>
</pre></div>
</div>
<p>The above exception view names the <code class="docutils literal notranslate"><span class="pre">route_name</span></code> of <code class="docutils literal notranslate"><span class="pre">home</span></code>,
meaning that it will only be called when the route matched has a
name of <code class="docutils literal notranslate"><span class="pre">home</span></code>.  You can therefore have more than one exception
view for any given exception in the system: the &quot;most specific&quot; one
will be called when the set of request circumstances which match the
view registration.  The only predicate that cannot be not be used
successfully is <code class="docutils literal notranslate"><span class="pre">name</span></code>.  The name used to look up an exception
view is always the empty string.</p>
<p>Existing (pre-1.3) normal views registered against objects
inheriting from <code class="docutils literal notranslate"><span class="pre">Exception</span></code> will continue to work.  Exception
views used for user-defined exceptions and system exceptions used as
contexts will also work.</p>
<p>The feature can be used with any view registration mechanism
(<code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code> decorator, ZCML, or imperative <code class="docutils literal notranslate"><span class="pre">config.add_view</span></code>
styles).</p>
<p>This feature was kindly contributed by Andrey Popp.</p>
</li>
<li><p class="first">Use &quot;Venusian&quot; (<a class="reference external" href="http://docs.repoze.org/venusian">http://docs.repoze.org/venusian</a>) to perform <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>
decorator scanning rather than relying on a BFG-internal decorator
scanner.  (Truth be told, Venusian is really just a generalization
of the BFG-internal decorator scanner).</p>
</li>
<li><p class="first">Internationalization and localization features as documented in the
narrative documentation chapter entitled <code class="docutils literal notranslate"><span class="pre">Internationalization</span> <span class="pre">and</span>
<span class="pre">Localization</span></code>.</p>
</li>
<li><p class="first">A new deployment setting named <code class="docutils literal notranslate"><span class="pre">default_locale_name</span></code> was added.
If this string is present as a Paster <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file option, it will
be considered the default locale name.  The default locale name is
used during locale-related operations such as language translation.</p>
</li>
<li><p class="first">It is now possible to turn on Chameleon template &quot;debugging mode&quot;
for all Chameleon BFG templates by setting a BFG-related Paster
<code class="docutils literal notranslate"><span class="pre">.ini</span></code> file setting named <code class="docutils literal notranslate"><span class="pre">debug_templates</span></code>. The exceptions
raised by Chameleon templates when a rendering fails are sometimes
less than helpful.  <code class="docutils literal notranslate"><span class="pre">debug_templates</span></code> allows you to configure your
application development environment so that exceptions generated by
Chameleon during template compilation and execution will contain
more helpful debugging information.  This mode is on by default in
all new projects.</p>
</li>
<li><p class="first">Add a new method of the Configurator named <code class="docutils literal notranslate"><span class="pre">derive_view</span></code> which can
be used to generate a BFG view callable from a user-supplied
function, instance, or class. This useful for external framework and
plugin authors wishing to wrap callables supplied by their users
which follow the same calling conventions and response conventions
as objects that can be supplied directly to BFG as a view callable.
See the <code class="docutils literal notranslate"><span class="pre">derive_view</span></code> method in the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code> docs.</p>
</li>
</ul>
</div>
<div class="section" id="zcml">
<h3>ZCML<a class="headerlink" href="#zcml" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">translationdir</span></code> ZCML directive to support localization.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">localenegotiator</span></code> ZCML directive to support localization.</li>
</ul>
</div>
<div class="section" id="id272">
<h3>廃止<a class="headerlink" href="#id272" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The exception views feature replaces the need for the
<code class="docutils literal notranslate"><span class="pre">set_notfound_view</span></code> and <code class="docutils literal notranslate"><span class="pre">set_forbidden_view</span></code> methods of the
<code class="docutils literal notranslate"><span class="pre">Configurator</span></code> as well as the <code class="docutils literal notranslate"><span class="pre">notfound</span></code> and <code class="docutils literal notranslate"><span class="pre">forbidden</span></code> ZCML
directives.  Those methods and directives will continue to work for
the foreseeable future, but they are deprecated in the
documentation.</li>
</ul>
</div>
<div class="section" id="id273">
<h3>依存関係<a class="headerlink" href="#id273" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A new install-time dependency on the <code class="docutils literal notranslate"><span class="pre">venusian</span></code> distribution was
added.</li>
<li>A new install-time dependency on the <code class="docutils literal notranslate"><span class="pre">translationstring</span></code>
distribution was added.</li>
<li>Chameleon 1.2.3 or better is now required (internationalization and
per-template debug settings).</li>
</ul>
</div>
<div class="section" id="id274">
<h3>内部<a class="headerlink" href="#id274" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>View registrations and lookups are now done with three &quot;requires&quot;
arguments instead of two to accomodate orthogonality of exception
views.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IForbiddenView</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INotFoundView</span></code> interfaces were removed;
they weren't APIs and they became vestigial with the addition of
exception views.</li>
<li>Remove <code class="docutils literal notranslate"><span class="pre">repoze.bfg.compat.pkgutil_26.py</span></code> and import alias
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.compat.walk_packages</span></code>.  These were only required by
internal scanning machinery; Venusian replaced the internal scanning
machinery, so these are no longer required.</li>
</ul>
</div>
<div class="section" id="id275">
<h3>ドキュメンテーション<a class="headerlink" href="#id275" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Exception view documentation was added to the <code class="docutils literal notranslate"><span class="pre">Hooks</span></code> narrative
chapter.</li>
<li>A new narrative chapter entitled <code class="docutils literal notranslate"><span class="pre">Internationalization</span> <span class="pre">and</span>
<span class="pre">Localization</span></code> was added.</li>
<li>The &quot;Environment Variables and <code class="docutils literal notranslate"><span class="pre">ini</span></code> File Settings&quot; chapter was
changed: documentation about the <code class="docutils literal notranslate"><span class="pre">default_locale_name</span></code> setting was
added.</li>
<li>A new API chapter for the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.i18n</span></code> module was added.</li>
<li>Documentation for the new <code class="docutils literal notranslate"><span class="pre">translationdir</span></code> and
<code class="docutils literal notranslate"><span class="pre">localenegotiator</span></code> ZCML directives were added.</li>
<li>A section was added to the Templates chapter entitled &quot;Nicer
Exceptions in Templates&quot; describing the result of setting
<code class="docutils literal notranslate"><span class="pre">debug_templates</span> <span class="pre">=</span> <span class="pre">true</span></code>.</li>
</ul>
</div>
<div class="section" id="id276">
<h3>ペースターテンプレート<a class="headerlink" href="#id276" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>All paster templates now create a <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> which includes
commands related to nose testing and Babel message catalog
extraction/compilation.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">default_locale_name</span> <span class="pre">=</span> <span class="pre">en</span></code> setting was added to each existing paster
template.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">debug_templates</span> <span class="pre">=</span> <span class="pre">true</span></code> setting was added to each existing
paster template.</li>
</ul>
</div>
<div class="section" id="licensing">
<h3>Licensing<a class="headerlink" href="#licensing" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The Edgewall (BSD) license was added to the LICENSES.txt file, as
some code in the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.i18n</span></code> derives from Babel source.</li>
</ul>
</div>
</div>
<div class="section" id="id277">
<h2>1.2 (2010-02-10)<a class="headerlink" href="#id277" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>No changes from 1.2b6.</li>
</ul>
</div>
<div class="section" id="b6-2010-02-06">
<h2>1.2b6 (2010-02-06)<a class="headerlink" href="#b6-2010-02-06" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id278">
<h3>後方の非互換性<a class="headerlink" href="#id278" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove magical feature of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code> which
prepended a fully-expanded urldispatch route URL before a the
model's path if it was noticed that the request had matched a route.
This feature was ill-conceived, and didn't work in all scenarios.</li>
</ul>
</div>
<div class="section" id="id279">
<h3>バグの修正<a class="headerlink" href="#id279" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>More correct conversion of provided <code class="docutils literal notranslate"><span class="pre">renderer</span></code> values to resource
specification values (internal).</li>
</ul>
</div>
</div>
<div class="section" id="b5-2010-02-04">
<h2>1.2b5 (2010-02-04)<a class="headerlink" href="#b5-2010-02-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id280">
<h3>バグの修正<a class="headerlink" href="#id280" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>1.2b4 introduced a bug whereby views added via a route configuration
that named a view callable and also a <code class="docutils literal notranslate"><span class="pre">view_attr</span></code> became broken.
Symptom: <code class="docutils literal notranslate"><span class="pre">MyViewClass</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">callable</span></code> or the <code class="docutils literal notranslate"><span class="pre">__call__</span></code> of a
class was being called instead of the method named via
<code class="docutils literal notranslate"><span class="pre">view_attr</span></code>.</li>
<li>Fix a bug whereby a <code class="docutils literal notranslate"><span class="pre">renderer</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code>
decorator that provided a package-relative template filename might
not have been resolved properly.  Symptom: inappropriate <code class="docutils literal notranslate"><span class="pre">Missing</span>
<span class="pre">template</span> <span class="pre">resource</span></code> errors.</li>
</ul>
</div>
</div>
<div class="section" id="b4-2010-02-03">
<h2>1.2b4 (2010-02-03)<a class="headerlink" href="#b4-2010-02-03" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id281">
<h3>ドキュメンテーション<a class="headerlink" href="#id281" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Update GAE tutorial to use Chameleon instead of Jinja2 (now that
it's possible).</li>
</ul>
</div>
<div class="section" id="id282">
<h3>バグの修正<a class="headerlink" href="#id282" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Ensure that <code class="docutils literal notranslate"><span class="pre">secure</span></code> flag for AuthTktAuthenticationPolicy
constructor does what it's documented to do (merge Daniel Holth's
fancy-cookies-2 branch).</li>
</ul>
</div>
<div class="section" id="id283">
<h3>特徴<a class="headerlink" href="#id283" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">path</span></code> and <code class="docutils literal notranslate"><span class="pre">http_only</span></code> options to
AuthTktAuthenticationPolicy constructor (merge Daniel Holth's
fancy-cookies-2 branch).</li>
</ul>
</div>
<div class="section" id="id284">
<h3>後方の非互換性<a class="headerlink" href="#id284" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove <code class="docutils literal notranslate"><span class="pre">view_header</span></code>, <code class="docutils literal notranslate"><span class="pre">view_accept</span></code>, <code class="docutils literal notranslate"><span class="pre">view_xhr</span></code>,
<code class="docutils literal notranslate"><span class="pre">view_path_info</span></code>, <code class="docutils literal notranslate"><span class="pre">view_request_method</span></code>, <code class="docutils literal notranslate"><span class="pre">view_request_param</span></code>,
and <code class="docutils literal notranslate"><span class="pre">view_containment</span></code> predicate arguments from the
<code class="docutils literal notranslate"><span class="pre">Configurator.add_route</span></code> argument list.  These arguments were
speculative.  If you need the features exposed by these arguments,
add a view associated with a route using the <code class="docutils literal notranslate"><span class="pre">route_name</span></code> argument
to the <code class="docutils literal notranslate"><span class="pre">add_view</span></code> method instead.</li>
<li>Remove <code class="docutils literal notranslate"><span class="pre">view_header</span></code>, <code class="docutils literal notranslate"><span class="pre">view_accept</span></code>, <code class="docutils literal notranslate"><span class="pre">view_xhr</span></code>,
<code class="docutils literal notranslate"><span class="pre">view_path_info</span></code>, <code class="docutils literal notranslate"><span class="pre">view_request_method</span></code>, <code class="docutils literal notranslate"><span class="pre">view_request_param</span></code>,
and <code class="docutils literal notranslate"><span class="pre">view_containment</span></code> predicate arguments from the <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML
directive attribute set.  These attributes were speculative.  If you
need the features exposed by these attributes, add a view associated
with a route using the <code class="docutils literal notranslate"><span class="pre">route_name</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML
directive instead.</li>
</ul>
</div>
<div class="section" id="id285">
<h3>依存関係<a class="headerlink" href="#id285" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove dependency on <code class="docutils literal notranslate"><span class="pre">sourcecodegen</span></code> (not depended upon by
Chameleon 1.1.1+).</li>
</ul>
</div>
</div>
<div class="section" id="b3-2010-01-24">
<h2>1.2b3 (2010-01-24)<a class="headerlink" href="#b3-2010-01-24" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id286">
<h3>バグの修正<a class="headerlink" href="#id286" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When &quot;hybrid mode&quot; (both traversal and urldispatch) is in use,
default to finding route-related views even if a non-route-related
view registration has been made with a more specific context.  The
default used to be to find views with a more specific context first.
Use the new <code class="docutils literal notranslate"><span class="pre">use_global_views</span></code> argument to the route definition to
get back the older behavior.</li>
</ul>
</div>
<div class="section" id="id287">
<h3>特徴<a class="headerlink" href="#id287" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">use_global_views</span></code> argument to <code class="docutils literal notranslate"><span class="pre">add_route</span></code> method of
Configurator.  When this argument is true, views registered for <em>no</em>
route will be found if no more specific view related to the route is
found.</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">use_global_views</span></code> attribute to ZCML <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> directive
(see above).</li>
</ul>
</div>
<div class="section" id="id288">
<h3>内部<a class="headerlink" href="#id288" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When registering a view, register the view adapter with the
&quot;requires&quot; interfaces as <code class="docutils literal notranslate"><span class="pre">(request_type,</span> <span class="pre">context_type)</span></code> rather
than <code class="docutils literal notranslate"><span class="pre">(context_type,</span> <span class="pre">request_type)</span></code>.  This provides for saner
lookup, because the registration will always be made with a specific
request interface, but registration may not be made with a specific
context interface.  In general, when creating multiadapters, you
want to order the requires interfaces so that the elements which
are more likely to be registered using specific interfaces are
ordered before those which are less likely.</li>
</ul>
</div>
</div>
<div class="section" id="b2-2010-01-21">
<h2>1.2b2 (2010-01-21)<a class="headerlink" href="#b2-2010-01-21" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id289">
<h3>バグの修正<a class="headerlink" href="#id289" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> is passed an instance of
<code class="docutils literal notranslate"><span class="pre">zope.component.registry.Components</span></code> as a <code class="docutils literal notranslate"><span class="pre">registry</span></code> constructor
argument, fix the instance up to have the attributes we expect of an
instance of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.Registry</span></code> when <code class="docutils literal notranslate"><span class="pre">setup_registry</span></code>
is called.  This makes it possible to use the global Zope component
registry as a BFG application registry.</li>
<li>When WebOb 0.9.7.1 was used, a deprecation warning was issued for
the class attribute named <code class="docutils literal notranslate"><span class="pre">charset</span></code> within
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.Request</span></code>.  BFG now <em>requires</em> WebOb &gt;= 0.9.7,
and code was added so that this deprecation warning has disappeared.</li>
<li>Fix a view lookup ordering bug whereby a view with a larger number
of predicates registered first (literally first, not &quot;earlier&quot;) for
a triad would lose during view lookup to one registered with fewer.</li>
<li>Make sure views with exactly N custom predicates are always called
before views with exactly N non-custom predicates given all else is
equal in the view configuration.</li>
</ul>
</div>
<div class="section" id="id290">
<h3>ドキュメンテーション<a class="headerlink" href="#id290" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Change renderings of ZCML directive documentation.</li>
<li>Add a narrative documentation chapter: &quot;Using the Zope Component
Architecture in repoze.bfg&quot;.</li>
</ul>
</div>
<div class="section" id="id291">
<h3>依存関係<a class="headerlink" href="#id291" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Require WebOb &gt;= 0.9.7</li>
</ul>
</div>
</div>
<div class="section" id="b1-2010-01-18">
<h2>1.2b1 (2010-01-18)<a class="headerlink" href="#b1-2010-01-18" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id292">
<h3>バグの修正<a class="headerlink" href="#id292" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>In <code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code>, <code class="docutils literal notranslate"><span class="pre">bfg_alchemy</span></code> paster templates and the
<code class="docutils literal notranslate"><span class="pre">bfgwiki2</span></code> tutorial, clean up the SQLAlchemy connection by
registering a <code class="docutils literal notranslate"><span class="pre">repoze.tm.after_end</span></code> callback instead of relying on
a <code class="docutils literal notranslate"><span class="pre">__del__</span></code> method of a <code class="docutils literal notranslate"><span class="pre">Cleanup</span></code> class added to the WSGI
environment.  The <code class="docutils literal notranslate"><span class="pre">__del__</span></code> strategy was fragile and caused
problems in the wild.  Thanks to Daniel Holth for testing.</li>
</ul>
</div>
<div class="section" id="id293">
<h3>特徴<a class="headerlink" href="#id293" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Read logging configuration from PasteDeploy config file <code class="docutils literal notranslate"><span class="pre">loggers</span></code>
section (and related) when <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">bfgshell</span></code> is invoked.</li>
</ul>
</div>
<div class="section" id="id294">
<h3>ドキュメンテーション<a class="headerlink" href="#id294" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Major rework in preparation for book publication.</li>
</ul>
</div>
</div>
<div class="section" id="a11-2010-01-05">
<h2>1.2a11 (2010-01-05)<a class="headerlink" href="#a11-2010-01-05" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id295">
<h3>バグの修正<a class="headerlink" href="#id295" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Make <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">bfgshell</span></code> and <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">create</span> <span class="pre">-t</span> <span class="pre">bfg_xxx</span></code> work on
Jython (fix minor incompatibility with treatment of <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> at
the class level).</li>
<li>Updated dependency on <code class="docutils literal notranslate"><span class="pre">WebOb</span></code> to require a version which supports
features now used in tests.</li>
</ul>
</div>
<div class="section" id="id296">
<h3>特徴<a class="headerlink" href="#id296" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Jython compatibility (at least when repoze.bfg.jinja2 is used as the
templating engine; Chameleon does not work under Jython).</li>
<li>Show the derived abspath of template resource specifications in the
traceback when a renderer template cannot be found.</li>
<li>Show the original traceback when a Chameleon template cannot be
rendered due to a platform incompatibility.</li>
</ul>
</div>
</div>
<div class="section" id="a10-2010-01-04">
<h2>1.2a10 (2010-01-04)<a class="headerlink" href="#a10-2010-01-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id297">
<h3>特徴<a class="headerlink" href="#id297" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">Configurator.add_view</span></code> method now accepts an argument named
<code class="docutils literal notranslate"><span class="pre">context</span></code>.  This is an alias for the older argument named
<code class="docutils literal notranslate"><span class="pre">for_</span></code>; it is preferred over <code class="docutils literal notranslate"><span class="pre">for_</span></code>, but <code class="docutils literal notranslate"><span class="pre">for_</span></code> will continue
to be supported &quot;forever&quot;.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directive now accepts an attribute named
<code class="docutils literal notranslate"><span class="pre">context</span></code>.  This is an alias for the older attribute named
<code class="docutils literal notranslate"><span class="pre">for</span></code>; it is preferred over <code class="docutils literal notranslate"><span class="pre">for</span></code>, but <code class="docutils literal notranslate"><span class="pre">for</span></code> will continue to
be supported &quot;forever&quot;.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Configurator.add_route</span></code> method now accepts an argument named
<code class="docutils literal notranslate"><span class="pre">view_context</span></code>.  This is an alias for the older argument named
<code class="docutils literal notranslate"><span class="pre">view_for</span></code>; it is preferred over <code class="docutils literal notranslate"><span class="pre">view_for</span></code>, but <code class="docutils literal notranslate"><span class="pre">view_for</span></code>
will continue to be supported &quot;forever&quot;.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive now accepts an attribute named
<code class="docutils literal notranslate"><span class="pre">view_context</span></code>.  This is an alias for the older attribute named
<code class="docutils literal notranslate"><span class="pre">view_for</span></code>; it is preferred over <code class="docutils literal notranslate"><span class="pre">view_for</span></code>, but <code class="docutils literal notranslate"><span class="pre">view_for</span></code>
will continue to be supported &quot;forever&quot;.</li>
</ul>
</div>
<div class="section" id="documentation-and-paster-templates">
<h3>Documentation and Paster Templates<a class="headerlink" href="#documentation-and-paster-templates" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>LaTeX rendering tweaks.</li>
<li>All uses of the <code class="docutils literal notranslate"><span class="pre">Configurator.add_view</span></code> method that used its
<code class="docutils literal notranslate"><span class="pre">for_</span></code> argument now use the <code class="docutils literal notranslate"><span class="pre">context</span></code> argument instead.</li>
<li>All uses of the <code class="docutils literal notranslate"><span class="pre">Configurator.add_route</span></code> method that used its
<code class="docutils literal notranslate"><span class="pre">view_for</span></code> argument now use the <code class="docutils literal notranslate"><span class="pre">view_context</span></code> argument instead.</li>
<li>All uses of the <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directive that used its <code class="docutils literal notranslate"><span class="pre">for</span></code>
attribute now use the <code class="docutils literal notranslate"><span class="pre">context</span></code> attribute instead.</li>
<li>All uses of the <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive that used its <code class="docutils literal notranslate"><span class="pre">view_for</span></code>
attribute now use the <code class="docutils literal notranslate"><span class="pre">view_context</span></code> attribute instead.</li>
<li>Add a (minimal) tutorial dealing with use of <code class="docutils literal notranslate"><span class="pre">repoze.catalog</span></code> in a
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application.</li>
</ul>
</div>
<div class="section" id="documentation-licensing">
<h3>Documentation Licensing<a class="headerlink" href="#documentation-licensing" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Loosen the documentation licensing to allow derivative works: it is
now offered under the <a class="reference external" href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/">Creative Commons
Attribution-Noncommercial-Share Alike 3.0 United States License</a>.  This is
only a documentation licensing change; the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> software
continues to be offered under the Repoze Public License at
<a class="reference external" href="http://repoze.org/license.html">http://repoze.org/license.html</a> (BSD-like).</li>
</ul>
</div>
</div>
<div class="section" id="a9-2009-12-27">
<h2>1.2a9 (2009-12-27)<a class="headerlink" href="#a9-2009-12-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id298">
<h3>Documentation Licensing<a class="headerlink" href="#id298" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <em>documentation</em> (the result of <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">&lt;html|latex|htmlhelp&gt;</span></code>
within the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory) in this release is now offered under
the Creative Commons Attribution-Noncommercial-No Derivative Works
3.0 United States License as described by
<a class="reference external" href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/">http://creativecommons.org/licenses/by-nc-nd/3.0/us/</a> .  This is only
a licensing change for the documentation; the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>
software continues to be offered under the Repoze Public License
at <a class="reference external" href="http://repoze.org/license.html">http://repoze.org/license.html</a> (BSD-like).</li>
</ul>
</div>
<div class="section" id="id299">
<h3>ドキュメンテーション<a class="headerlink" href="#id299" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added manual index entries to generated index.</li>
<li>Document the previously existing (but non-API)
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.setup_registry</span></code> method as
an official API of a <code class="docutils literal notranslate"><span class="pre">Configurator</span></code>.</li>
<li>Fix syntax errors in various documentation code blocks.</li>
<li>Created new top-level documentation section: &quot;ZCML Directives&quot;.
This section contains detailed ZCML directive information, some of
which was removed from various narrative chapters.</li>
<li>The LaTeX rendering of the documentation has been improved.</li>
<li>Added a &quot;Fore-Matter&quot; section with author, copyright, and licensing
information.</li>
</ul>
</div>
</div>
<div class="section" id="a8-2009-12-24">
<h2>1.2a8 (2009-12-24)<a class="headerlink" href="#a8-2009-12-24" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id300">
<h3>特徴<a class="headerlink" href="#id300" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">**kw</span></code> arg to the <code class="docutils literal notranslate"><span class="pre">Configurator.add_settings</span></code> API.</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">hook_zca</span></code> and <code class="docutils literal notranslate"><span class="pre">unhook_zca</span></code> methods to the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code>
API.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> method now returns a
<code class="docutils literal notranslate"><span class="pre">Configurator</span></code> instance which can be used to do further
configuration during unit tests.</li>
</ul>
</div>
<div class="section" id="id301">
<h3>バグの修正<a class="headerlink" href="#id301" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">json</span></code> renderer failed to set the response content type to
<code class="docutils literal notranslate"><span class="pre">application/json</span></code>.  It now does, by setting
<code class="docutils literal notranslate"><span class="pre">request.response_content_type</span></code> unless this attribute is already
set.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">string</span></code> renderer failed to set the response content type to
<code class="docutils literal notranslate"><span class="pre">text/plain</span></code>.  It now does, by setting
<code class="docutils literal notranslate"><span class="pre">request.response_content_type</span></code> unless this attribute is already
set.</li>
</ul>
</div>
<div class="section" id="id302">
<h3>ドキュメンテーション<a class="headerlink" href="#id302" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>General documentation improvements by using better Sphinx roles such
as &quot;class&quot;, &quot;func&quot;, &quot;meth&quot;, and so on.  This means that there are
many more hyperlinks pointing to API documentation for API
definitions in all narrative, tutorial, and API documentation
elements.</li>
<li>Added a description of imperative configuration in various places
which only described ZCML configuration.</li>
<li>A syntactical refreshing of various tutorials.</li>
<li>Added the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.authentication</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.authorization</span></code>, and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code> modules
to API documentation.</li>
</ul>
</div>
<div class="section" id="id303">
<h3>廃止<a class="headerlink" href="#id303" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerRoutesMapper</span></code> API (added in an
early 1.2 alpha) was deprecated.  Its import now generates a
deprecation warning.</li>
</ul>
</div>
</div>
<div class="section" id="a7-2009-12-20">
<h2>1.2a7 (2009-12-20)<a class="headerlink" href="#a7-2009-12-20" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id304">
<h3>特徴<a class="headerlink" href="#id304" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add four new testing-related APIs to the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code> class:
<code class="docutils literal notranslate"><span class="pre">testing_securitypolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">testing_models</span></code>,
<code class="docutils literal notranslate"><span class="pre">testing_add_subscriber</span></code>, and <code class="docutils literal notranslate"><span class="pre">testing_add_template</span></code>.  These
were added in order to provide more direct access to the
functionality of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> APIs named
<code class="docutils literal notranslate"><span class="pre">registerDummySecurityPolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">registerModels</span></code>,
<code class="docutils literal notranslate"><span class="pre">registerEventListener</span></code>, and <code class="docutils literal notranslate"><span class="pre">registerTemplateRenderer</span></code> when a
configurator is used.  The <code class="docutils literal notranslate"><span class="pre">testing</span></code> APIs named are nominally
deprecated (although they will likely remain around &quot;forever&quot;, as
they are in heavy use in the wild).</li>
<li>Add a new API to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code>
class: <code class="docutils literal notranslate"><span class="pre">add_settings</span></code>.  This API can be used to add &quot;settings&quot;
(information returned within via the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_settings</span></code> API) after the configurator has
been initially set up.  This is most useful for testing purposes.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">custom_predicates</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code>
<code class="docutils literal notranslate"><span class="pre">add_view</span></code> method, the <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator and the attribute
list of the ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> directive.  If <code class="docutils literal notranslate"><span class="pre">custom_predicates</span></code> is
specified, it must be a sequence of predicate callables (a predicate
callable accepts two arguments: <code class="docutils literal notranslate"><span class="pre">context</span></code> and <code class="docutils literal notranslate"><span class="pre">request</span></code> and
returns <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>).  The associated view callable will
only be invoked if all custom predicates return <code class="docutils literal notranslate"><span class="pre">True</span></code>.  Use one
or more custom predicates when no existing predefined predicate is
useful.  Predefined and custom predicates can be mixed freely.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">custom_predicates</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">Configurator</span></code>
<code class="docutils literal notranslate"><span class="pre">add_route</span></code> and the attribute list of the ZCML <code class="docutils literal notranslate"><span class="pre">route</span></code>
directive.  If <code class="docutils literal notranslate"><span class="pre">custom_predicates</span></code> is specified, it must be a
sequence of predicate callables (a predicate callable accepts two
arguments: <code class="docutils literal notranslate"><span class="pre">context</span></code> and <code class="docutils literal notranslate"><span class="pre">request</span></code> and returns <code class="docutils literal notranslate"><span class="pre">True</span></code> or
<code class="docutils literal notranslate"><span class="pre">False</span></code>).  The associated route will match will only be invoked if
all custom predicates return <code class="docutils literal notranslate"><span class="pre">True</span></code>, else route matching
continues.  Note that the value <code class="docutils literal notranslate"><span class="pre">context</span></code> will always be <code class="docutils literal notranslate"><span class="pre">None</span></code>
when passed to a custom route predicate.  Use one or more custom
predicates when no existing predefined predicate is useful.
Predefined and custom predicates can be mixed freely.</li>
</ul>
</div>
<div class="section" id="id305">
<h3>内部<a class="headerlink" href="#id305" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerTraverser</span></code> function.  This
function was never an API.</li>
</ul>
</div>
<div class="section" id="documenation">
<h3>Documenation<a class="headerlink" href="#documenation" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Doc-deprecated most helper functions in the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code>
module.  These helper functions likely won't be removed any time
soon, nor will they generate a warning any time soon, due to their
heavy use in the wild, but equivalent behavior exists in methods of
a Configurator.</li>
</ul>
</div>
</div>
<div class="section" id="a6-2009-12-18">
<h2>1.2a6 (2009-12-18)<a class="headerlink" href="#a6-2009-12-18" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id306">
<h3>特徴<a class="headerlink" href="#id306" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> object now has two new methods: <code class="docutils literal notranslate"><span class="pre">begin</span></code> and
<code class="docutils literal notranslate"><span class="pre">end</span></code>.  The <code class="docutils literal notranslate"><span class="pre">begin</span></code> method is meant to be called before any
&quot;configuration&quot; begins (e.g. before <code class="docutils literal notranslate"><span class="pre">add_view</span></code>, et. al are
called).  The <code class="docutils literal notranslate"><span class="pre">end</span></code> method is meant to be called after all
&quot;configuration&quot; is complete.</p>
<p>Previously, before there was imperative configuration at all (1.1
and prior), configuration begin and end was invariably implied by
the process of loading a ZCML file.  When a ZCML load happened, the
threadlocal data structure containing the request and registry was
modified before the load, and torn down after the load, making sure
that all framework code that needed <code class="docutils literal notranslate"><span class="pre">get_current_registry</span></code> for the
duration of the ZCML load was satisfied.</p>
<p>Some API methods called during imperative configuration, (such as
<code class="docutils literal notranslate"><span class="pre">Configurator.add_view</span></code> when a renderer is involved) end up for
historical reasons calling <code class="docutils literal notranslate"><span class="pre">get_current_registry</span></code>.  However, in
1.2a5 and below, the Configurator supplied no functionality that
allowed people to make sure that <code class="docutils literal notranslate"><span class="pre">get_current_registry</span></code> returned
the registry implied by the configurator being used.  <code class="docutils literal notranslate"><span class="pre">begin</span></code> now
serves this purpose.  Inversely, <code class="docutils literal notranslate"><span class="pre">end</span></code> pops the thread local
stack, undoing the actions of <code class="docutils literal notranslate"><span class="pre">begin</span></code>.</p>
<p>We make this boundary explicit to reduce the potential for confusion
when the configurator is used in different circumstances (e.g. in
unit tests and app code vs. just in initial app setup).</p>
<p>Existing code written for 1.2a1-1.2a5 which does not call <code class="docutils literal notranslate"><span class="pre">begin</span></code>
or <code class="docutils literal notranslate"><span class="pre">end</span></code> continues to work in the same manner it did before.  It
is however suggested that this code be changed to call <code class="docutils literal notranslate"><span class="pre">begin</span></code> and
<code class="docutils literal notranslate"><span class="pre">end</span></code> to reduce the potential for confusion in the future.</p>
</li>
<li><p class="first">All <code class="docutils literal notranslate"><span class="pre">paster</span></code> templates which generate an application skeleton now
make use of the new <code class="docutils literal notranslate"><span class="pre">begin</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> methods of the
Configurator they use in their respective copies of <code class="docutils literal notranslate"><span class="pre">run.py</span></code> and
<code class="docutils literal notranslate"><span class="pre">tests.py</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id307">
<h3>ドキュメンテーション<a class="headerlink" href="#id307" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>All documentation that makes use of a <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> object to do
application setup and test setup now makes use of the new <code class="docutils literal notranslate"><span class="pre">begin</span></code>
and <code class="docutils literal notranslate"><span class="pre">end</span></code> methods of the configurator.</li>
</ul>
</div>
<div class="section" id="id308">
<h3>バグの修正<a class="headerlink" href="#id308" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code> or
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.Forbidden</span></code> <em>class</em> (as opposed to instance)
was raised as an exception within a root factory (or route root
factory), the exception would not be caught properly by the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.</span></code> Router and it would propagate to up the call stack,
as opposed to rendering the not found view or the forbidden view as
would have been expected.</li>
<li>When Chameleon page or text templates used as renderers were added
imperatively (via <code class="docutils literal notranslate"><span class="pre">Configurator.add_view</span></code> or some derivative),
they too-eagerly attempted to look up the <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code>
setting via <code class="docutils literal notranslate"><span class="pre">get_settings</span></code>, meaning they were always registered in
non-auto-reload-mode (the default).  Each now waits until its
respective <code class="docutils literal notranslate"><span class="pre">template</span></code> attribute is accessed to look up the value.</li>
<li>When a route with the same name as a previously registered route was
added, the old route was not removed from the mapper's routelist.
Symptom: the old registered route would be used (and possibly
matched) during route lookup when it should not have had a chance to
ever be used.</li>
</ul>
</div>
</div>
<div class="section" id="a5-2009-12-10">
<h2>1.2a5 (2009-12-10)<a class="headerlink" href="#a5-2009-12-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id309">
<h3>特徴<a class="headerlink" href="#id309" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code> or
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.Forbidden</span></code> error is raised from within a
custom root factory or the <code class="docutils literal notranslate"><span class="pre">factory</span></code> of a route, the appropriate
response is now sent to the requesting user agent (the result of the
notfound view or the forbidden view, respectively).  When these
errors are raised from within a root factory, the <code class="docutils literal notranslate"><span class="pre">context</span></code> passed
to the notfound or forbidden view will be <code class="docutils literal notranslate"><span class="pre">None</span></code>.  Also, the
request will not be decorated with <code class="docutils literal notranslate"><span class="pre">view_name</span></code>, <code class="docutils literal notranslate"><span class="pre">subpath</span></code>,
<code class="docutils literal notranslate"><span class="pre">context</span></code>, etc. as would normally be the case if traversal had
been allowed to take place.</li>
</ul>
</div>
<div class="section" id="id310">
<h3>内部<a class="headerlink" href="#id310" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The exception class representing the error raised by various methods
of a <code class="docutils literal notranslate"><span class="pre">Configurator</span></code> is now importable as
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.ConfigurationError</span></code>.</li>
</ul>
</div>
<div class="section" id="id311">
<h3>ドキュメンテーション<a class="headerlink" href="#id311" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>General documentation freshening which takes imperative
configuration into account in more places and uses glossary
references more liberally.</li>
<li>Remove explanation of changing the request type in a new request
event subscriber, as other predicates are now usually an easier way
to get this done.</li>
<li>Added &quot;Thread Locals&quot; narrative chapter to documentation, and added
a API chapter documenting the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocals</span></code> module.</li>
<li>Added a &quot;Special Exceptions&quot; section to the &quot;Views&quot; narrative
documentation chapter explaining the effect of raising
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.Forbidden</span></code> from within view code.</li>
</ul>
</div>
<div class="section" id="id312">
<h3>依存関係<a class="headerlink" href="#id312" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A new dependency on the <code class="docutils literal notranslate"><span class="pre">twill</span></code> package was added to the
<code class="docutils literal notranslate"><span class="pre">setup.py</span></code> <code class="docutils literal notranslate"><span class="pre">tests_require</span></code> argument (Twill will only be
downloaded when <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> <code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">test</span></code> or <code class="docutils literal notranslate"><span class="pre">setup.py</span>
<span class="pre">nosetests</span></code> is invoked).</li>
</ul>
</div>
</div>
<div class="section" id="a4-2009-12-07">
<h2>1.2a4 (2009-12-07)<a class="headerlink" href="#a4-2009-12-07" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id313">
<h3>特徴<a class="headerlink" href="#id313" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.DummyModel</span></code> now accepts a new constructor
keyword argument: <code class="docutils literal notranslate"><span class="pre">__provides__</span></code>.  If this constructor argument is
provided, it should be an interface or a tuple of interfaces.  The
resulting model will then provide these interfaces (they will be
attached to the constructed model via
<code class="docutils literal notranslate"><span class="pre">zope.interface.alsoProvides</span></code>).</li>
</ul>
</div>
<div class="section" id="id314">
<h3>バグの修正<a class="headerlink" href="#id314" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Operation on GAE was broken, presumably because the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration</span></code> module began to attempt to import the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code> and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_text</span></code>
modules, and these cannot be used on non-CPython platforms.  It now
tolerates startup time import failures for these modules, and only
raise an import error when a template from one of these packages is
actually used.</li>
</ul>
</div>
</div>
<div class="section" id="a3-2009-12-02">
<h2>1.2a3 (2009-12-02)<a class="headerlink" href="#a3-2009-12-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id315">
<h3>バグの修正<a class="headerlink" href="#id315" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> function inappropriately passed
along <code class="docutils literal notranslate"><span class="pre">_query</span></code> and/or <code class="docutils literal notranslate"><span class="pre">_anchor</span></code> arguments to the
<code class="docutils literal notranslate"><span class="pre">mapper.generate</span></code> function, resulting in blowups.</li>
<li>When two views were registered with differering <code class="docutils literal notranslate"><span class="pre">for</span></code> interfaces
or classes, and the <code class="docutils literal notranslate"><span class="pre">for</span></code> of first view registered was a
superclass of the second, the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> view machinery would
incorrectly associate the two views with the same &quot;multiview&quot;.
Multiviews are meant to be collections of views that have <em>exactly</em>
the same for/request/viewname values, without taking inheritance
into account.  Symptom: wrong view callable found even when you had
correctly specified a <code class="docutils literal notranslate"><span class="pre">for_</span></code> interface/class during view
configuration for one or both view configurations.</li>
</ul>
</div>
<div class="section" id="id316">
<h3>後方の非互換性<a class="headerlink" href="#id316" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.templating</span></code> module has been removed; it had been
deprecated in 1.1 and never actually had any APIs in it.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2009-11-29">
<h2>1.2a2 (2009-11-29)<a class="headerlink" href="#a2-2009-11-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id317">
<h3>バグの修正<a class="headerlink" href="#id317" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The long description of this package (as shown on PyPI) was not
valid reStructuredText, and so was not renderable.</li>
<li>Trying to use an HTTP method name string such as <code class="docutils literal notranslate"><span class="pre">GET</span></code> as a
<code class="docutils literal notranslate"><span class="pre">request_type</span></code> predicate argument caused a startup time failure
when it was encountered in imperative configuration or in a
decorator (symptom: <code class="docutils literal notranslate"><span class="pre">Type</span> <span class="pre">Error:</span> <span class="pre">Required</span> <span class="pre">specification</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">a</span>
<span class="pre">specification</span></code>).  This now works again, although <code class="docutils literal notranslate"><span class="pre">request_method</span></code>
is now the preferred predicate argument for associating a view
configuration with an HTTP request method.</li>
</ul>
</div>
<div class="section" id="id318">
<h3>ドキュメンテーション<a class="headerlink" href="#id318" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fixed &quot;Startup&quot; narrative documentation chapter; it was explaining
&quot;the old way&quot; an application constructor worked.</li>
</ul>
</div>
</div>
<div class="section" id="a1-2009-11-28">
<h2>1.2a1 (2009-11-28)<a class="headerlink" href="#a1-2009-11-28" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id319">
<h3>特徴<a class="headerlink" href="#id319" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">An imperative configuration mode.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application can now begin its life as a single
Python file.  Later, the application might evolve into a set of
Python files in a package.  Even later, it might start making use of
other configuration features, such as <code class="docutils literal notranslate"><span class="pre">ZCML</span></code>.  But neither the use
of a package nor the use of non-imperative configuration is required
to create a simple <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application any longer.</p>
<p>Imperative configuration makes <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> competetive with
&quot;microframeworks&quot; such as <a class="reference external" href="http://bottle.paws.de/">Bottle</a> and
<a class="reference external" href="http://www.tornadoweb.org/">Tornado</a>.  <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> has a good
deal of functionality that most microframeworks lack, so this is
hopefully a &quot;best of both worlds&quot; feature.</p>
<p>The simplest possible <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application is now:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">webob</span> <span class="k">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">wsgiref</span> <span class="k">import</span> <span class="n">simple_server</span>
<span class="kn">from</span> <span class="nn">repoze.bfg.configuration</span> <span class="k">import</span> <span class="n">Configurator</span>

<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
    <span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">hello_world</span><span class="p">)</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">make_wsgi_app</span><span class="p">()</span>
    <span class="n">simple_server</span><span class="o">.</span><span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">8080</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">A new class now exists: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code>.
This class forms the basis for sharing machinery between
&quot;imperatively&quot; configured applications and traditional
declaratively-configured applications.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> function now accepts three extra
optional keyword arguments: <code class="docutils literal notranslate"><span class="pre">registry</span></code>, <code class="docutils literal notranslate"><span class="pre">request</span></code> and
<code class="docutils literal notranslate"><span class="pre">hook_zca</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">registry</span></code> argument is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the argument will be
treated as the registry that is set as the &quot;current registry&quot; (it
will be returned by <code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.get_current_registry</span></code>)
for the duration of the test.  If the <code class="docutils literal notranslate"><span class="pre">registry</span></code> argument is
<code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), a new registry is created and used for the
duration of the test.</p>
<p>The value of the <code class="docutils literal notranslate"><span class="pre">request</span></code> argument is used as the &quot;current
request&quot; (it will be returned by
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.get_current_request</span></code>) for the duration of
the test; it defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">hook_zca</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> (the default), the
<code class="docutils literal notranslate"><span class="pre">zope.component.getSiteManager</span></code> function will be hooked with a
function that returns the value of <code class="docutils literal notranslate"><span class="pre">registry</span></code> (or the
default-created registry if <code class="docutils literal notranslate"><span class="pre">registry</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>) instead of the
registry returned by <code class="docutils literal notranslate"><span class="pre">zope.component.getGlobalSiteManager</span></code>,
causing the Zope Component Architecture API (<code class="docutils literal notranslate"><span class="pre">getSiteManager</span></code>,
<code class="docutils literal notranslate"><span class="pre">getAdapter</span></code>, <code class="docutils literal notranslate"><span class="pre">getUtility</span></code>, and so on) to use the testing
registry instead of the global ZCA registry.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.tearDown</span></code> function now accepts an
<code class="docutils literal notranslate"><span class="pre">unhook_zca</span></code> argument.  If this argument is <code class="docutils literal notranslate"><span class="pre">True</span></code> (the
default), <code class="docutils literal notranslate"><span class="pre">zope.component.getSiteManager.reset()</span></code> will be called.
This will cause the result of the <code class="docutils literal notranslate"><span class="pre">zope.component.getSiteManager</span></code>
function to be the global ZCA registry (the result of
<code class="docutils literal notranslate"><span class="pre">zope.component.getGlobalSiteManager</span></code>) once again.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">run.py</span></code> module in various <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> <code class="docutils literal notranslate"><span class="pre">paster</span></code> templates
now use a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code> class instead of
the (now-legacy) <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> function to produce
a WSGI application.</p>
</li>
</ul>
</div>
<div class="section" id="id320">
<h3>ドキュメンテーション<a class="headerlink" href="#id320" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The documentation now uses the &quot;request-only&quot; view calling
convention in most examples (as opposed to the <code class="docutils literal notranslate"><span class="pre">context,</span> <span class="pre">request</span></code>
convention).  This is a documentation-only change; the <code class="docutils literal notranslate"><span class="pre">context,</span>
<span class="pre">request</span></code> convention is also supported and documented, and will be
&quot;forever&quot;.</li>
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration</span></code> API documentation has been added.</li>
<li>A narrative documentation chapter entitled &quot;Creating Your First
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> Application&quot; has been added.  This chapter details
usage of the new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code> class,
and demonstrates a simplified &quot;imperative-mode&quot; configuration; doing
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application configuration imperatively was previously
much more difficult.</li>
<li>A narrative documentation chapter entitled &quot;Configuration,
Decorations and Code Scanning&quot; explaining ZCML- vs. imperative-
vs. decorator-based configuration equivalence.</li>
<li>The &quot;ZCML Hooks&quot; chapter has been renamed to &quot;Hooks&quot;; it documents
how to override hooks now via imperative configuration and ZCML.</li>
<li>The explanation about how to supply an alternate &quot;response factory&quot;
has been removed from the &quot;Hooks&quot; chapter.  This feature may be
removed in a later release (it still works now, it's just not
documented).</li>
<li>Add a section entitled &quot;Test Set Up and Tear Down&quot; to the
unittesting chapter.</li>
</ul>
</div>
<div class="section" id="id321">
<h3>バグの修正<a class="headerlink" href="#id321" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The ACL authorization policy debugging output when
<code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code> console debugging output was turned on
wasn't as clear as it could have been when a view execution was
denied due to an authorization failure resulting from the set of
principals passed never having matched any ACE in any ACL in the
lineage.  Now in this case, we report <code class="docutils literal notranslate"><span class="pre">&lt;default</span> <span class="pre">deny&gt;</span></code> as the ACE
value and either the root ACL or <code class="docutils literal notranslate"><span class="pre">&lt;No</span> <span class="pre">ACL</span> <span class="pre">found</span> <span class="pre">on</span> <span class="pre">any</span> <span class="pre">object</span> <span class="pre">in</span>
<span class="pre">model</span> <span class="pre">lineage&gt;</span></code> if no ACL was found.</li>
<li>When two views were registered with the same <code class="docutils literal notranslate"><span class="pre">accept</span></code> argument,
but were otherwise registered with the same arguments, if a request
entered the application which had an <code class="docutils literal notranslate"><span class="pre">Accept</span></code> header that accepted
<em>either</em> of the media types defined by the set of views registered
with predicates that otherwise matched, a more or less &quot;random&quot; one
view would &quot;win&quot;.  Now, we try harder to use the view callable
associated with the view configuration that has the most specific
<code class="docutils literal notranslate"><span class="pre">accept</span></code> argument.  Thanks to Alberto Valverde for an initial
patch.</li>
</ul>
</div>
<div class="section" id="id322">
<h3>内部<a class="headerlink" href="#id322" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The routes mapper is no longer a root factory wrapper.  It is now
consulted directly by the router.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.make_registry</span></code> callable has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.map_view</span></code> callable has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.owrap_view</span></code> callable has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.predicate_wrap</span></code> callable has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.secure_view</span></code> callable has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.authdebug_view</span></code> callable has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.renderer_from_name</span></code> callable has been
removed.  Use <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.renderer_from_name</span></code>
instead (still not an API, however).</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.derive_view</span></code> callable has been removed.  Use
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator.derive_view</span></code> instead (still
not an API, however).</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_options</span></code> callable has been removed.
Its job has been subsumed by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.Settings</span></code>
class constructor.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.requestonly</span></code> function has been moved to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.requestonly</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.rendered_response</span></code> function has been moved to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.rendered_response</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.decorate_view</span></code> function has been moved to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.decorate_view</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.MultiView</span></code> class has been moved to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.MultiView</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.zcml.Uncacheable</span></code> class has been removed.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.resource.resource_spec</span></code> function has been removed.</p>
</li>
<li><p class="first">All ZCML directives which deal with attributes which are paths now
use the <code class="docutils literal notranslate"><span class="pre">path</span></code> method of the ZCML context to resolve a relative
name to an absolute one (imperative configuration requirement).</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.scripting.get_root</span></code> API now uses a 'real' WebOb
request rather than a FakeRequest when it sets up the request as a
threadlocal.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.traverse</span></code> API now uses a 'real' WebOb
request rather than a FakeRequest when it calls the traverser.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.FakeRequest</span></code> class has been removed.</p>
</li>
<li><p class="first">Most uses of the ZCA threadlocal API (the <code class="docutils literal notranslate"><span class="pre">getSiteManager</span></code>,
<code class="docutils literal notranslate"><span class="pre">getUtility</span></code>, <code class="docutils literal notranslate"><span class="pre">getAdapter</span></code>, <code class="docutils literal notranslate"><span class="pre">getMultiAdapter</span></code> threadlocal API)
have been removed from the core.  Instead, when a threadlocal is
necessary, the core uses the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.get_current_registry</span></code> API to obtain the
registry.</p>
</li>
<li><p class="first">The internal ILogger utility named <code class="docutils literal notranslate"><span class="pre">repoze.bfg.debug</span></code> is now just
an IDebugLogger unnamed utility.  A named utility with the old name
is registered for b/w compat.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateRendererFactory</span></code> interface was
removed; it has become unused.</p>
</li>
<li><p class="first">Instead of depending on the <code class="docutils literal notranslate"><span class="pre">martian</span></code> package to do code scanning,
we now just use our own scanning routines.</p>
</li>
<li><p class="first">We now no longer have a dependency on <code class="docutils literal notranslate"><span class="pre">repoze.zcml</span></code> package;
instead, the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> package includes implementations of the
<code class="docutils literal notranslate"><span class="pre">adapter</span></code>, <code class="docutils literal notranslate"><span class="pre">subscriber</span></code> and <code class="docutils literal notranslate"><span class="pre">utility</span></code> directives.</p>
</li>
<li><p class="first">Relating to the following functions:</p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.render_view</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.render_view_to_iterable</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.render_view_to_response</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.append_slash_notfound_view</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.default_notfound_view</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.default_forbidden_view</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.rendered_response</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.has_permission</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.authenticated_userid</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.effective_principals</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.view_execution_permitted</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.remember</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.forget</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.static_url</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.virtual_root</span></code></p>
<p>Each of these functions now expects to be called with a request
object that has a <code class="docutils literal notranslate"><span class="pre">registry</span></code> attribute which represents the
current <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> registry.  They fall back to obtaining the
registry from the threadlocal API.</p>
</li>
</ul>
</div>
<div class="section" id="backwards-incompatibilites">
<h3>Backwards Incompatibilites<a class="headerlink" href="#backwards-incompatibilites" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Unit tests which use <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> for the
purpose of isolating tests from one another may now begin to fail
due to lack of isolation between tests.</p>
<p>Here's why: In repoze.bfg 1.1 and prior, the registry returned by
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.get_current_registry</span></code> when no other
registry had been pushed on to the threadlocal stack was the
<code class="docutils literal notranslate"><span class="pre">zope.component.globalregistry.base</span></code> global registry (aka the
result of <code class="docutils literal notranslate"><span class="pre">zope.component.getGlobalSiteManager()</span></code>).  In repoze.bfg
1.2+, however, the registry returned in this situation is the new
module-scope <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.global_registry</span></code> object.  The
<code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> function clears the
<code class="docutils literal notranslate"><span class="pre">zope.component.globalregistry.base</span></code> global registry
unconditionally.  However, it does not know about the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.global_registry</span></code> object, so it does not clear
it.</p>
<p>If you use the <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> function in the
<code class="docutils literal notranslate"><span class="pre">setUp</span></code> of test cases in your unit test suite instead of using the
(more correct as of 1.1) <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code>, you will need
to replace all calls to <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> with a call
to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code>.</p>
<p>If replacing all calls to <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> with a
call to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> is infeasible, you can put this
bit of code somewhere that is executed exactly <strong>once</strong> (<em>not</em> for
each test in a test suite; in the `` __init__.py`` of your package
or your package's <code class="docutils literal notranslate"><span class="pre">tests</span></code> subpackage would be a reasonable
place):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">zope.testing.cleanup</span>
<span class="kn">from</span> <span class="nn">repoze.bfg.testing</span> <span class="k">import</span> <span class="n">setUp</span>
<span class="n">zope</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">cleanup</span><span class="o">.</span><span class="n">addCleanUp</span><span class="p">(</span><span class="n">setUp</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">When there is no &quot;current registry&quot; in the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.manager</span></code> threadlocal data structure (this
is the case when there is no &quot;current request&quot; or we're not in the
midst of a <code class="docutils literal notranslate"><span class="pre">r.b.testing.setUp</span></code>-bounded unit test), the <code class="docutils literal notranslate"><span class="pre">.get</span></code>
method of the manager returns a data structure containing a <em>global</em>
registry.  In previous releases, this function returned the global
Zope &quot;base&quot; registry: the result of
<code class="docutils literal notranslate"><span class="pre">zope.component.getGlobalSiteManager</span></code>, which is an instance of the
<code class="docutils literal notranslate"><span class="pre">zope.component.registry.Component</span></code> class.  In this release,
however, the global registry returns a globally importable instance
of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.Registry</span></code> class.  This registry
instance can always be imported as
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.global_registry</span></code>.</p>
<p>Effectively, this means that when you call
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.get_current_registry</span></code> when no request or
<code class="docutils literal notranslate"><span class="pre">setUp</span></code> bounded unit test is in effect, you will always get back
the global registry that lives in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.global_registry</span></code>.  It also means that
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> APIs that <em>call</em> <code class="docutils literal notranslate"><span class="pre">get_current_registry</span></code> will use
this registry.</p>
<p>This change was made because <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> now expects the registry
it uses to have a slightly different API than a bare instance of
<code class="docutils literal notranslate"><span class="pre">zope.component.registry.Components</span></code>.</p>
</li>
<li><p class="first">View registration no longer registers a
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IViewPermission</span></code> adapter (it is no longer
checked by the framework; since 1.1, views have been responsible for
providing their own security).</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> callable no longer accepts the
<code class="docutils literal notranslate"><span class="pre">authentication_policy</span></code> nor the <code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code>
arguments.  This feature was deprecated in version 1.0 and has been
removed.</p>
</li>
<li><p class="first">Obscure: the machinery which configured views with a
<code class="docutils literal notranslate"><span class="pre">request_type</span></code> <em>and</em> a <code class="docutils literal notranslate"><span class="pre">route_name</span></code> would ignore the request
interface implied by <code class="docutils literal notranslate"><span class="pre">route_name</span></code> registering a view only for the
interface implied by <code class="docutils literal notranslate"><span class="pre">request_type</span></code>.  In the unlikely event that
you were trying to use these two features together, the symptom
would have been that views that named a <code class="docutils literal notranslate"><span class="pre">request_type</span></code> but which
were also associated with routes were not found when the route
matched.  Now if a view is configured with both a <code class="docutils literal notranslate"><span class="pre">request_type</span></code>
and a <code class="docutils literal notranslate"><span class="pre">route_name</span></code>, an error is raised.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive now no longer accepts the
<code class="docutils literal notranslate"><span class="pre">request_type</span></code> or <code class="docutils literal notranslate"><span class="pre">view_request_type</span></code> attributes.  These
attributes didn't actually work in any useful way (see entry above
this one).</p>
</li>
<li><p class="first">Because the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> package now includes implementations of
the <code class="docutils literal notranslate"><span class="pre">adapter</span></code>, <code class="docutils literal notranslate"><span class="pre">subscriber</span></code> and <code class="docutils literal notranslate"><span class="pre">utility</span></code> ZCML directives, it
is now an error to have <code class="docutils literal notranslate"><span class="pre">&lt;include</span> <span class="pre">package=&quot;repoze.zcml&quot;</span>
<span class="pre">file=&quot;meta.zcml&quot;/&gt;</span></code> in the ZCML of a <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application.  A
ZCML conflict error will be raised if your ZCML does so.  This
shouldn't be an issue for &quot;normal&quot; installations; it has always been
the responsibility of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.includes</span></code> ZCML to include
this file in the past; it now just doesn't.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.zcml_configure</span></code> API was removed.  Use
the <code class="docutils literal notranslate"><span class="pre">Configurator.load_zcml</span></code> API instead.</p>
</li>
</ul>
</div>
<div class="section" id="id323">
<h3>廃止<a class="headerlink" href="#id323" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> function is now nominally
deprecated.  Its import and usage does not throw a warning, nor will
it probably ever disappear.  However, using a
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration.Configurator</span></code> class is now the preferred
way to generate a WSGI application.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">make_app</span></code> calls
<code class="docutils literal notranslate"><span class="pre">zope.component.getSiteManager.sethook(</span>
<span class="pre">repoze.bfg.threadlocal.get_current_registry)</span></code> on the caller's
behalf, hooking ZCA global API lookups, for backwards compatibility
purposes.  If you disuse <code class="docutils literal notranslate"><span class="pre">make_app</span></code>, your calling code will need
to perform this call itself, at least if your application uses the
ZCA global API (<code class="docutils literal notranslate"><span class="pre">getSiteManager</span></code>, <code class="docutils literal notranslate"><span class="pre">getAdapter</span></code>, etc).</p>
</li>
</ul>
</div>
<div class="section" id="id324">
<h3>依存関係<a class="headerlink" href="#id324" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A dependency on the <code class="docutils literal notranslate"><span class="pre">martian</span></code> package has been removed (its
functionality is replaced internally).</li>
<li>A dependency on the <code class="docutils literal notranslate"><span class="pre">repoze.zcml</span></code> package has been removed (its
functionality is replaced internally).</li>
</ul>
</div>
</div>
<div class="section" id="id325">
<h2>1.1.1 (2009-11-21)<a class="headerlink" href="#id325" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id326">
<h3>バグの修正<a class="headerlink" href="#id326" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&quot;Hybrid mode&quot; applications (applications which explicitly used
traversal <em>after</em> url dispatch via <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> paths containing the
<code class="docutils literal notranslate"><span class="pre">*traverse</span></code> element) were broken in 1.1-final and all 1.1 alpha
and beta releases.  Views registered without a <code class="docutils literal notranslate"><span class="pre">route_name</span></code> route
shadowed views registered with a <code class="docutils literal notranslate"><span class="pre">route_name</span></code> inappropriately.</li>
</ul>
</div>
</div>
<div class="section" id="id327">
<h2>1.1 (2009-11-15)<a class="headerlink" href="#id327" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id328">
<h3>内部<a class="headerlink" href="#id328" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove dead IRouteRequirement interface from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.zcml</span></code>
module.</li>
</ul>
</div>
<div class="section" id="id329">
<h3>ドキュメンテーション<a class="headerlink" href="#id329" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Improve the &quot;Extending an Existing Application&quot; narrative chapter.</li>
<li>Add more sections to the &quot;Defending Design&quot; chapter.</li>
</ul>
</div>
</div>
<div class="section" id="b4-2009-11-12">
<h2>1.1b4 (2009-11-12)<a class="headerlink" href="#b4-2009-11-12" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id330">
<h3>バグの修正<a class="headerlink" href="#id330" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Use <code class="docutils literal notranslate"><span class="pre">alsoProvides</span></code> in the urldispatch module to attach an
interface to the request rather than <code class="docutils literal notranslate"><span class="pre">directlyProvides</span></code> to avoid
disturbing interfaces set in a NewRequest event handler.</li>
</ul>
</div>
<div class="section" id="id331">
<h3>ドキュメンテーション<a class="headerlink" href="#id331" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Move 1.0.1 and previous changelog to HISTORY.txt.</li>
<li>Add examples to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code> docstring.</li>
<li>Add &quot;Defending BFG Design&quot; chapter to frontpage docs.</li>
</ul>
</div>
<div class="section" id="templates">
<h3>Templates<a class="headerlink" href="#templates" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove <code class="docutils literal notranslate"><span class="pre">ez_setup.py</span></code> and its import from all paster templates,
samples, and tutorials for <code class="docutils literal notranslate"><span class="pre">distribute</span></code> compatibility.  The
documentation already explains how to install virtualenv (which will
include some <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> package), so these files, imports and
usages were superfluous.</li>
</ul>
</div>
<div class="section" id="id332">
<h3>廃止<a class="headerlink" href="#id332" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">options</span></code> kw arg to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code>
function is deprecated.  In its place is the keyword argument
<code class="docutils literal notranslate"><span class="pre">settings</span></code>.  The <code class="docutils literal notranslate"><span class="pre">options</span></code> keyword continues to work, and a
deprecation warning is not emitted when it is detected.  However,
the paster templates, code samples, and documentation now make
reference to <code class="docutils literal notranslate"><span class="pre">settings</span></code> rather than <code class="docutils literal notranslate"><span class="pre">options</span></code>.  This
change/deprecation was mainly made for purposes of clarity and
symmetry with the <code class="docutils literal notranslate"><span class="pre">get_settings()</span></code> API and dicussions of
&quot;settings&quot; in various places in the docs: we want to use the same
name to refer to the same thing everywhere.</li>
</ul>
</div>
</div>
<div class="section" id="b3-2009-11-06">
<h2>1.1b3 (2009-11-06)<a class="headerlink" href="#b3-2009-11-06" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id333">
<h3>特徴<a class="headerlink" href="#id333" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerRoutesMapper</span></code> testing facility added.
This testing function registers a routes &quot;mapper&quot; object in the
registry, for tests which require its presence.  This function is
documented in the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> API documentation.</li>
</ul>
</div>
<div class="section" id="id334">
<h3>バグの修正<a class="headerlink" href="#id334" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Compound statements that used an assignment entered into in an
interactive IPython session invoked via <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">bfgshell</span></code> no
longer fail to mutate the shell namespace correctly.  For example,
this set of statements used to fail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span>
  <span class="o">...</span><span class="p">:</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="nb">list</span><span class="p">(</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="ne">NameError</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span>
</pre></div>
</div>
<p>In this release, the <code class="docutils literal notranslate"><span class="pre">bar</span></code> function is found and the correct
output is now sent to the console.  Thanks to Daniel Holth for the
patch.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">bfgshell</span></code> command did not function properly; it was still
expecting to be able to call the root factory with a bare
<code class="docutils literal notranslate"><span class="pre">environ</span></code> rather than a request object.</p>
</li>
</ul>
</div>
<div class="section" id="id335">
<h3>後方の非互換性<a class="headerlink" href="#id335" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.scripting.get_root</span></code> function now expects a
<code class="docutils literal notranslate"><span class="pre">request</span></code> object as its second argument rather than an
<code class="docutils literal notranslate"><span class="pre">environ</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="b2-2009-11-02">
<h2>1.1b2 (2009-11-02)<a class="headerlink" href="#b2-2009-11-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id336">
<h3>バグの修正<a class="headerlink" href="#id336" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Prevent PyPI installation failure due to <code class="docutils literal notranslate"><span class="pre">easy_install</span></code> trying way
too hard to guess the best version of Paste.  When <code class="docutils literal notranslate"><span class="pre">easy_install</span></code>
pulls from PyPI it reads links off various pages to determine &quot;more
up to date&quot; versions. It incorrectly picks up a link for an ancient
version of a package named &quot;Paste-Deploy-0.1&quot; (note the dash) when
trying to find the &quot;Paste&quot; distribution and somehow believes it's
the latest version of &quot;Paste&quot;.  It also somehow &quot;helpfully&quot; decides
to check out a version of this package from SVN.  We pin the Paste
dependency version to a version greater than 1.7 to work around
this <code class="docutils literal notranslate"><span class="pre">easy_install</span></code> bug.</li>
</ul>
</div>
<div class="section" id="id337">
<h3>ドキュメンテーション<a class="headerlink" href="#id337" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix &quot;Hybrid&quot; narrative chapter: stop claiming that <code class="docutils literal notranslate"><span class="pre">&lt;view&gt;</span></code>
statements that mention a route_name need to come afer (in XML
order) the <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> statement which creates the route.  This
hasn't been true since 1.1a1.</li>
<li>&quot;What's New in <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> 1.1&quot; document added to narrative
documentation.</li>
</ul>
</div>
<div class="section" id="id338">
<h3>特徴<a class="headerlink" href="#id338" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Add a new event type: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.AfterTraversal</span></code>.  Events
of this type will be sent after traversal is completed, but before
any view code is invoked.  Like <code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.NewRequest</span></code>,
This event will have a single attribute: <code class="docutils literal notranslate"><span class="pre">request</span></code> representing
the current request.  Unlike the request attribute of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.NewRequest</span></code> however, during an AfterTraversal
event, the request object will possess attributes set by the
traverser, most notably <code class="docutils literal notranslate"><span class="pre">context</span></code>, which will be the context used
when a view is found and invoked.  The interface
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.events.IAfterTraversal</span></code> can be used to subscribe to
the event.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">subscriber</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.IAfterTraversal&quot;</span>
            <span class="n">handler</span><span class="o">=</span><span class="s2">&quot;my.app.handle_after_traverse&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Like any framework event, a subscriber function should expect one
parameter: <code class="docutils literal notranslate"><span class="pre">event</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id339">
<h3>依存関係<a class="headerlink" href="#id339" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Rather than depending on <code class="docutils literal notranslate"><span class="pre">chameleon.core</span></code> and <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code>
distributions individually, depend on Malthe's repackaged
<code class="docutils literal notranslate"><span class="pre">Chameleon</span></code> distribution (which includes both <code class="docutils literal notranslate"><span class="pre">chameleon.core</span></code>
and <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code>).</li>
</ul>
</div>
</div>
<div class="section" id="b1-2009-11-01">
<h2>1.1b1 (2009-11-01)<a class="headerlink" href="#b1-2009-11-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id340">
<h3>バグの修正<a class="headerlink" href="#id340" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The routes root factory called route factories and the default route
factory with an environ rather than a request.  One of the symptoms
of this bug: applications generated using the <code class="docutils literal notranslate"><span class="pre">bfg_zodb</span></code> paster
template in 1.1a9 did not work properly.</li>
<li>Reinstate <code class="docutils literal notranslate"><span class="pre">renderer</span></code> alias for <code class="docutils literal notranslate"><span class="pre">view_renderer</span></code> in the
<code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> ZCML directive (in-the-wild 1.1a bw compat).</li>
<li><code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code> paster template: change <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code>
declarations: rename <code class="docutils literal notranslate"><span class="pre">renderer</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">view_renderer</span></code>.</li>
<li>Header values returned by the <code class="docutils literal notranslate"><span class="pre">authtktauthenticationpolicy</span></code>
<code class="docutils literal notranslate"><span class="pre">remember</span></code> and <code class="docutils literal notranslate"><span class="pre">forget</span></code> methods would be of type <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.
This violated the WSGI spec, causing a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> to be raised
when these headers were used under <code class="docutils literal notranslate"><span class="pre">mod_wsgi</span></code>.</li>
<li>If a BFG app that had a route matching the root URL was mounted
under a path in modwsgi, ala <code class="docutils literal notranslate"><span class="pre">WSGIScriptAlias</span> <span class="pre">/myapp</span>
<span class="pre">/Users/chrism/projects/modwsgi/env/bfg.wsgi</span></code>, the home route (a
route with the path of <code class="docutils literal notranslate"><span class="pre">'/'</span></code> or <code class="docutils literal notranslate"><span class="pre">''</span></code>) would not match when the
path <code class="docutils literal notranslate"><span class="pre">/myapp</span></code> was visited (only when the path <code class="docutils literal notranslate"><span class="pre">/myapp/</span></code> was
visited).  This is now fixed: if the urldispatch root factory notes
that the PATH_INFO is empty, it converts it to a single slash before
trying to do matching.</li>
</ul>
</div>
<div class="section" id="id341">
<h3>ドキュメンテーション<a class="headerlink" href="#id341" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>In <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> declarations in tutorial ZCML, rename <code class="docutils literal notranslate"><span class="pre">renderer</span></code>
attribute to <code class="docutils literal notranslate"><span class="pre">view_renderer</span></code> (fwd compat).</li>
<li>Fix various tutorials broken by 1.1a9 <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> directive changes.</li>
</ul>
</div>
<div class="section" id="id342">
<h3>内部<a class="headerlink" href="#id342" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Deal with a potential circref in the traversal module.</li>
</ul>
</div>
</div>
<div class="section" id="a9-2009-10-31">
<h2>1.1a9 (2009-10-31)<a class="headerlink" href="#a9-2009-10-31" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id343">
<h3>バグの修正<a class="headerlink" href="#id343" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>An incorrect ZCML conflict would be encountered when the
<code class="docutils literal notranslate"><span class="pre">request_param</span></code> predicate attribute was used on the ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code>
directive if any two otherwise same-predicated views had the
combination of a predicate value with an <code class="docutils literal notranslate"><span class="pre">=</span></code> sign and one without
(e.g. <code class="docutils literal notranslate"><span class="pre">a</span></code> vs. <code class="docutils literal notranslate"><span class="pre">a=123</span></code>).</li>
</ul>
</div>
<div class="section" id="id344">
<h3>特徴<a class="headerlink" href="#id344" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>In previous versions of BFG, the &quot;root factory&quot; (the <code class="docutils literal notranslate"><span class="pre">get_root</span></code>
callable passed to <code class="docutils literal notranslate"><span class="pre">make_app</span></code> or a function pointed to by the
<code class="docutils literal notranslate"><span class="pre">factory</span></code> attribute of a route) was called with a &quot;bare&quot; WSGI
environment.  In this version, and going forward, it will be called
with a <code class="docutils literal notranslate"><span class="pre">request</span></code> object.  The request object passed to the factory
implements dictionary-like methods in such a way that existing root
factory code which expects to be passed an environ will continue to
work.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">__call__</span></code> of a plugin &quot;traverser&quot; implementation (registered
as an adapter for <code class="docutils literal notranslate"><span class="pre">ITraverser</span></code> or <code class="docutils literal notranslate"><span class="pre">ITraverserFactory</span></code>) will now
receive a <em>request</em> as the single argument to its <code class="docutils literal notranslate"><span class="pre">__call__</span></code>
method.  In previous versions it was passed a WSGI <code class="docutils literal notranslate"><span class="pre">environ</span></code>
object.  The request object passed to the factory implements
dictionary-like methods in such a way that existing traverser code
which expects to be passed an environ will continue to work.</li>
<li>The ZCML <code class="docutils literal notranslate"><span class="pre">route</span></code> directive's attributes <code class="docutils literal notranslate"><span class="pre">xhr</span></code>,
<code class="docutils literal notranslate"><span class="pre">request_method</span></code>, <code class="docutils literal notranslate"><span class="pre">path_info</span></code>, <code class="docutils literal notranslate"><span class="pre">request_param</span></code>, <code class="docutils literal notranslate"><span class="pre">header</span></code> and
<code class="docutils literal notranslate"><span class="pre">accept</span></code> are now <em>route</em> predicates rather than <em>view</em> predicates.
If one or more of these predicates is specified in the route
configuration, all of the predicates must return true for the route
to match a request.  If one or more of the route predicates
associated with a route returns <code class="docutils literal notranslate"><span class="pre">False</span></code> when checked during a
request, the route match fails, and the next match in the routelist
is tried.  This differs from the previous behavior, where no route
predicates existed and all predicates were considered view
predicates, because in that scenario, the next route was not tried.</li>
</ul>
</div>
<div class="section" id="id345">
<h3>ドキュメンテーション<a class="headerlink" href="#id345" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Various changes were made to narrative and API documentation
supporting the change from passing a request rather than an environ
to root factories and traversers.</li>
</ul>
</div>
<div class="section" id="id346">
<h3>内部<a class="headerlink" href="#id346" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The request implements dictionary-like methods that mutate and query
the WSGI environ.  This is only for the purpose of backwards
compatibility with root factories which expect an <code class="docutils literal notranslate"><span class="pre">environ</span></code> rather
than a request.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.create_route_request_factory</span></code> function,
which returned a request factory was removed in favor of a
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.route_request_interface</span></code> function, which
returns an interface.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.Request</span></code> class, which is a subclass of
<code class="docutils literal notranslate"><span class="pre">webob.Request</span></code> now defines its own <code class="docutils literal notranslate"><span class="pre">__setattr__</span></code>,
<code class="docutils literal notranslate"><span class="pre">__getattr__</span></code> and <code class="docutils literal notranslate"><span class="pre">__delattr__</span></code> methods, which override the
default WebOb behavior.  The default WebOb behavior stores
attributes of the request in <code class="docutils literal notranslate"><span class="pre">self.environ['webob.adhoc_attrs']</span></code>,
and retrieves them from that dictionary during a <code class="docutils literal notranslate"><span class="pre">__getattr__</span></code>.
This behavior was undesirable for speed and &quot;expectation&quot; reasons.
Now attributes of the <code class="docutils literal notranslate"><span class="pre">request</span></code> are stored in <code class="docutils literal notranslate"><span class="pre">request.__dict__</span></code>
(as you otherwise might expect from an object that did not override
these methods).</li>
<li>The router no longer calls <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal._traverse</span></code> and
does its work &quot;inline&quot; (speed).</li>
<li>Reverse the order in which the router calls the request factory and
the root factory.  The request factory is now called first; the
resulting request is passed to the root factory.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.request_factory</span></code> function has been
removed.  Its functionality is no longer required.</li>
<li>The &quot;routes root factory&quot; that wraps the default root factory when
there are routes mentioned in the configuration now attaches an
interface to the request via <code class="docutils literal notranslate"><span class="pre">zope.interface.directlyProvides</span></code>.
This replaces logic in the (now-gone)
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.request_factory</span></code> function.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">route</span></code> and <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directives now register an interface
as a named utility (retrieved from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.route_request_interface</span></code>) rather than a
request factory (the previous return value of the now-missing
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.create_route_request_factory</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.functional</span></code> module was renamed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.compat</span></code>.</li>
</ul>
</div>
<div class="section" id="id347">
<h3>後方の非互換性<a class="headerlink" href="#id347" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Explicitly revert the feature introduced in 1.1a8: where the name
<code class="docutils literal notranslate"><span class="pre">root</span></code> is available as an attribute of the request before a
NewRequest event is emitted.  This makes some potential future
features impossible, or at least awkward (such as grouping traversal
and view lookup into a single adapter lookup).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">containment</span></code>, <code class="docutils literal notranslate"><span class="pre">attr</span></code> and <code class="docutils literal notranslate"><span class="pre">renderer</span></code> attributes of the
<code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive were removed.</li>
</ul>
</div>
</div>
<div class="section" id="a8-2009-10-27">
<h2>1.1a8 (2009-10-27)<a class="headerlink" href="#a8-2009-10-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id348">
<h3>特徴<a class="headerlink" href="#id348" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">path_info</span></code> view configuration predicate.</li>
<li><code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">bfgshell</span></code> now supports IPython if it's available for
import.  Thanks to Daniel Holth for the initial patch.</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerSettings</span></code> API, which is documented
in the &quot;repoze.bfg.testing&quot; API chapter.  This allows for
registration of &quot;settings&quot; values obtained via
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_settings()</span></code> for use in unit tests.</li>
<li>The name <code class="docutils literal notranslate"><span class="pre">root</span></code> is available as an attribute of the request
slightly earlier now (before a NewRequest event is emitted).
<code class="docutils literal notranslate"><span class="pre">root</span></code> is the result of the application &quot;root factory&quot;.</li>
<li>Added <code class="docutils literal notranslate"><span class="pre">max_age</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">authtktauthenticationpolicy</span></code> ZCML
directive.  If this value is set, it must be an integer representing
the number of seconds which the auth tkt cookie will survive.
Mainly, its existence allows the auth_tkt cookie to survive across
browser sessions.</li>
</ul>
</div>
<div class="section" id="id349">
<h3>バグの修正<a class="headerlink" href="#id349" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix bug encountered during &quot;scan&quot; (when <code class="docutils literal notranslate"><span class="pre">&lt;scan</span> <span class="pre">..&gt;</span></code> directive is
used in ZCML) introduced in 1.1a7.  Symptom: <code class="docutils literal notranslate"><span class="pre">AttributeError:</span>
<span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">__provides__</span></code> raised at startup time.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">reissue_time</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">authtktauthenticationpolicy</span></code>
ZCML directive now actually works.  When it is set to an integer
value, an authticket set-cookie header is appended to the response
whenever a request requires authentication and 'now' minus the
authticket's timestamp is greater than <code class="docutils literal notranslate"><span class="pre">reissue_time</span></code> seconds.</li>
</ul>
</div>
<div class="section" id="id350">
<h3>ドキュメンテーション<a class="headerlink" href="#id350" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a chapter titled &quot;Request and Response&quot; to the narrative
documentation, content cribbed from the WebOb documentation.</li>
<li>Call out predicate attributes of ZCML directive within &quot;Views&quot;
chapter.</li>
<li>Fix route_url documentation (<code class="docutils literal notranslate"><span class="pre">_query</span></code> argument documented as
<code class="docutils literal notranslate"><span class="pre">query</span></code> and <code class="docutils literal notranslate"><span class="pre">_anchor</span></code> argument documented as <code class="docutils literal notranslate"><span class="pre">anchor</span></code>).</li>
</ul>
</div>
<div class="section" id="id351">
<h3>後方の非互換性<a class="headerlink" href="#id351" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">authtkt</span></code> authentication policy <code class="docutils literal notranslate"><span class="pre">remember</span></code> method now no
longer honors <code class="docutils literal notranslate"><span class="pre">token</span></code> or <code class="docutils literal notranslate"><span class="pre">userdata</span></code> keyword arguments.</li>
</ul>
</div>
<div class="section" id="id352">
<h3>内部<a class="headerlink" href="#id352" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Change how <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator works when used as a class method
decorator.  In 1.1a7, the``scan``directive actually tried to grope
every class in scanned package at startup time, calling <code class="docutils literal notranslate"><span class="pre">dir</span></code>
against each found class, and subsequently invoking <code class="docutils literal notranslate"><span class="pre">getattr</span></code>
against each thing found by <code class="docutils literal notranslate"><span class="pre">dir</span></code> to see if it was a method.  This
led to some strange symptoms (e.g. <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span>
<span class="pre">attribute</span> <span class="pre">__provides__</span></code>), and was generally just a bad idea.  Now,
instead of groping classes for methods at startup time, we just
cause the <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator itself to populate the method's
class' <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> when it is used as a method decorator.  This
also requires a nasty _getframe thing but it's slightly less nasty
than the startup time groping behavior.  This is essentially a
reversion back to 1.1a6 &quot;grokking&quot; behavior plus some special magic
for using the <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator as method decorator inside the
<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> class itself.</li>
<li>The router now checks for a <code class="docutils literal notranslate"><span class="pre">global_response_headers</span></code> attribute of
the request object before returning a response.  If this value
exists, it is presumed to be a sequence of two-tuples, representing
a set of headers to append to the 'normal' response headers.  This
feature is internal, rather than exposed externally, because it's
unclear whether it will stay around in the long term.  It was added
to support the <code class="docutils literal notranslate"><span class="pre">reissue_time</span></code> feature of the authtkt
authentication policy.</li>
<li>The interface ITraverserFactory is now just an alias for ITraverser.</li>
</ul>
</div>
</div>
<div class="section" id="a7-2009-10-18">
<h2>1.1a7 (2009-10-18)<a class="headerlink" href="#a7-2009-10-18" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id353">
<h3>特徴<a class="headerlink" href="#id353" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">More than one <code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code> decorator may now be stacked on top of
any number of others.  Each invocation of the decorator registers a
single view configuration.  For instance, the following combination
of decorators and a function will register two view configurations
for the same view callable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.bfg.view</span> <span class="k">import</span> <span class="n">bfg_view</span>

<span class="nd">@bfg_view</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;edit&#39;</span><span class="p">)</span>
<span class="nd">@bfg_view</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;change&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">edit</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>This makes it possible to associate more than one view configuration
with a single callable without requiring any ZCML.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code> decorator can now be used against a class method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">webob</span> <span class="k">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">repoze.bfg.view</span> <span class="k">import</span> <span class="n">bfg_view</span>

<span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="n">context</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">request</span> <span class="o">=</span> <span class="n">request</span>

    <span class="nd">@bfg_view</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">amethod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s1">&#39;hello from </span><span class="si">%s</span><span class="s1">!&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<p>When the bfg_view decorator is used against a class method, a view
is registered for the <em>class</em> (it's a &quot;class view&quot; where the &quot;attr&quot;
happens to be the name of the method it is attached to), so the
class it's defined within must have a suitable constructor: one that
accepts <code class="docutils literal notranslate"><span class="pre">context,</span> <span class="pre">request</span></code> or just <code class="docutils literal notranslate"><span class="pre">request</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id354">
<h3>ドキュメンテーション<a class="headerlink" href="#id354" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added <code class="docutils literal notranslate"><span class="pre">Changing</span> <span class="pre">the</span> <span class="pre">Traverser</span></code> and <code class="docutils literal notranslate"><span class="pre">Changing</span> <span class="pre">How</span>
<span class="pre">:mod:`repoze.bfg.url.model_url`</span> <span class="pre">Generates</span> <span class="pre">a</span> <span class="pre">URL</span></code> to the &quot;Hooks&quot;
narrative chapter of the docs.</li>
</ul>
</div>
<div class="section" id="id355">
<h3>内部<a class="headerlink" href="#id355" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove <code class="docutils literal notranslate"><span class="pre">ez_setup.py</span></code> and imports of it within <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.  In
the new world, and as per virtualenv setup instructions, people will
already have either setuptools or distribute.</li>
</ul>
</div>
</div>
<div class="section" id="a6-2009-10-15">
<h2>1.1a6 (2009-10-15)<a class="headerlink" href="#a6-2009-10-15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id356">
<h3>特徴<a class="headerlink" href="#id356" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">xhr</span></code>, <code class="docutils literal notranslate"><span class="pre">accept</span></code>, and <code class="docutils literal notranslate"><span class="pre">header</span></code> view configuration
predicates to ZCML view declaration, ZCML route declaration, and
<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator.  See the <code class="docutils literal notranslate"><span class="pre">Views</span></code> narrative documentation
chapter for more information about these predicates.</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">setUp</span></code> and <code class="docutils literal notranslate"><span class="pre">tearDown</span></code> functions to the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> module.  Using <code class="docutils literal notranslate"><span class="pre">setUp</span></code> in a test setup and
<code class="docutils literal notranslate"><span class="pre">tearDown</span></code> in a test teardown is now the recommended way to do
component registry setup and teardown.  Previously, it was
recommended that a single function named
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.cleanUp</span></code> be called in both the test setup and
tear down.  <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.cleanUp</span></code> still exists (and will
exist &quot;forever&quot; due to its widespread use); it is now just an alias
for <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> and is nominally deprecated.</li>
<li>The BFG component registry is now available in view and event
subscriber code as an attribute of the request
ie. <code class="docutils literal notranslate"><span class="pre">request.registry</span></code>.  This fact is currently undocumented
except for this note, because BFG developers never need to interact
with the registry directly anywhere else.</li>
<li>The BFG component registry now inherits from <code class="docutils literal notranslate"><span class="pre">dict</span></code>, meaning that
it can optionally be used as a simple dictionary.  <em>Component</em>
registrations performed against it via e.g. <code class="docutils literal notranslate"><span class="pre">registerUtility</span></code>,
<code class="docutils literal notranslate"><span class="pre">registerAdapter</span></code>, and similar API methods are kept in a
completely separate namespace than its dict members, so using the
its component API methods won't effect the keys and values in the
dictionary namespace.  Likewise, though the component registry
&quot;happens to be&quot; a dictionary, use of mutating dictionary methods
such as <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> will have no influence on any component
registrations made against it.  In other words, the registry object
you obtain via e.g. <code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.get_current_registry</span></code>
or <code class="docutils literal notranslate"><span class="pre">request.registry</span></code> happens to be both a component registry and
a dictionary, but using its component-registry API won't impact data
added to it via its dictionary API and vice versa.  This is a
forward compatibility move based on the goals of &quot;marco&quot;.</li>
<li>Expose and document <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.zcml_configure</span></code> API.  This
function populates a component registry from a ZCML file for testing
purposes.  It is documented in the &quot;Unit and Integration Testing&quot;
chapter.</li>
</ul>
</div>
<div class="section" id="id357">
<h3>ドキュメンテーション<a class="headerlink" href="#id357" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Virtual hosting narrative docs chapter updated with info about
<code class="docutils literal notranslate"><span class="pre">mod_wsgi</span></code>.</li>
<li>Point all index URLs at the literal 1.1 index (this alpha cycle may
go on a while).</li>
<li>Various tutorial test modules updated to use
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.tearDown</span></code>
methods in order to encourage this as best practice going forward.</li>
<li>Added &quot;Creating Integration Tests&quot; section to unit testing narrative
documentation chapter.  As a result, the name of the unittesting
chapter is now &quot;Unit and Integration Testing&quot;.</li>
</ul>
</div>
<div class="section" id="id358">
<h3>後方の非互換性<a class="headerlink" href="#id358" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Importing <code class="docutils literal notranslate"><span class="pre">getSiteManager</span></code> and <code class="docutils literal notranslate"><span class="pre">get_registry</span></code> from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry</span></code> is no longer supported.  These imports were
deprecated in repoze.bfg 1.0.  Import of <code class="docutils literal notranslate"><span class="pre">getSiteManager</span></code> should
be done as <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">zope.component</span> <span class="pre">import</span> <span class="pre">getSiteManager</span></code>.  Import of
<code class="docutils literal notranslate"><span class="pre">get_registry</span></code> should be done as <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">repoze.bfg.threadlocal</span>
<span class="pre">import</span> <span class="pre">get_current_registry</span></code>.  This was done to prevent a circular
import dependency.</li>
<li>Code bases which alternately invoke both
<code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.cleanUp</span></code>
(treating them equivalently, using them interchangeably) in the
setUp/tearDown of unit tests will begin to experience test failures
due to lack of test isolation.  The &quot;right&quot; mechanism is
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.cleanUp</span></code> (or the combination of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.tearDown</span></code>). but a good number of legacy
codebases will use <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> instead.  We
support <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> but not in combination with
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.cleanUp</span></code> in the same codebase.  You should use
one or the other test cleanup function in a single codebase, but not
both.</li>
</ul>
</div>
<div class="section" id="id359">
<h3>内部<a class="headerlink" href="#id359" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Created new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.configuration</span></code> module which assumes
responsibilities previously held by the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router</span></code> modules (avoid a circular import dependency).</li>
<li>The result of the <code class="docutils literal notranslate"><span class="pre">zope.component.getSiteManager</span></code> function in unit
tests set up with <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.cleanUp</span></code> or
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.setUp</span></code> will be an instance of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.Registry</span></code> instead of the global
<code class="docutils literal notranslate"><span class="pre">zope.component.globalregistry.base</span></code> registry.  This also means
that the threadlocal ZCA API functions such as <code class="docutils literal notranslate"><span class="pre">getAdapter</span></code> and
<code class="docutils literal notranslate"><span class="pre">getUtility</span></code> as well as internal BFG machinery (such as
<code class="docutils literal notranslate"><span class="pre">model_url</span></code> and <code class="docutils literal notranslate"><span class="pre">route_url</span></code>) will consult this registry within
unit tests. This is a forward compatibility move based on the goals
of &quot;marco&quot;.</li>
<li>Removed <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.addCleanUp</span></code> function and associated
module-scope globals.  This was never an API.</li>
</ul>
</div>
</div>
<div class="section" id="a5-2009-10-10">
<h2>1.1a5 (2009-10-10)<a class="headerlink" href="#a5-2009-10-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id360">
<h3>ドキュメンテーション<a class="headerlink" href="#id360" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Change &quot;Traversal + ZODB&quot; and &quot;URL Dispatch + SQLAlchemy&quot; Wiki
tutorials to make use of the new-to-1.1 &quot;renderer&quot; feature (return
dictionaries from all views).</li>
<li>Add tests to the &quot;URL Dispatch + SQLAlchemy&quot; tutorial after the
&quot;view&quot; step.</li>
<li>Added a diagram of model graph traversal to the &quot;Traversal&quot;
narrative chapter of the documentation.</li>
<li>An <code class="docutils literal notranslate"><span class="pre">exceptions</span></code> API chapter was added, documenting the new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions</span></code> module.</li>
<li>Describe &quot;request-only&quot; view calling conventions inside the
urldispatch narrative chapter, where it's most helpful.</li>
<li>Add a diagram which explains the operation of the BFG router to the
&quot;Router&quot; narrative chapter.</li>
</ul>
</div>
<div class="section" id="id361">
<h3>特徴<a class="headerlink" href="#id361" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a new <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> API: <code class="docutils literal notranslate"><span class="pre">registerRoute</span></code>, for
registering routes to satisfy calls to
e.g. <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> in unit tests.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">notfound</span></code> and <code class="docutils literal notranslate"><span class="pre">forbidden</span></code> ZCML directives now accept the
following addtional attributes: <code class="docutils literal notranslate"><span class="pre">attr</span></code>, <code class="docutils literal notranslate"><span class="pre">renderer</span></code>, and
<code class="docutils literal notranslate"><span class="pre">wrapper</span></code>.  These have the same meaning as they do in the context
of a ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> directive.</li>
<li>For behavior like Django's <code class="docutils literal notranslate"><span class="pre">APPEND_SLASH=True</span></code>, use the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.append_slash_notfound_view</span></code> view as the Not Found
view in your application.  When this view is the Not Found view
(indicating that no view was found), and any routes have been
defined in the configuration of your application, if the value of
<code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> does not already end in a slash, and if the value of
<code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> <em>plus</em> a slash matches any route's path, do an HTTP
redirect to the slash-appended PATH_INFO.  Note that this will
<em>lose</em> <code class="docutils literal notranslate"><span class="pre">POST</span></code> data information (turning it into a GET), so you
shouldn't rely on this to redirect POST requests.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.lineage</span></code> slightly.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.encode.urlencode</span></code> (nee'
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.urlencode</span></code>) slightly.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code>.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path_tuple</span></code> slightly.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.traverse</span></code> slightly.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code> slightly.</li>
<li>Speed up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> slightly.</li>
<li>Sped up <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.ModelGraphTraverser:__call__</span></code>
slightly.</li>
<li>Minor speedup of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.Router.__call__</span></code>.</li>
<li>New <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions</span></code> module was created to house exceptions
that were previously sprinkled through various modules.</li>
</ul>
</div>
<div class="section" id="id362">
<h3>内部<a class="headerlink" href="#id362" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Move <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal._url_quote</span></code> into <code class="docutils literal notranslate"><span class="pre">repoze.bfg.encode</span></code>
as <code class="docutils literal notranslate"><span class="pre">url_quote</span></code>.</li>
</ul>
</div>
<div class="section" id="id363">
<h3>廃止<a class="headerlink" href="#id363" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The import of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.NotFound</span></code> is deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.NotFound</span></code>.  The old location still
functions, but emits a deprecation warning.</li>
<li>The import of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.Unauthorized</span></code> is deprecated in
favor of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.exceptions.Forbidden</span></code>.  The old location
still functions but emits a deprecation warning.  The rename from
<code class="docutils literal notranslate"><span class="pre">Unauthorized</span></code> to <code class="docutils literal notranslate"><span class="pre">Forbidden</span></code> brings parity to the name of
the exception and the system view it invokes when raised.</li>
</ul>
</div>
<div class="section" id="id364">
<h3>後方の非互換性<a class="headerlink" href="#id364" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">We previously had a Unicode-aware wrapper for the
<code class="docutils literal notranslate"><span class="pre">urllib.urlencode</span></code> function named <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.urlencode</span></code>
which delegated to the stdlib function, but which marshalled all
unicode values to utf-8 strings before calling the stdlib version.
A newer replacement now lives in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.encode</span></code> The
replacement does not delegate to the stdlib.</p>
<p>The replacement diverges from the stdlib implementation and the
previous <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url</span></code> url implementation inasmuch as its
<code class="docutils literal notranslate"><span class="pre">doseq</span></code> argument is now a decoy: it always behaves in the
<code class="docutils literal notranslate"><span class="pre">doseq=True</span></code> way (which is the only sane behavior) for speed
purposes.</p>
<p>The old import location (<code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.urlencode</span></code>) still
functions and has not been deprecated.</p>
</li>
<li><p class="first">In 0.8a7, the return value expected from an object implementing
<code class="docutils literal notranslate"><span class="pre">ITraverserFactory</span></code> was changed from a sequence of values to a
dictionary containing the keys <code class="docutils literal notranslate"><span class="pre">context</span></code>, <code class="docutils literal notranslate"><span class="pre">view_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">subpath</span></code>, <code class="docutils literal notranslate"><span class="pre">traversed</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code>,
and <code class="docutils literal notranslate"><span class="pre">root</span></code>.  Until now, old-style traversers which returned a
sequence have continued to work but have generated a deprecation
warning.  In this release, traversers which return a sequence
instead of a dictionary will no longer work.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a4-2009-09-23">
<h2>1.1a4 (2009-09-23)<a class="headerlink" href="#a4-2009-09-23" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id365">
<h3>バグの修正<a class="headerlink" href="#id365" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>On 64-bit Linux systems, views that were members of a multiview
(orderings of views with predicates) were not evaluated in the
proper order.  Symptom: in a configuration that had two views with
the same name but one with a <code class="docutils literal notranslate"><span class="pre">request_method=POST</span></code> predicate and
one without, the one without the predicate would be called
unconditionally (even if the request was a POST request).  Thanks
much to Sebastien Douche for providing the buildbots that pointed
this out.</li>
</ul>
</div>
<div class="section" id="id366">
<h3>ドキュメンテーション<a class="headerlink" href="#id366" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a tutorial which explains how to use <code class="docutils literal notranslate"><span class="pre">repoze.session</span></code>
(ZODB-based sessions) in a ZODB-based repoze.bfg app.</li>
<li>Added a tutorial which explains how to add ZEO to a ZODB-based
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> application.</li>
<li>Added a tutorial which explains how to run a <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>
application under <a class="reference external" href="http://code.google.com/p/modwsgi/">mod_wsgi</a>.
See &quot;Running a repoze.bfg Application under mod_wsgi&quot; in the
tutorials section of the documentation.</li>
</ul>
</div>
<div class="section" id="id367">
<h3>特徴<a class="headerlink" href="#id367" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.static_url</span></code> API which is capable of
generating URLs to static resources defined by the <code class="docutils literal notranslate"><span class="pre">&lt;static&gt;</span></code> ZCML
directive.  See the &quot;Views&quot; narrative chapter's section titled
&quot;Generating Static Resource URLs&quot; for more information.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">string</span></code> renderer.  This renderer converts a non-Response
return value of any view callble into a string.  It is documented in
the &quot;Views&quot; narrative chapter.</li>
<li>Give the <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive the <code class="docutils literal notranslate"><span class="pre">view_attr</span></code> and
<code class="docutils literal notranslate"><span class="pre">view_renderer</span></code> parameters (bring up to speed with 1.1a3
features).  These can also be spelled as <code class="docutils literal notranslate"><span class="pre">attr</span></code> and <code class="docutils literal notranslate"><span class="pre">renderer</span></code>.</li>
</ul>
</div>
<div class="section" id="id368">
<h3>後方の非互換性<a class="headerlink" href="#id368" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>An object implementing the <code class="docutils literal notranslate"><span class="pre">IRenderer</span></code> interface (and
<code class="docutils literal notranslate"><span class="pre">ITemplateRenderer`,</span> <span class="pre">which</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">subclass</span> <span class="pre">of</span> <span class="pre">``IRenderer</span></code>) must now
accept an extra <code class="docutils literal notranslate"><span class="pre">system</span></code> argument in its <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method
implementation.  Values computed by the system (as opposed to by the
view) are passed by the system in the <code class="docutils literal notranslate"><span class="pre">system</span></code> parameter, which
will always be a dictionary.  Keys in the dictionary include:
<code class="docutils literal notranslate"><span class="pre">view</span></code> (the view object that returned the value),
<code class="docutils literal notranslate"><span class="pre">renderer_name</span></code> (the template name or simple name of the
renderer), <code class="docutils literal notranslate"><span class="pre">context</span></code> (the context object passed to the view), and
<code class="docutils literal notranslate"><span class="pre">request</span></code> (the request object passed to the view).  Previously
only ITemplateRenderers received system arguments as elements inside
the main <code class="docutils literal notranslate"><span class="pre">value</span></code> dictionary.</li>
</ul>
</div>
<div class="section" id="id369">
<h3>内部<a class="headerlink" href="#id369" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The way <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> declarations are scanned for has been modified.
This should have no external effects.</li>
<li>Speed: do not register an ITraverserFactory in configure.zcml;
instead rely on queryAdapter and a manual default to
ModelGraphTraverser.</li>
<li>Speed: do not register an IContextURL in configure.zcml; instead
rely on queryAdapter and a manual default to TraversalContextURL.</li>
<li>General speed microimprovements for helloworld benchmark: replace
try/excepts with statements which use 'in' keyword.</li>
</ul>
</div>
</div>
<div class="section" id="a3-2009-09-16">
<h2>1.1a3 (2009-09-16)<a class="headerlink" href="#a3-2009-09-16" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id370">
<h3>ドキュメンテーション<a class="headerlink" href="#id370" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The &quot;Views&quot; narrative chapter in the documentation has been updated
extensively to discuss &quot;renderers&quot;.</li>
</ul>
</div>
<div class="section" id="id371">
<h3>特徴<a class="headerlink" href="#id371" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A <code class="docutils literal notranslate"><span class="pre">renderer</span></code> attribute has been added to view configurations,
replacing the previous (1.1a2) version's <code class="docutils literal notranslate"><span class="pre">template</span></code> attribute.  A
&quot;renderer&quot; is an object which accepts the return value of a view and
converts it to a string.  This includes, but is not limited to,
templating systems.</li>
<li>A new interface named <code class="docutils literal notranslate"><span class="pre">IRenderer</span></code> was added.  The existing
interface, <code class="docutils literal notranslate"><span class="pre">ITemplateRenderer</span></code> now derives from this new
interface.  This interface is internal.</li>
<li>A new interface named <code class="docutils literal notranslate"><span class="pre">IRendererFactory</span></code> was added.  An existing
interface named <code class="docutils literal notranslate"><span class="pre">ITemplateRendererFactory</span></code> now derives from this
interface.  This interface is internal.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">view</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directive is no longer
required if the ZCML directive also has a <code class="docutils literal notranslate"><span class="pre">renderer</span></code> attribute.
This is useful when the renderer is a template renderer and no names
need be passed to the template at render time.</li>
<li>A new zcml directive <code class="docutils literal notranslate"><span class="pre">renderer</span></code> has been added.  It is documented
in the &quot;Views&quot; narrative chapter of the documentation.</li>
<li>A ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> directive (and the associated <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>
decorator) can now accept a &quot;wrapper&quot; value.  If a &quot;wrapper&quot; value
is supplied, it is the value of a separate view's <em>name</em> attribute.
When a view with a <code class="docutils literal notranslate"><span class="pre">wrapper</span></code> attribute is rendered, the &quot;inner&quot;
view is first rendered normally.  Its body is then attached to the
request as &quot;wrapped_body&quot;, and then a wrapper view name is looked up
and rendered (using <code class="docutils literal notranslate"><span class="pre">repoze.bfg.render_view_to_response</span></code>), passed
the request and the context.  The wrapper view is assumed to do
something sensible with <code class="docutils literal notranslate"><span class="pre">request.wrapped_body</span></code>, usually inserting
its structure into some other rendered template.  This feature makes
it possible to specify (potentially nested) &quot;owrap&quot; relationships
between views using only ZCML or decorators (as opposed always using
ZPT METAL and analogues to wrap view renderings in outer wrappers).</li>
</ul>
</div>
<div class="section" id="id372">
<h3>依存関係<a class="headerlink" href="#id372" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>When used under Python &lt; 2.6, BFG now has an installation time
dependency on the <code class="docutils literal notranslate"><span class="pre">simplejson</span></code> package.</li>
</ul>
</div>
<div class="section" id="id373">
<h3>廃止<a class="headerlink" href="#id373" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerDummyRenderer</span></code> API has been
deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerTemplateRenderer</span></code>.  A deprecation
warning is <em>not</em> issued at import time for the former name; it will
exist &quot;forever&quot;; its existence has been removed from the
documentation, however.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.templating.renderer_from_cache</span></code> function has been
moved to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.renderer.template_renderer_factory</span></code>.  This
was never an API, but code in the wild was spotted that used it.  A
deprecation warning is issued at import time for the former.</li>
</ul>
</div>
<div class="section" id="id374">
<h3>後方の非互換性<a class="headerlink" href="#id374" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">ITemplateRenderer</span></code> interface has been changed.  Previously
its <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method accepted <code class="docutils literal notranslate"><span class="pre">**kw</span></code>.  It now accepts a single
positional parameter named <code class="docutils literal notranslate"><span class="pre">kw</span></code> (REVISED: it accepts two
positional parameters as of 1.1a4: <code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">system</span></code>).  This
is mostly an internal change, but it was exposed in APIs in one
place: if you've used the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerDummyRenderer</span></code> API in your tests with
a custom &quot;renderer&quot; argument with your own renderer implementation,
you will need to change that renderer implementation to accept
<code class="docutils literal notranslate"><span class="pre">kw</span></code> instead of <code class="docutils literal notranslate"><span class="pre">**kw</span></code> in its <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method (REVISED: make
it accept <code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">system</span></code> positional arguments as of 1.1a4).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">ITemplateRendererFactory</span></code> interface has been changed.
Previously its <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method accepted an <code class="docutils literal notranslate"><span class="pre">auto_reload</span></code>
keyword parameter.  Now its <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method accepts no keyword
parameters.  Renderers are now themselves responsible for
determining details of auto-reload.  This is purely an internal
change.  This interface was never external.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">template_renderer</span></code> ZCML directive introduced in 1.1a2 has
been removed.  It has been replaced by the <code class="docutils literal notranslate"><span class="pre">renderer</span></code> directive.</li>
<li>The previous release (1.1a2) added a view configuration attribute
named <code class="docutils literal notranslate"><span class="pre">template</span></code>.  In this release, the attribute has been renamed
to <code class="docutils literal notranslate"><span class="pre">renderer</span></code>.  This signifies that the attribute is more generic:
it can now be not just a template name but any renderer name (ala
<code class="docutils literal notranslate"><span class="pre">json</span></code>).</li>
<li>In the previous release (1.1a2), the Chameleon text template
renderer was used if the system didn't associate the <code class="docutils literal notranslate"><span class="pre">template</span></code>
view configuration value with a filename with a &quot;known&quot; extension.
In this release, you must use a <code class="docutils literal notranslate"><span class="pre">renderer</span></code> attribute which is a
path that ends with a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> extension
(e.g. <code class="docutils literal notranslate"><span class="pre">templates/foo.txt</span></code>) to use the Chameleon text renderer.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2009-09-14">
<h2>1.1a2 (2009-09-14)<a class="headerlink" href="#a2-2009-09-14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id375">
<h3>特徴<a class="headerlink" href="#id375" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> directive (and the associated <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>
decorator) can now accept an &quot;attr&quot; value.  If an &quot;attr&quot; value is
supplied, it is considered a method named of the view object to be
called when the response is required.  This is typically only good
for views that are classes or instances (not so useful for
functions, as functions typically have no methods other than
<code class="docutils literal notranslate"><span class="pre">__call__</span></code>).</li>
<li>A ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> directive (and the associated <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code>
decorator) can now accept a &quot;template&quot; value.  If a &quot;template&quot; value
is supplied, and the view callable returns a dictionary, the
associated template is rendered with the dictionary as keyword
arguments.  See the section named &quot;Views That Have a <code class="docutils literal notranslate"><span class="pre">template</span></code>&quot;
in the &quot;Views&quot; narrative documentation chapter for more information.</li>
</ul>
</div>
</div>
<div class="section" id="a1-2009-09-06">
<h2>1.1a1 (2009-09-06)<a class="headerlink" href="#a1-2009-09-06" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id376">
<h3>バグの修正<a class="headerlink" href="#id376" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>&quot;tests&quot; module removed from the bfg_alchemy paster template; these
tests didn't work.</li>
<li>Bugfix: the <code class="docutils literal notranslate"><span class="pre">discriminator</span></code> for the ZCML &quot;route&quot; directive was
incorrect.  It was possible to register two routes that collided
without the system spitting out a ConfigurationConflictError at
startup time.</li>
</ul>
</div>
<div class="section" id="id377">
<h3>特徴<a class="headerlink" href="#id377" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Feature addition: view predicates.  These are exposed as the
<code class="docutils literal notranslate"><span class="pre">request_method</span></code>, <code class="docutils literal notranslate"><span class="pre">request_param</span></code>, and <code class="docutils literal notranslate"><span class="pre">containment</span></code>
attributes of a ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> declaration, or the respective
arguments to a <code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code> decorator.  View predicates can be used
to register a view for a more precise set of environment parameters
than was previously possible.  For example, you can register two
views with the same <code class="docutils literal notranslate"><span class="pre">name</span></code> with different <code class="docutils literal notranslate"><span class="pre">request_param</span></code>
attributes.  If the <code class="docutils literal notranslate"><span class="pre">request.params</span></code> dict contains 'foo'
(request_param=&quot;foo&quot;), one view might be called; if it contains
'bar' (request_param=&quot;bar&quot;), another view might be called.
<code class="docutils literal notranslate"><span class="pre">request_param</span></code> can also name a key/value pair ala <code class="docutils literal notranslate"><span class="pre">foo=123</span></code>.
This will match only when the <code class="docutils literal notranslate"><span class="pre">foo</span></code> key is in the request.params
dict and it has the value '123'.  This particular example makes it
possible to write separate view functions for different form
submissions.  The other predicates, <code class="docutils literal notranslate"><span class="pre">containment</span></code> and
<code class="docutils literal notranslate"><span class="pre">request_method</span></code> work similarly.  <code class="docutils literal notranslate"><span class="pre">containment</span></code> is a view
predicate that will match only when the context's graph lineage has
an object possessing a particular class or interface, for example.
<code class="docutils literal notranslate"><span class="pre">request_method</span></code> is a view predicate that will match when the HTTP
<code class="docutils literal notranslate"><span class="pre">REQUEST_METHOD</span></code> equals some string (eg. 'POST').</li>
<li>The <code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code> decorator now accepts three additional arguments:
<code class="docutils literal notranslate"><span class="pre">request_method</span></code>, <code class="docutils literal notranslate"><span class="pre">request_param</span></code>, and <code class="docutils literal notranslate"><span class="pre">containment</span></code>.
<code class="docutils literal notranslate"><span class="pre">request_method</span></code> is used when you'd like the view to match only a
request with a particular HTTP <code class="docutils literal notranslate"><span class="pre">REQUEST_METHOD</span></code>; a string naming
the <code class="docutils literal notranslate"><span class="pre">REQUEST_METHOD</span></code> can also be supplied as <code class="docutils literal notranslate"><span class="pre">request_type</span></code> for
backwards compatibility.  <code class="docutils literal notranslate"><span class="pre">request_param</span></code> is used when you'd like
a view to match only a request that contains a particular
<code class="docutils literal notranslate"><span class="pre">request.params</span></code> key (with or without a value).  <code class="docutils literal notranslate"><span class="pre">containment</span></code>
is used when you'd like to match a request that has a context that
has some class or interface in its graph lineage.  These are
collectively known as &quot;view predicates&quot;.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive now honors <code class="docutils literal notranslate"><span class="pre">view_request_method</span></code>,
<code class="docutils literal notranslate"><span class="pre">view_request_param</span></code> and <code class="docutils literal notranslate"><span class="pre">view_containment</span></code> attributes, which
pass along these values to the associated view if any is provided.
Additionally, the <code class="docutils literal notranslate"><span class="pre">request_type</span></code> attribute can now be spelled as
<code class="docutils literal notranslate"><span class="pre">view_request_type</span></code>, and <code class="docutils literal notranslate"><span class="pre">permission</span></code> can be spelled as
<code class="docutils literal notranslate"><span class="pre">view_permission</span></code>.  Any attribute which starts with <code class="docutils literal notranslate"><span class="pre">view_</span></code> can
now be spelled without the <code class="docutils literal notranslate"><span class="pre">view_</span></code> prefix, so <code class="docutils literal notranslate"><span class="pre">view_for</span></code> can be
spelled as <code class="docutils literal notranslate"><span class="pre">for</span></code> now, etc.  Both forms are documented in the
urldispatch narraitve documentation chapter.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">request_param</span></code> ZCML view directive attribute (and its
<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator cousin) can now specify both a key and a
value.  For example, <code class="docutils literal notranslate"><span class="pre">request_param=&quot;foo=123&quot;</span></code> means that the foo
key must have a value of <code class="docutils literal notranslate"><span class="pre">123</span></code> for the view to &quot;match&quot;.</li>
<li>Allow <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.find_interface</span></code> API to use a class
object as the argument to compare against the <code class="docutils literal notranslate"><span class="pre">model</span></code> passed in.
This means you can now do <code class="docutils literal notranslate"><span class="pre">find_interface(model,</span> <span class="pre">SomeClass)</span></code> and
the first object which is found in the lineage which has
<code class="docutils literal notranslate"><span class="pre">SomeClass</span></code> as its class (or the first object found which has
<code class="docutils literal notranslate"><span class="pre">SomeClass</span></code> as any of its superclasses) will be returned.</li>
<li>Added <code class="docutils literal notranslate"><span class="pre">static</span></code> ZCML directive which registers a route for a view
that serves up files in a directory.  See the &quot;Views&quot; narrative
documentation chapter's &quot;Serving Static Resources Using a ZCML
Directive&quot; section for more information.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.static</span></code> class now accepts a string as its
first argument (&quot;root_dir&quot;) that represents a package-relative name
e.g. <code class="docutils literal notranslate"><span class="pre">somepackage:foo/bar/static</span></code>.  This is now the preferred
mechanism for spelling package-relative static paths using this
class.  A <code class="docutils literal notranslate"><span class="pre">package_name</span></code> keyword argument has been left around for
backwards compatibility.  If it is supplied, it will be honored.</li>
<li>The API <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerView</span></code> now takes a
<code class="docutils literal notranslate"><span class="pre">permission</span></code> argument.  Use this instead of using
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerViewPermission</span></code>.</li>
<li>The ordering of route declarations vs. the ordering of view
declarations that use a &quot;route_name&quot; in ZCML no longer matters.
Previously it had been impossible to use a route_name from a route
that had not yet been defined in ZCML (order-wise) within a &quot;view&quot;
declaration.</li>
<li>The repoze.bfg router now catches both
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.Unauthorized</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.NotFound</span></code> exceptions while rendering a view.
When the router catches an <code class="docutils literal notranslate"><span class="pre">Unauthorized</span></code>, it returns the
registered forbidden view.  When the router catches a <code class="docutils literal notranslate"><span class="pre">NotFound</span></code>,
it returns the registered notfound view.</li>
</ul>
</div>
<div class="section" id="id378">
<h3>内部<a class="headerlink" href="#id378" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Change urldispatch internals: Route object is now constructed using
a path, a name, and a factory instead of a name, a matcher, a
generator, and a factory.</li>
<li>Move (non-API) default_view, default_forbidden_view, and
default_notfound_view functions into the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view</span></code> module
(moved from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router</span></code>).</li>
<li>Removed ViewPermissionFactory from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security</span></code>.  View
permission checking is now done by registering and looking up an
ISecuredView.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">static</span></code> ZCML directive now uses a custom root factory when
constructing a route.</li>
<li>The interface <code class="docutils literal notranslate"><span class="pre">IRequestFactories</span></code> was removed from the
repoze.bfg.interfaces module.  This interface was never an API.</li>
<li>The function named <code class="docutils literal notranslate"><span class="pre">named_request_factories</span></code> and the data
structure named <code class="docutils literal notranslate"><span class="pre">DEFAULT_REQUEST_FACTORIES</span></code> have been removed from
the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request</span></code> module.  These were never APIs.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">IViewPermissionFactory</span></code> interface has been removed.  This was
never an API.</li>
</ul>
</div>
<div class="section" id="id379">
<h3>ドキュメンテーション<a class="headerlink" href="#id379" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Request-only-convention examples in the &quot;Views&quot; narrative
documentation were broken.</li>
<li>Fixed documentation bugs related to forget and remember in security API
docs.</li>
<li>Fixed documentation for <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.static</span></code> (in narrative
<code class="docutils literal notranslate"><span class="pre">Views</span></code> chapter).</li>
</ul>
</div>
<div class="section" id="id380">
<h3>廃止<a class="headerlink" href="#id380" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The API <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerViewPermission</span></code> has been
deprecated.</li>
</ul>
</div>
<div class="section" id="id381">
<h3>後方の非互換性<a class="headerlink" href="#id381" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The interfaces <code class="docutils literal notranslate"><span class="pre">IPOSTRequest</span></code>, <code class="docutils literal notranslate"><span class="pre">IGETRequest</span></code>, <code class="docutils literal notranslate"><span class="pre">IPUTRequest</span></code>,
<code class="docutils literal notranslate"><span class="pre">IDELETERequest</span></code>, and <code class="docutils literal notranslate"><span class="pre">IHEADRequest</span></code> have been removed from the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code> module.  These were not documented as APIs
post-1.0.  Instead of using one of these, use a <code class="docutils literal notranslate"><span class="pre">request_method</span></code>
ZCML attribute or <code class="docutils literal notranslate"><span class="pre">request_method</span></code> bfg_view decorator parameter
containing an HTTP method name (one of <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>,
<code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>) instead of one of these interfaces if you were
using one explicitly.  Passing a string in the set (<code class="docutils literal notranslate"><span class="pre">GET</span></code>,
<code class="docutils literal notranslate"><span class="pre">HEAD</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>) as a <code class="docutils literal notranslate"><span class="pre">request_type</span></code>
argument will work too.  Rationale: instead of relying on interfaces
attached to the request object, BFG now uses a &quot;view predicate&quot; to
determine the request type.</p>
</li>
<li><p class="first">Views registered without the help of the ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> directive are
now responsible for performing their own authorization checking.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">registry_manager</span></code> backwards compatibility alias importable
from &quot;repoze.bfg.registry&quot;, deprecated since repoze.bfg 0.9 has been
removed.  If you are tring to use the registry manager within a
debug script of your own, use a combination of the
&quot;repoze.bfg.paster.get_app&quot; and &quot;repoze.bfg.scripting.get_root&quot; APIs
instead.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">INotFoundAppFactory</span></code> interface has been removed; it has
been deprecated since repoze.bfg 0.9.  If you have something like
the following in your <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">utility</span> <span class="n">provides</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.INotFoundAppFactory&quot;</span>
         <span class="n">component</span><span class="o">=</span><span class="s2">&quot;helloworld.factories.notfound_app_factory&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Replace it with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">notfound</span>
    <span class="n">view</span><span class="o">=</span><span class="s2">&quot;helloworld.views.notfound_view&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>See &quot;Changing the Not Found View&quot; in the &quot;Hooks&quot; chapter of the
documentation for more information.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">IUnauthorizedAppFactory</span></code> interface has been removed; it has
been deprecated since repoze.bfg 0.9.  If you have something like
the following in your <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">utility</span> <span class="n">provides</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.IUnauthorizedAppFactory&quot;</span>
         <span class="n">component</span><span class="o">=</span><span class="s2">&quot;helloworld.factories.unauthorized_app_factory&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Replace it with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">forbidden</span>
    <span class="n">view</span><span class="o">=</span><span class="s2">&quot;helloworld.views.forbidden_view&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>See &quot;Changing the Forbidden View&quot; in the &quot;Hooks&quot; chapter of the
documentation for more information.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ISecurityPolicy</span></code>-based security policies, deprecated since
repoze.bfg 0.9, have been removed.  If you have something like this
in your <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code>, it will no longer work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">utility</span>
  <span class="n">provides</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.ISecurityPolicy&quot;</span>
  <span class="n">factory</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.security.RemoteUserInheritingACLSecurityPolicy&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>If ZCML like the above exists in your application, you will receive
an error at startup time.  Instead of the above, you'll need
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">remoteuserauthenticationpolicy</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">aclauthorizationpolicy</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>This is just an example.  See the &quot;Security&quot; chapter of the
repoze.bfg documentation for more information about configuring
security policies.</p>
</li>
<li><p class="first">Custom ZCML directives which register an authentication or
authorization policy (ala &quot;authtktauthenticationpolicy&quot; or
&quot;aclauthorizationpolicy&quot;) should register the policy &quot;eagerly&quot; in
the ZCML directive instead of from within a ZCML action.  If an
authentication or authorization policy is not found in the component
registry by the view machinery during deferred ZCML processing, view
security will not work as expected.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id382">
<h2>1.0.1 (2009-07-22)<a class="headerlink" href="#id382" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Added support for <code class="docutils literal notranslate"><span class="pre">has_resource</span></code>, <code class="docutils literal notranslate"><span class="pre">resource_isdir</span></code>, and
<code class="docutils literal notranslate"><span class="pre">resource_listdir</span></code> to the resource &quot;OverrideProvider&quot;; this fixes
a bug with a symptom that a file could not be overridden in a
resource directory unless a file with the same name existed in the
original directory being overridden.</li>
<li>Fixed documentation bug showing invalid test for values from the
<code class="docutils literal notranslate"><span class="pre">matchdict</span></code>:  they are stored as attributes of the <code class="docutils literal notranslate"><span class="pre">Article</span></code>, rather
than subitems.</li>
<li>Fixed documentation bug showing wrong environment key for the <code class="docutils literal notranslate"><span class="pre">matchdict</span></code>
produced by the matching route.</li>
<li>Added a workaround for a bug in Python 2.6, 2.6.1, and 2.6.2 having
to do with a recursion error in the mimetypes module when trying to
serve static files from Paste's FileApp:
<a class="reference external" href="http://bugs.python.org/issue5853">http://bugs.python.org/issue5853</a>.  Symptom: File
&quot;/usr/lib/python2.6/mimetypes.py&quot;, line 244, in guess_type return
guess_type(url, strict) RuntimeError: maximum recursion depth
exceeded.  Thanks to Armin Ronacher for identifying the symptom and
pointing out a fix.</li>
<li>Minor edits to tutorials for accuracy based on feedback.</li>
<li>Declared Paste and PasteDeploy dependencies.</li>
</ul>
</div>
<div class="section" id="id383">
<h2>1.0 (2009-07-05)<a class="headerlink" href="#id383" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Retested and added some content to GAE tutorial.</li>
<li>Edited &quot;Extending&quot; narrative docs chapter.</li>
<li>Added &quot;Deleting the Database&quot; section to the &quot;Defining Models&quot;
chapter of the traversal wiki tutorial.</li>
<li>Spell checking of narratives and tutorials.</li>
</ul>
</div>
<div class="section" id="b2-2009-07-03">
<h2>1.0b2 (2009-07-03)<a class="headerlink" href="#b2-2009-07-03" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">remoteuserauthenticationpolicy</span></code> ZCML directive didn't work
without an <code class="docutils literal notranslate"><span class="pre">environ_key</span></code> directive (didn't match docs).</li>
<li>Fix <code class="docutils literal notranslate"><span class="pre">configure_zcml</span></code> filespec check on Windows.  Previously if an
absolute filesystem path including a drive letter was passed as
<code class="docutils literal notranslate"><span class="pre">filename</span></code> (or as <code class="docutils literal notranslate"><span class="pre">configure_zcml</span></code> in the options dict) to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code>, it would be treated as a
package:resource_name specification.</li>
<li>Fix inaccuracies and import errors in bfgwiki (traversal+ZODB) and
bfgwiki2 (urldispatch+SA) tutorials.</li>
<li>Use bfgsite index for all tutorial setup.cfg files.</li>
<li>Full documentation grammar/style/spelling audit.</li>
</ul>
</div>
<div class="section" id="b1-2009-07-02">
<h2>1.0b1 (2009-07-02)<a class="headerlink" href="#b1-2009-07-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id384">
<h3>特徴<a class="headerlink" href="#id384" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Allow a Paste config file (<code class="docutils literal notranslate"><span class="pre">configure_zcml</span></code>) value or an
environment variable (<code class="docutils literal notranslate"><span class="pre">BFG_CONFIGURE_ZCML</span></code>) to name a ZCML file
(optionally package-relative) that will be used to bootstrap the
application.  Previously, the integrator could not influence which
ZCML file was used to do the boostrapping (only the original
application developer could do so).</li>
</ul>
</div>
<div class="section" id="id385">
<h3>ドキュメンテーション<a class="headerlink" href="#id385" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a &quot;Resources&quot; chapter to the narrative documentation which
explains how to override resources within one package from another
package.</li>
<li>Added an &quot;Extending&quot; chapter to the narrative documentation which
explains how to extend or modify an existing BFG application using
another Python package and ZCML.</li>
</ul>
</div>
</div>
<div class="section" id="a9-2009-07-01">
<h2>1.0a9 (2009-07-01)<a class="headerlink" href="#a9-2009-07-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id386">
<h3>特徴<a class="headerlink" href="#id386" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Make it possible to pass strings in the form
&quot;package_name:relative/path&quot; to APIs like <code class="docutils literal notranslate"><span class="pre">render_template</span></code>,
<code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code>, and <code class="docutils literal notranslate"><span class="pre">get_template</span></code>.  Sometimes
the package in which a caller lives is a direct namespace package,
so the module which is returned is semi-useless for navigating from.
In this way, the caller can control the horizontal and vertical of
where things get looked up from.</li>
</ul>
</div>
</div>
<div class="section" id="a8-2009-07-01">
<h2>1.0a8 (2009-07-01)<a class="headerlink" href="#a8-2009-07-01" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id387">
<h3>廃止<a class="headerlink" href="#id387" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Deprecate the <code class="docutils literal notranslate"><span class="pre">authentication_policy</span></code> and <code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code>
arguments to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code>.  Instead, developers
should use the various authentication policy ZCML directives
(<code class="docutils literal notranslate"><span class="pre">repozewho1authenticationpolicy</span></code>,
<code class="docutils literal notranslate"><span class="pre">remoteuserauthenticationpolicy</span></code> and
<code class="docutils literal notranslate"><span class="pre">authtktauthenticationpolicy</span></code>) and the <cite>aclauthorizationpolicy`</cite>
authorization policy directive as described in the changes to the
&quot;Security&quot; narrative documenation chapter and the wiki tutorials.</li>
</ul>
</div>
<div class="section" id="id388">
<h3>特徴<a class="headerlink" href="#id388" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add three new ZCML directives which configure authentication
policies:<ul>
<li><code class="docutils literal notranslate"><span class="pre">repozewho1authenticationpolicy</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">remoteuserauthenticationpolicy</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">authtktauthenticationpolicy</span></code></li>
</ul>
</li>
<li>Add a new ZCML directive which configures an ACL authorization
policy named <code class="docutils literal notranslate"><span class="pre">aclauthorizationpolicy</span></code>.</li>
</ul>
</div>
<div class="section" id="id389">
<h3>バグの修正<a class="headerlink" href="#id389" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Bug fix: when a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.resource.PackageOverrides</span></code> class was
instantiated, and the package it was overriding already had a
<code class="docutils literal notranslate"><span class="pre">__loader__</span></code> attribute, it would fail at startup time, even if the
<code class="docutils literal notranslate"><span class="pre">__loader__</span></code> attribute was another PackageOverrides instance.  We
now replace any <code class="docutils literal notranslate"><span class="pre">__loader__</span></code> that is also a PackageOverrides
instance.  Symptom: <code class="docutils literal notranslate"><span class="pre">ConfigurationExecutionError:</span> <span class="pre">&lt;type</span>
<span class="pre">'exceptions.TypeError'&gt;:</span> <span class="pre">Package</span> <span class="pre">&lt;module</span> <span class="pre">'karl.views'</span> <span class="pre">from</span>
<span class="pre">'/Users/chrism/projects/osi/bfgenv/src/karl/karl/views/__init__.pyc'&gt;</span>
<span class="pre">already</span> <span class="pre">has</span> <span class="pre">a</span> <span class="pre">__loader__</span> <span class="pre">(probably</span> <span class="pre">a</span> <span class="pre">module</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">zipped</span> <span class="pre">egg)</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="a7-2009-06-30">
<h2>1.0a7 (2009-06-30)<a class="headerlink" href="#a7-2009-06-30" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id390">
<h3>特徴<a class="headerlink" href="#id390" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">reload_resources</span></code> configuration file setting (aka the
<code class="docutils literal notranslate"><span class="pre">BFG_RELOAD_RESOURCES</span></code> environment variable).  When this is set to
true, the server never needs to be restarted when moving files
between directory resource overrides (esp. for templates currently).</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">reload_all</span></code> configuration file setting (aka the
<code class="docutils literal notranslate"><span class="pre">BFG_RELOAD_ALL</span></code> environment variable) that implies both
<code class="docutils literal notranslate"><span class="pre">reload_resources</span></code> and <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">static</span></code> helper view class now uses a <code class="docutils literal notranslate"><span class="pre">PackageURLParser</span></code> in
order to allow for the overriding of static resources (CSS / logo
files, etc) using the <code class="docutils literal notranslate"><span class="pre">resource</span></code> ZCML directive.  The
<code class="docutils literal notranslate"><span class="pre">PackageURLParser</span></code> class was added to a (new) <code class="docutils literal notranslate"><span class="pre">static</span></code> module in
BFG; it is a subclass of the <code class="docutils literal notranslate"><span class="pre">StaticURLParser</span></code> class in
<code class="docutils literal notranslate"><span class="pre">paste.urlparser</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.templating.renderer_from_cache</span></code> function now
checks for the <code class="docutils literal notranslate"><span class="pre">reload_resources</span></code> setting; if it's true, it does
not register a template renderer (it won't use the registry as a
template renderer cache).</li>
</ul>
</div>
<div class="section" id="id391">
<h3>ドキュメンテーション<a class="headerlink" href="#id391" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> to the glossary.</li>
<li>Update the &quot;Environment&quot; docs to note the existence of
<code class="docutils literal notranslate"><span class="pre">reload_resources</span></code> and <code class="docutils literal notranslate"><span class="pre">reload_all</span></code>.</li>
<li>Updated the <code class="docutils literal notranslate"><span class="pre">bfg_alchemy</span></code> paster template to include two views:
the view on the root shows a list of links to records;  the view on
a record shows the details for that object.</li>
</ul>
</div>
<div class="section" id="id392">
<h3>内部<a class="headerlink" href="#id392" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Use a colon instead of a tab as the separator between package name
and relpath to form the &quot;spec&quot; when register a ITemplateRenderer.</li>
<li>Register a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.resource.OverrideProvider</span></code> as a
pkg_resources provider only for modules which are known to have
overrides, instead of globally, when a &lt;resource&gt; directive is used
(performance).</li>
</ul>
</div>
</div>
<div class="section" id="a6-2009-06-29">
<h2>1.0a6 (2009-06-29)<a class="headerlink" href="#a6-2009-06-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id393">
<h3>バグの修正<a class="headerlink" href="#id393" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Use <code class="docutils literal notranslate"><span class="pre">caller_package</span></code> function instead of <code class="docutils literal notranslate"><span class="pre">caller_module</span></code>
function within <code class="docutils literal notranslate"><span class="pre">templating</span></code> to avoid needing to name the caller
module in resource overrides (actually match docs).</li>
<li>Make it possible to override templates stored directly in a module
with templates in a subdirectory of the same module, stored directly
within another module, or stored in a subdirectory of another module
(actually match docs).</li>
</ul>
</div>
</div>
<div class="section" id="a5-2009-06-28">
<h2>1.0a5 (2009-06-28)<a class="headerlink" href="#a5-2009-06-28" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id394">
<h3>特徴<a class="headerlink" href="#id394" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">A new ZCML directive exists named &quot;resource&quot;.  This ZCML directive
allows you to override Chameleon templates within a package (both
directories full of templates and individual template files) with
other templates in the same package or within another package.  This
allows you to &quot;fake out&quot; a view's use of a template, causing it to
retrieve a different template than the one actually named by a
relative path to a call like
<code class="docutils literal notranslate"><span class="pre">render_template_to_response('templates/mytemplate.pt')</span></code>.  For
example, you can override a template file by doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resource</span>
  <span class="n">to_override</span><span class="o">=</span><span class="s2">&quot;some.package:templates/mytemplate.pt&quot;</span>
  <span class="n">override_with</span><span class="o">=</span><span class="s2">&quot;another.package:othertemplates/anothertemplate.pt&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>The string passed to &quot;to_override&quot; and &quot;override_with&quot; is named a
&quot;specification&quot;.  The colon separator in a specification separates
the package name from a package-relative directory name.  The colon
and the following relative path are optional.  If they are not
specified, the override attempts to resolve every lookup into a
package from the directory of another package.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resource</span>
  <span class="n">to_override</span><span class="o">=</span><span class="s2">&quot;some.package&quot;</span>
  <span class="n">override_with</span><span class="o">=</span><span class="s2">&quot;another.package&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Individual subdirectories within a package can also be overridden:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resource</span>
  <span class="n">to_override</span><span class="o">=</span><span class="s2">&quot;some.package:templates/&quot;</span>
  <span class="n">override_with</span><span class="o">=</span><span class="s2">&quot;another.package:othertemplates/&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>If you wish to override a directory with another directory, you must
make sure to attach the slash to the end of both the <code class="docutils literal notranslate"><span class="pre">to_override</span></code>
specification and the <code class="docutils literal notranslate"><span class="pre">override_with</span></code> specification.  If you fail
to attach a slash to the end of a specification that points a
directory, you will get unexpected results.  You cannot override a
directory specification with a file specification, and vice versa (a
startup error will occur if you try).</p>
<p>You cannot override a resource with itself (a startup error will
occur if you try).</p>
<p>Only individual <em>package</em> resources may be overridden.  Overrides
will not traverse through subpackages within an overridden package.
This means that if you want to override resources for both
<code class="docutils literal notranslate"><span class="pre">some.package:templates</span></code>, and <code class="docutils literal notranslate"><span class="pre">some.package.views:templates</span></code>,
you will need to register two overrides.</p>
<p>The package name in a specification may start with a dot, meaning
that the package is relative to the package in which the ZCML file
resides.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resource</span>
  <span class="n">to_override</span><span class="o">=</span><span class="s2">&quot;.subpackage:templates/&quot;</span>
  <span class="n">override_with</span><span class="o">=</span><span class="s2">&quot;another.package:templates/&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Overrides for the same <code class="docutils literal notranslate"><span class="pre">to_overrides</span></code> specification can be named
multiple times within ZCML.  Each <code class="docutils literal notranslate"><span class="pre">override_with</span></code> path will be
consulted in the order defined within ZCML, forming an override
search path.</p>
<p>Resource overrides can actually override resources other than
templates.  Any software which uses the <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code>
<code class="docutils literal notranslate"><span class="pre">get_resource_filename</span></code>, <code class="docutils literal notranslate"><span class="pre">get_resource_stream</span></code> or
<code class="docutils literal notranslate"><span class="pre">get_resource_string</span></code> APIs will obtain an overridden file when an
override is used.  However, the only built-in facility which uses
the <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> API within BFG is the templating stuff, so we
only call out template overrides here.</p>
</li>
<li><p class="first">Use the <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> API to locate template filenames instead
of dead-reckoning using the <code class="docutils literal notranslate"><span class="pre">os.path</span></code> module.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.templating</span></code> module now uses <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> to
locate and register template files instead of using an absolute
path name.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a4-2009-06-25">
<h2>1.0a4 (2009-06-25)<a class="headerlink" href="#a4-2009-06-25" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id395">
<h3>特徴<a class="headerlink" href="#id395" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Cause <code class="docutils literal notranslate"><span class="pre">:segment</span></code> matches in route paths to put a Unicode-decoded
and URL-dequoted value in the matchdict for the value matched.
Previously a non-decoded non-URL-dequoted string was placed in the
matchdict as the value.</li>
<li>Cause <code class="docutils literal notranslate"><span class="pre">*remainder</span></code> matches in route paths to put a <em>tuple</em> in the
matchdict dictionary in order to be able to present Unicode-decoded
and URL-dequoted values for the traversal path.  Previously a
non-decoded non-URL-dequoted string was placed in the matchdict as
the value.</li>
<li>Add optional <code class="docutils literal notranslate"><span class="pre">max_age</span></code> keyword value to the <code class="docutils literal notranslate"><span class="pre">remember</span></code> method of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.authentication.AuthTktAuthenticationPolicy</span></code>; if this
value is passed to <code class="docutils literal notranslate"><span class="pre">remember</span></code>, the generated cookie will have a
corresponding Max-Age value.</li>
</ul>
</div>
<div class="section" id="id396">
<h3>ドキュメンテーション<a class="headerlink" href="#id396" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add information to the URL Dispatch narrative documentation about
path pattern matching syntax.</li>
</ul>
</div>
<div class="section" id="id397">
<h3>バグの修正<a class="headerlink" href="#id397" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Make <code class="docutils literal notranslate"><span class="pre">route_url</span></code> URL-quote segment replacements during generation.
Remainder segments are not quoted.</li>
</ul>
</div>
</div>
<div class="section" id="a3-2009-06-24">
<h2>1.0a3 (2009-06-24)<a class="headerlink" href="#a3-2009-06-24" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="implementation-changes">
<h3>Implementation Changes<a class="headerlink" href="#implementation-changes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> no longer relies on the Routes package to interpret
URL paths.  All known existing <code class="docutils literal notranslate"><span class="pre">path</span></code> patterns will continue to
work with the reimplemented logic, which lives in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch</span></code>.  <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> ZCML directives which use
certain attributes (uncommon ones) may not work (see &quot;Backwards
Incompatibilities&quot; below).</li>
</ul>
</div>
<div class="section" id="id398">
<h3>バグの修正<a class="headerlink" href="#id398" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">model_url</span></code> when passed a request that was generated as a result
of a route match would fail in a call to <code class="docutils literal notranslate"><span class="pre">route.generate</span></code>.</li>
<li>BFG-on-GAE didn't work due to a corner case bug in the fallback
Python implementation of <code class="docutils literal notranslate"><span class="pre">threading.local</span></code> (symptom:
&quot;Initialization arguments are not supported&quot;).  Thanks to Michael
Bernstein for the bug report.</li>
</ul>
</div>
<div class="section" id="id399">
<h3>ドキュメンテーション<a class="headerlink" href="#id399" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a &quot;corner case&quot; explanation to the &quot;Hybrid Apps&quot; chapter
explaining what to do when &quot;the wrong&quot; view is matched.</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> API in tutorials rather than Routes
<code class="docutils literal notranslate"><span class="pre">url_for</span></code> API.</li>
</ul>
</div>
<div class="section" id="id400">
<h3>特徴<a class="headerlink" href="#id400" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> API.  This API allows you to
generate URLs based on <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> declarations.  See the URL
Dispatch narrative chapter and the &quot;repoze.bfg.url&quot; module API
documentation for more information.</li>
</ul>
</div>
<div class="section" id="id401">
<h3>後方の非互換性<a class="headerlink" href="#id401" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>As a result of disusing Routes, using the Routes <code class="docutils literal notranslate"><span class="pre">url_for</span></code> API
inside a BFG application (as was suggested by previous iterations of
tutorials) will no longer work.  Use the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.route_url</span></code> method instead.</li>
<li>The following attributes on the <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> ZCML directive no longer
work: <code class="docutils literal notranslate"><span class="pre">encoding</span></code>, <code class="docutils literal notranslate"><span class="pre">static</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code>, <code class="docutils literal notranslate"><span class="pre">condition_method</span></code>,
<code class="docutils literal notranslate"><span class="pre">condition_subdomain</span></code>, <code class="docutils literal notranslate"><span class="pre">condition_function</span></code>, <code class="docutils literal notranslate"><span class="pre">explicit</span></code>, or
<code class="docutils literal notranslate"><span class="pre">subdomains</span></code>.  These were all Routes features.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> ZCML directive no longer supports the
<code class="docutils literal notranslate"><span class="pre">&lt;requirement&gt;</span></code> subdirective.  This was a Routes feature.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2009-06-23">
<h2>1.0a2 (2009-06-23)<a class="headerlink" href="#a2-2009-06-23" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id402">
<h3>バグの修正<a class="headerlink" href="#id402" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code> paster template app tests failed due to a
mismatch between test and view signatures.</li>
</ul>
</div>
<div class="section" id="id403">
<h3>特徴<a class="headerlink" href="#id403" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">view_for</span></code> attribute to the <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive.  This
attribute should refer to an interface or a class (ala the <code class="docutils literal notranslate"><span class="pre">for</span></code>
attribute of the <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directive).</li>
</ul>
</div>
<div class="section" id="id404">
<h3>ドキュメンテーション<a class="headerlink" href="#id404" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Conditional documentation in installation section (&quot;how to install a
Python interpreter&quot;).</li>
</ul>
</div>
<div class="section" id="id405">
<h3>後方の非互換性<a class="headerlink" href="#id405" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">callback</span></code> argument of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.authentication</span></code>
authentication policies named <code class="docutils literal notranslate"><span class="pre">RepozeWho1AuthenticationPolicy</span></code>,
<code class="docutils literal notranslate"><span class="pre">RemoteUserAuthenticationPolicy</span></code>, and
<code class="docutils literal notranslate"><span class="pre">AuthTktAuthenticationPolicy</span></code> now must accept two positional
arguments: the orginal argument accepted by each (userid or
identity) plus a second argument, which will be the current request.
Apologies, this is required to service finding groups when there is
no &quot;global&quot; database connection.</li>
</ul>
</div>
</div>
<div class="section" id="a1-2009-06-22">
<h2>1.0a1 (2009-06-22)<a class="headerlink" href="#a1-2009-06-22" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id406">
<h3>特徴<a class="headerlink" href="#id406" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">A new ZCML directive was added named <code class="docutils literal notranslate"><span class="pre">notfound</span></code>.  This ZCML
directive can be used to name a view that should be invoked when the
request can't otherwise be resolved to a view callable.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">notfound</span>
    <span class="n">view</span><span class="o">=</span><span class="s2">&quot;helloworld.views.notfound_view&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">A new ZCML directive was added named <code class="docutils literal notranslate"><span class="pre">forbidden</span></code>.  This ZCML
directive can be used to name a view that should be invoked when a
view callable for a request is found, but cannot be invoked due to
an authorization failure.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">forbidden</span>
    <span class="n">view</span><span class="o">=</span><span class="s2">&quot;helloworld.views.forbidden_view&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Allow views to be <em>optionally</em> defined as callables that accept only
a request object, instead of both a context and a request (which
still works, and always will).  The following types work as views in
this style:</p>
<ul>
<li><p class="first">functions that accept a single argument <code class="docutils literal notranslate"><span class="pre">request</span></code>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">aview</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
</li>
<li><p class="first">new and old-style classes that have an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method that
accepts <code class="docutils literal notranslate"><span class="pre">self,</span> <span class="pre">request</span></code>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">View</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
       <span class="k">pass</span>
</pre></div>
</div>
</li>
<li><p class="first">Arbitrary callables that have a <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method that accepts
<code class="docutils literal notranslate"><span class="pre">self,</span> <span class="pre">request</span></code>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">AView</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
       <span class="k">pass</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">AView</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ul>
<p>This likely should have been the calling convention all along, as
the request has <code class="docutils literal notranslate"><span class="pre">context</span></code> as an attribute already, and with views
called as a result of URL dispatch, having the context in the
arguments is not very useful.  C'est la vie.</p>
</li>
<li><p class="first">Cache the absolute path in the caller's package globals within
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.path</span></code> to get rid of repeated (expensive) calls to
os.path.abspath.</p>
</li>
<li><p class="first">Add <code class="docutils literal notranslate"><span class="pre">reissue_time</span></code> and <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameters to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.authentication.AuthTktAuthenticationPolicy</span></code>
constructor.  If these are passed, cookies will be reset every so
often (cadged from the same change to repoze.who lately).</p>
</li>
<li><p class="first">The matchdict related to the matching of a Routes route is available
on the request as the <code class="docutils literal notranslate"><span class="pre">matchdict</span></code> attribute:
<code class="docutils literal notranslate"><span class="pre">request.matchdict</span></code>.  If no route matched, this attribute will be
None.</p>
</li>
<li><p class="first">Make 404 responses slightly cheaper by showing
<code class="docutils literal notranslate"><span class="pre">environ[&quot;PATH_INFO&quot;]</span></code> on the notfound result page rather than the
fullly computed URL.</p>
</li>
<li><p class="first">Move LRU cache implementation into a separate package
(<code class="docutils literal notranslate"><span class="pre">repoze.lru</span></code>).</p>
</li>
<li><p class="first">The concepts of traversal and URL dispatch have been unified.  It is
now possible to use the same sort of factory as both a traversal
&quot;root factory&quot; and what used to be referred to as a urldispatch
&quot;context factory&quot;.</p>
</li>
<li><p class="first">When the root factory argument (as a first argument) passed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, a <em>default</em> root factory
is used.  This is in support of using routes as &quot;root finders&quot;; it
supplants the idea that there is a default
<code class="docutils literal notranslate"><span class="pre">IRoutesContextFactory</span></code>.</p>
</li>
<li><p class="first">The <cite>view`</cite> ZCML statement and the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.bfg_view</span></code>
decorator now accept an extra argument: <code class="docutils literal notranslate"><span class="pre">route_name</span></code>.  If a
<code class="docutils literal notranslate"><span class="pre">route_name</span></code> is specified, it must match the name of a previously
defined <code class="docutils literal notranslate"><span class="pre">route</span></code> statement.  When it is specified, the view will
only be called when that route matches during a request.</p>
</li>
<li><p class="first">It is now possible to perfom traversal <em>after</em> a route has matched.
Use the pattern <code class="docutils literal notranslate"><span class="pre">*traverse</span></code> in a <code class="docutils literal notranslate"><span class="pre">&lt;route&gt;</span></code> <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute
within ZCML, and the path remainder which it matches will be used as
a traversal path.</p>
</li>
<li><p class="first">When any route defined matches, the WSGI environment will now
contain a key <code class="docutils literal notranslate"><span class="pre">bfg.routes.route</span></code> (the Route object which matched),
and a key <code class="docutils literal notranslate"><span class="pre">bfg.routes.matchdict</span></code> (the result of calling route.match).</p>
</li>
</ul>
</div>
<div class="section" id="id407">
<h3>廃止<a class="headerlink" href="#id407" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Utility registrations against
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INotFoundView</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IForbiddenView</span></code> are now deprecated.  Use
the <code class="docutils literal notranslate"><span class="pre">notfound</span></code> and <code class="docutils literal notranslate"><span class="pre">forbidden</span></code> ZCML directives instead (see the
&quot;Hooks&quot; chapter for more information).  Such registrations will
continue to work, but the notfound and forbidden directives do
&quot;extra work&quot; to ensure that the callable named by the directive can
be called by the router even if it's a class or
request-argument-only view.</li>
</ul>
</div>
<div class="section" id="removals">
<h3>Removals<a class="headerlink" href="#removals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">IRoutesContext</span></code>, <code class="docutils literal notranslate"><span class="pre">IRoutesContextFactory</span></code>, and
<code class="docutils literal notranslate"><span class="pre">IContextNotFound</span></code> interfaces were removed from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code>.  These were never APIs.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesContextNotFound</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesModelTraverser</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesContextURL</span></code> classes were removed.
These were also never APIs.</li>
</ul>
</div>
<div class="section" id="id408">
<h3>後方の非互換性<a class="headerlink" href="#id408" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Moved the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.push</span></code> module, which implemented the <code class="docutils literal notranslate"><span class="pre">pushpage</span></code>
decorator, into a separate distribution, <code class="docutils literal notranslate"><span class="pre">repoze.bfg.pushpage</span></code>.
Applications which used this decorator should continue to work after
adding that distribution to their installation requirements.</li>
<li>Changing the default request factory via an IRequestFactory utility
registration (as used to be documented in the &quot;Hooks&quot; chapter's
&quot;Changing the request factory&quot; section) is no longer supported.  The
dance to manufacture a request is complicated as a result of
unifying traversal and url dispatch, making it highly unlikely for
anyone to be able to override it properly.  For those who just want
to decorate or modify a request, use a NewRequestEvent subscriber
(see the Events chapter in the documentation).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.IRequestFactory</span></code> interface was removed.  See the
bullet above for why.</li>
<li>Routes &quot;context factories&quot; (spelled as the factory argument to a
route statement in ZCML) must now expect the WSGI environ as a
single argument rather than a set of keyword arguments.  They can
obtain the match dictionary by asking for
environ['bfg.routes.matchdict'].  This is the same set of keywords
that used to be passed to urldispatch &quot;context factories&quot; in BFG 0.9
and below.</li>
<li>Using the <code class="docutils literal notranslate"><span class="pre">&#64;zope.component.adapter</span></code> decorator on a bfg view
function no longer works.  Use the <code class="docutils literal notranslate"><span class="pre">&#64;repoze.bfg.view.bfg_view</span></code>
decorator instead to mark a function (or a class) as a view.</li>
<li>The name under which the matching route object is found in the
environ was changed from <code class="docutils literal notranslate"><span class="pre">bfg.route</span></code> to <code class="docutils literal notranslate"><span class="pre">bfg.routes.route</span></code>.</li>
<li>Finding the root is now done <em>before</em> manufacturing a request object
(and sending a new request event) within the router (it used to be
performed afterwards).</li>
<li>Adding <code class="docutils literal notranslate"><span class="pre">*path_info</span></code> to a route no longer changes the PATH_INFO for
a request that matches using URL dispatch.  This feature was only
there to service the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.wsgiapp2</span></code> decorator and it
did it wrong; use <code class="docutils literal notranslate"><span class="pre">*subpath</span></code> instead now.</li>
<li>The values of <code class="docutils literal notranslate"><span class="pre">subpath</span></code>, <code class="docutils literal notranslate"><span class="pre">traversed</span></code>, and <code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code>
attached to the request object are always now tuples instead of
lists (performance).</li>
</ul>
</div>
<div class="section" id="id409">
<h3>バグの修正<a class="headerlink" href="#id409" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">bfg_alchemy</span></code> Paster template named &quot;repoze.tm&quot; in its
pipeline rather than &quot;repoze.tm2&quot;, causing the startup to fail.</li>
<li>Move BBB logic for registering an
IAuthenticationPolicy/IForbiddenView/INotFoundView based on older
concepts from the router module's <code class="docutils literal notranslate"><span class="pre">make_app</span></code> function into the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.zcml.zcml_configure</span></code> callable, to service
compatibility with scripts that use &quot;zope.configuration.xmlconfig&quot;
(replace with <code class="docutils literal notranslate"><span class="pre">repoze.bfg.zml.zcml_configure</span></code> as necessary to get
BBB logic)</li>
</ul>
</div>
<div class="section" id="id410">
<h3>ドキュメンテーション<a class="headerlink" href="#id410" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add interface docs related to how to create authentication policies
and authorization policies to the &quot;Security&quot; narrative chapter.</li>
<li>Added a (fairly sad) &quot;Combining Traversal and URL Dispatch&quot; chapter
to the narrative documentation.  This explains the usage of
<code class="docutils literal notranslate"><span class="pre">*traverse</span></code> and <code class="docutils literal notranslate"><span class="pre">*subpath</span></code> in routes URL patters.</li>
<li>A &quot;router&quot; chapter explaining the request/response lifecycle at a
high level was added.</li>
<li>Replaced all mentions and explanations of a routes &quot;context factory&quot;
with equivalent explanations of a &quot;root factory&quot; (context factories
have been disused).</li>
<li>Updated Routes bfgwiki2 tutorial to reflect the fact that context
factories are now no longer used.</li>
</ul>
</div>
</div>
<div class="section" id="id411">
<h2>0.9.1 (2009-06-02)<a class="headerlink" href="#id411" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id412">
<h3>特徴<a class="headerlink" href="#id412" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add API named <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_settings</span></code> which retrieves a
derivation of values passed as the <code class="docutils literal notranslate"><span class="pre">options</span></code> value of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code>.  This API should be preferred
instead of using getUtility(ISettings).  I added a new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings</span></code> API document as well.</li>
</ul>
</div>
<div class="section" id="id413">
<h3>バグの修正<a class="headerlink" href="#id413" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Restored missing entry point declaration for bfg_alchemy paster
template, which was accidentally removed in 0.9.</li>
</ul>
</div>
<div class="section" id="id414">
<h3>ドキュメンテーション<a class="headerlink" href="#id414" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix a reference to <code class="docutils literal notranslate"><span class="pre">wsgiapp</span></code> in the <code class="docutils literal notranslate"><span class="pre">wsgiapp2</span></code> API documentation
within the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi</span></code> module.</li>
</ul>
</div>
<div class="section" id="api-removals">
<h3>API Removals<a class="headerlink" href="#api-removals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.locate</span></code> API was removed: it didn't do
enough to be very helpful and had a misleading name.</li>
</ul>
</div>
</div>
<div class="section" id="id415">
<h2>0.9 (2009-06-01)<a class="headerlink" href="#id415" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id416">
<h3>バグの修正<a class="headerlink" href="#id416" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>It was not possible to register a custom <code class="docutils literal notranslate"><span class="pre">IRoutesContextFactory</span></code>
for use as a default context factory as documented in the &quot;Hooks&quot;
chapter.</li>
</ul>
</div>
<div class="section" id="id417">
<h3>特徴<a class="headerlink" href="#id417" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">request_type</span></code> argument of ZCML <code class="docutils literal notranslate"><span class="pre">view</span></code> declarations and
<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorators can now be one of the strings <code class="docutils literal notranslate"><span class="pre">GET</span></code>,
<code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>, or <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> instead of a reference to
the respective interface type imported from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive now accepts <code class="docutils literal notranslate"><span class="pre">request_type</span></code> as an
alias for its <code class="docutils literal notranslate"><span class="pre">condition_method</span></code> argument for symmetry with the
<code class="docutils literal notranslate"><span class="pre">view</span></code> directive.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">bfg_routesalchemy</span></code> paster template now provides a unit test
and actually uses the database during a view rendering.</li>
</ul>
</div>
<div class="section" id="id418">
<h3>Removals<a class="headerlink" href="#id418" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove <code class="docutils literal notranslate"><span class="pre">repoze.bfg.threadlocal.setManager</span></code>.  It was only used in
unit tests.</li>
<li>Remove <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.HTTPException</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.NotFound</span></code>, and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.Unauthorized</span></code>.
These classes were disused with the introduction of the
<code class="docutils literal notranslate"><span class="pre">IUnauthorizedView</span></code> and <code class="docutils literal notranslate"><span class="pre">INotFoundView</span></code> machinery.</li>
</ul>
</div>
<div class="section" id="id419">
<h3>ドキュメンテーション<a class="headerlink" href="#id419" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add description to narrative templating chapter about how to use
Chameleon text templates.</li>
<li>Changed Views narrative chapter to use method strings rather than
interface types, and moved advanced interface type usage to Events
narrative chapter.</li>
<li>Added a Routes+SQLAlchemy wiki tutorial.</li>
</ul>
</div>
</div>
<div class="section" id="a8-2009-05-31">
<h2>0.9a8 (2009-05-31)<a class="headerlink" href="#a8-2009-05-31" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id420">
<h3>特徴<a class="headerlink" href="#id420" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>It is now possible to register a custom
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INotFoundView</span></code> for a given application.
This feature replaces the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INotFoundAppFactory</span></code> feature previously
described in the Hooks chapter.  The INotFoundView will be called
when the framework detects that a view lookup done as a result of a
request fails; it should accept a context object and a request
object; it should return an IResponse object (a webob response,
basically).  See the Hooks narrative chapter of the BFG docs for
more info.</li>
<li>The error presented when a view invoked by the router returns a
non-response object now includes the view's name for troubleshooting
purposes.</li>
</ul>
</div>
<div class="section" id="id421">
<h3>バグの修正<a class="headerlink" href="#id421" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A &quot;new response&quot; event is emitted for forbidden and notfound views.</li>
</ul>
</div>
<div class="section" id="id422">
<h3>廃止<a class="headerlink" href="#id422" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INotFoundAppFactory</span></code> interface has been
deprecated in favor of using the new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INotFoundView</span></code> mechanism.</li>
</ul>
</div>
<div class="section" id="renames">
<h3>Renames<a class="headerlink" href="#renames" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Renamed <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IForbiddenResponseFactory</span></code> to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IForbiddenView</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="a7-2009-05-30">
<h2>0.9a7 (2009-05-30)<a class="headerlink" href="#a7-2009-05-30" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id423">
<h3>特徴<a class="headerlink" href="#id423" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove &quot;context&quot; argument from <code class="docutils literal notranslate"><span class="pre">effective_principals</span></code> and
<code class="docutils literal notranslate"><span class="pre">authenticated_userid</span></code> function APIs in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security</span></code>,
effectively a doing reversion to 0.8 and before behavior.  Both
functions now again accept only the <code class="docutils literal notranslate"><span class="pre">request</span></code> parameter.</li>
</ul>
</div>
</div>
<div class="section" id="a6-2009-05-29">
<h2>0.9a6 (2009-05-29)<a class="headerlink" href="#a6-2009-05-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id424">
<h3>ドキュメンテーション<a class="headerlink" href="#id424" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Changed &quot;BFG Wiki&quot; tutorial to use AuthTktAuthenticationPolicy
rather than repoze.who.</li>
</ul>
</div>
<div class="section" id="id425">
<h3>特徴<a class="headerlink" href="#id425" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add an AuthTktAuthenticationPolicy.  This policy retrieves
credentials from an auth_tkt cookie managed by the application
itself (instead of relying on an upstream data source for
authentication data).  See the Security API chapter of the
documentation for more info.</li>
<li>Allow RemoteUserAuthenticationPolicy and
RepozeWho1AuthenticationPolicy to accept various constructor
arguments.  See the Security API chapter of the documentation for
more info.</li>
</ul>
</div>
</div>
<div class="section" id="a5-2009-05-28">
<h2>0.9a5 (2009-05-28)<a class="headerlink" href="#a5-2009-05-28" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id426">
<h3>特徴<a class="headerlink" href="#id426" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">get_app</span></code> API functions to the <code class="docutils literal notranslate"><span class="pre">paster</span></code> module.  This
obtains a WSGI application from a config file given a config file
name and a section name.  See the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.paster</span></code> API docs for
more information.</li>
<li>Add a new module named <code class="docutils literal notranslate"><span class="pre">scripting</span></code>.  It contains a <code class="docutils literal notranslate"><span class="pre">get_root</span></code>
API function, which, provided a Router instance, returns a traversal
root object and a &quot;closer&quot;.  See the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.scripting</span></code> API
docs for more info.</li>
</ul>
</div>
</div>
<div class="section" id="a4-2009-05-27">
<h2>0.9a4 (2009-05-27)<a class="headerlink" href="#a4-2009-05-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id427">
<h3>バグの修正<a class="headerlink" href="#id427" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Try checking for an &quot;old style&quot; security policy <em>after</em> we parse
ZCML (thinko).</li>
</ul>
</div>
</div>
<div class="section" id="a3-2009-05-27">
<h2>0.9a3 (2009-05-27)<a class="headerlink" href="#a3-2009-05-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id428">
<h3>特徴<a class="headerlink" href="#id428" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Allow IAuthenticationPolicy and IAuthorizationPolicy to be
overridden via ZCML registrations (do ZCML parsing after
registering these in router.py).</li>
</ul>
</div>
<div class="section" id="id429">
<h3>ドキュメンテーション<a class="headerlink" href="#id429" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added &quot;BFG Wiki&quot; tutorial to documentation; it describes
step-by-step how to create a traversal-based ZODB application with
authentication.</li>
</ul>
</div>
<div class="section" id="id430">
<h3>廃止<a class="headerlink" href="#id430" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added deprecations for imports of <code class="docutils literal notranslate"><span class="pre">ACLSecurityPolicy</span></code>,
<code class="docutils literal notranslate"><span class="pre">InheritingACLSecurityPolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">RemoteUserACLSecurityPolicy</span></code>,
<code class="docutils literal notranslate"><span class="pre">RemoteUserInheritingACLSecurityPolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">WhoACLSecurityPolicy</span></code>,
and <code class="docutils literal notranslate"><span class="pre">WhoInheritingACLSecurityPolicy</span></code> from the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.security</span></code> module; for the meantime (for backwards
compatibility purposes) these live in the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.secpols</span></code>
module.  Note however, that the entire concept of a &quot;security
policy&quot; is deprecated in BFG in favor of separate authentication and
authorization policies, so any use of a security policy will
generate additional deprecation warnings even if you do start using
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.secpols</span></code>.  <code class="docutils literal notranslate"><span class="pre">repoze.bfg.secpols</span></code> will disappear in a
future release of <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>.</li>
</ul>
</div>
<div class="section" id="deprecated-import-alias-removals">
<h3>Deprecated Import Alias Removals<a class="headerlink" href="#deprecated-import-alias-removals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Remove <code class="docutils literal notranslate"><span class="pre">repoze.bfg.template</span></code> module.  All imports from this
package have been deprecated since 0.3.8.  Instead, import
<code class="docutils literal notranslate"><span class="pre">get_template</span></code>, <code class="docutils literal notranslate"><span class="pre">render_template</span></code>, and
<code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code> from the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code> module.</li>
<li>Remove backwards compatibility import alias for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.split_path</span></code> (deprecated since 0.6.5).  This
must now be imported as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.traversal_path</span></code>).</li>
<li>Remove backwards compatibility import alias for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesContext</span></code> (deprecated since 0.6.5).
This must now be imported as
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.DefaultRoutesContext</span></code>.</li>
<li>Removed backwards compatibility import aliases for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.get_options</span></code> and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.Settings</span></code>
(deprecated since 0.6.2).  These both must now be imported from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings</span></code>.</li>
<li>Removed backwards compatibility import alias for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IRootPolicy</span></code> (deprecated since 0.6.2).  It
must be imported as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IRootFactory</span></code> now.</li>
<li>Removed backwards compatibility import alias for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplate</span></code> (deprecated since 0.4.4).  It
must be imported as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateRenderer</span></code> now.</li>
<li>Removed backwards compatibility import alias for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateFactory</span></code> (deprecated since 0.4.4).
It must be imported as
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateRendererFactory</span></code> now.</li>
<li>Removed backwards compatibility import alias for
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt.ZPTTemplateFactory</span></code> (deprecated since
0.4.4).  This must be imported as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.ZPTTemplateRenderer</span></code>
now.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2009-05-27">
<h2>0.9a2 (2009-05-27)<a class="headerlink" href="#a2-2009-05-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id431">
<h3>特徴<a class="headerlink" href="#id431" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">A paster command has been added named &quot;bfgshell&quot;.  This command can
be used to get an interactive prompt with your BFG root object in
the global namespace.  E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">paster</span> <span class="n">bfgshell</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">myapp</span><span class="o">.</span><span class="n">ini</span> <span class="n">myapp</span>
</pre></div>
</div>
<p>See the <code class="docutils literal notranslate"><span class="pre">Project</span></code> chapter in the BFG documentation for more
information.</p>
</li>
</ul>
</div>
<div class="section" id="id432">
<h3>廃止<a class="headerlink" href="#id432" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The name <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.registry_manager</span></code> was never an API,
but scripts in the wild were using it to set up an environment for
use under a debug shell.  A backwards compatibility shim has been
added for this purpose, but the feature is deprecated.</li>
</ul>
</div>
</div>
<div class="section" id="a1-2009-5-27">
<h2>0.9a1 (2009-5-27)<a class="headerlink" href="#a1-2009-5-27" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id433">
<h3>特徴<a class="headerlink" href="#id433" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">New API functions named <code class="docutils literal notranslate"><span class="pre">forget</span></code> and <code class="docutils literal notranslate"><span class="pre">remember</span></code> are available in
the <code class="docutils literal notranslate"><span class="pre">security</span></code> module.  The <code class="docutils literal notranslate"><span class="pre">forget</span></code> function returns headers
which will cause the currently authenticated user to be logged out
when set in a response.  The <code class="docutils literal notranslate"><span class="pre">remember</span></code> function (when passed the
proper arguments) will return headers which will cause a principal
to be &quot;logged in&quot; when set in a response.  See the Security API
chapter of the docs for more info.</p>
</li>
<li><p class="first">New keyword arguments to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> call
have been added: <code class="docutils literal notranslate"><span class="pre">authentication_policy</span></code> and
<code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code>.  These should, respectively, be an
implementation of an authentication policy (an object implementing
the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IAuthenticationPolicy</span></code> interface) and
an implementation of an authorization policy (an object implementing
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IAuthorizationPolicy)</span></code>.  Concrete
implementations of authentication policies exist in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.authentication</span></code>.  Concrete implementations of
authorization policies exist in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.authorization</span></code>.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">authentication_policy</span></code> and <code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code> default
to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">authentication_policy</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, but
<code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code> is <em>not</em> <code class="docutils literal notranslate"><span class="pre">None</span></code>, then
<code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code> is ignored (the ability to do authorization
depends on authentication).</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">authentication_policy</span></code> argument is <em>not</em> <code class="docutils literal notranslate"><span class="pre">None</span></code>, and the
<code class="docutils literal notranslate"><span class="pre">authorization_policy</span></code> argument <em>is</em> <code class="docutils literal notranslate"><span class="pre">None</span></code>, the authorization
policy defaults to an authorization implementation that uses ACLs
(<code class="docutils literal notranslate"><span class="pre">repoze.bfg.authorization.ACLAuthorizationPolicy</span></code>).</p>
<p>We no longer encourage configuration of &quot;security policies&quot; using
ZCML, as previously we did for <code class="docutils literal notranslate"><span class="pre">ISecurityPolicy</span></code>.  This is because
it's not uncommon to need to configure settings for concrete
authorization or authentication policies using paste .ini
parameters; the app entry point for your application is the natural
place to do this.</p>
</li>
<li><p class="first">Two new abstractions have been added in the way of adapters used by
the system: an <code class="docutils literal notranslate"><span class="pre">IAuthorizationPolicy</span></code> and an
<code class="docutils literal notranslate"><span class="pre">IAuthenticationPolicy</span></code>.  A combination of these (as registered by
the <code class="docutils literal notranslate"><span class="pre">securitypolicy</span></code> ZCML directive) take the place of the
<code class="docutils literal notranslate"><span class="pre">ISecurityPolicy</span></code> abstraction in previous releases of repoze.who.
The API functions in <code class="docutils literal notranslate"><span class="pre">repoze.who.security</span></code> (such as
<code class="docutils literal notranslate"><span class="pre">authentication_userid</span></code>, <code class="docutils literal notranslate"><span class="pre">effective_principals</span></code>,
<code class="docutils literal notranslate"><span class="pre">has_permission</span></code>, and so on) have been changed to try to make use
of these new adapters.  If you're using an older <code class="docutils literal notranslate"><span class="pre">ISecurityPolicy</span></code>
adapter, the system will still work, but it will print deprecation
warnings when such a policy is used.</p>
</li>
<li><p class="first">The way the (internal) IViewPermission utilities registered via ZCML
are invoked has changed.  They are purely adapters now, returning a
boolean result, rather than returning a callable. You shouldn't have
been using these anyway. ;-)</p>
</li>
<li><p class="first">New concrete implementations of IAuthenticationPolicy have been
added to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.authentication</span></code> module:
<code class="docutils literal notranslate"><span class="pre">RepozeWho1AuthenticationPolicy</span></code> which uses <code class="docutils literal notranslate"><span class="pre">repoze.who</span></code>
identity to retrieve authentication data from and
<code class="docutils literal notranslate"><span class="pre">RemoteUserAuthenticationPolicy</span></code>, which uses the <code class="docutils literal notranslate"><span class="pre">REMOTE_USER</span></code>
value in the WSGI environment to retrieve authentication data.</p>
</li>
<li><p class="first">A new concrete implementation of IAuthorizationPolicy has been added
to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.authorization</span></code> module:
<code class="docutils literal notranslate"><span class="pre">ACLAuthorizationPolicy</span></code> which uses ACL inheritance to do
authorization.</p>
</li>
<li><p class="first">It is now possible to register a custom
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IForbiddenResponseFactory</span></code> for a given
application.  This feature replaces the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IUnauthorizedAppFactory</span></code> feature previously
described in the Hooks chapter.  The IForbiddenResponseFactory will
be called when the framework detects an authorization failure; it
should accept a context object and a request object; it should
return an IResponse object (a webob response, basically).  Read the
below point for more info and see the Hooks narrative chapter of the
BFG docs for more info.</p>
</li>
</ul>
</div>
<div class="section" id="id434">
<h3>後方の非互換性<a class="headerlink" href="#id434" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Custom NotFound and Forbidden (nee' Unauthorized) WSGI applications
(registered as a utility for INotFoundAppFactory and
IUnauthorizedAppFactory) could rely on an environment key named
<code class="docutils literal notranslate"><span class="pre">message</span></code> describing the circumstance of the response.  This key
has been renamed to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.message</span></code> (as per the WSGI spec,
which requires environment extensions to contain dots).</li>
</ul>
</div>
<div class="section" id="id435">
<h3>廃止<a class="headerlink" href="#id435" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IUnauthorizedAppFactory</span></code> interface has
been deprecated in favor of using the new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IForbiddenResponseFactory</span></code> mechanism.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">view_execution_permitted</span></code> API should now be imported from the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.security</span></code> module instead of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view</span></code>
module.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">authenticated_userid</span></code> and <code class="docutils literal notranslate"><span class="pre">effective_principals</span></code> APIs in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.security</span></code> used to only take a single argument
(request).  They now accept two arguments (<code class="docutils literal notranslate"><span class="pre">context</span></code> and
<code class="docutils literal notranslate"><span class="pre">request</span></code>).  Calling them with a single argument is still
supported but issues a deprecation warning.  (NOTE: this change was
reverted in 0.9a7; meaning the 0.9 versions of these functions
again accept <code class="docutils literal notranslate"><span class="pre">request</span></code> only, just like 0.8 and before).</li>
<li>Use of &quot;old-style&quot; security policies (those base on ISecurityPolicy)
is now deprecated.  See the &quot;Security&quot; chapter of the docs for info
about activating an authorization policy and an authentication poicy.</li>
</ul>
</div>
</div>
<div class="section" id="id436">
<h2>0.8.1 (2009-05-21)<a class="headerlink" href="#id436" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id437">
<h3>特徴<a class="headerlink" href="#id437" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Class objects may now be used as view callables (both via ZCML and
via use of the <code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator in Python 2.6 as a class
decorator).  The calling semantics when using a class as a view
callable is similar to that of using a class as a Zope &quot;browser
view&quot;: the class' <code class="docutils literal notranslate"><span class="pre">__init__</span></code> must accept two positional parameters
(conventionally named <code class="docutils literal notranslate"><span class="pre">context</span></code>, and <code class="docutils literal notranslate"><span class="pre">request</span></code>).  The resulting
instance must be callable (it must have a <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method).
When called, the instance should return a response.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> from webob import Response

 class MyView(object):
     def __init__(self, context, request):
         self.context = context
         self.request = request

     def __call__(self):
         return Response(&#39;hello from %s!&#39; % self.context)

See the &quot;Views&quot; chapter in the documentation and the
``repoze.bfg.view`` API documentation for more information.
</pre></div>
</div>
</li>
<li><p class="first">Removed the pickling of ZCML actions (the code that wrote
<code class="docutils literal notranslate"><span class="pre">configure.zcml.cache</span></code> next to <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code> files in
projects).  The code which managed writing and reading of the cache
file was a source of subtle bugs when users switched between
imperative (e.g. <code class="docutils literal notranslate"><span class="pre">&#64;bfg_view</span></code>) registrations and declarative
registrations (e.g. the <code class="docutils literal notranslate"><span class="pre">view</span></code> directive in ZCML) on the same
project. On a moderately-sized project (535 ZCML actions and 15 ZCML
files), executing actions read from the pickle was saving us only
about 200ms (2.5 sec vs 2.7 sec average). On very small projects (1
ZCML file and 4 actions), startup time was comparable, and sometimes
even slower when reading from the pickle, and both ways were so fast
that it really just didn't matter anyway.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id438">
<h2>0.8 (2009-05-18)<a class="headerlink" href="#id438" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id439">
<h3>特徴<a class="headerlink" href="#id439" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a <code class="docutils literal notranslate"><span class="pre">traverse</span></code> function to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code>
module.  This function may be used to retrieve certain values
computed during path resolution.  See the Traversal API chapter of
the documentation for more information about this function.</li>
</ul>
</div>
<div class="section" id="id440">
<h3>廃止<a class="headerlink" href="#id440" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Internal: <code class="docutils literal notranslate"><span class="pre">ITraverser</span></code> callables should now return a dictionary
rather than a tuple.  Up until 0.7.0, all ITraversers were assumed
to return a 3-tuple.  In 0.7.1, ITraversers were assumed to return a
6-tuple.  As (by evidence) it's likely we'll need to add further
information to the return value of an ITraverser callable, 0.8
assumes that an ITraverser return a dictionary with certain elements
in it.  See the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITraverser</span></code> interface for
the list of keys that should be present in the dictionary.
<code class="docutils literal notranslate"><span class="pre">ITraversers</span></code> which return tuples will still work, although a
deprecation warning will be issued.</li>
</ul>
</div>
<div class="section" id="id441">
<h3>後方の非互換性<a class="headerlink" href="#id441" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>If your code used the ITraverser interface directly (not via an API
function such as <code class="docutils literal notranslate"><span class="pre">find_model</span></code>) via an adapter lookup, you'll need
to change your code to expect a dictionary rather than a 3- or
6-tuple if your code ever gets return values from the default
ModelGraphTraverser or RoutesModelTraverser adapters.</li>
</ul>
</div>
</div>
<div class="section" id="a7-2009-05-16">
<h2>0.8a7 (2009-05-16)<a class="headerlink" href="#a7-2009-05-16" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id442">
<h3>後方の非互換性<a class="headerlink" href="#id442" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">RoutesMapper</span></code> class in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch</span></code> has been
removed, as well as its documentation.  It had been deprecated since
0.6.3.  Code in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesModelTraverser</span></code>
which catered to it has also been removed.</p>
</li>
<li><p class="first">The semantics of the <code class="docutils literal notranslate"><span class="pre">route</span></code> ZCML directive have been simplified.
Previously, it was assumed that to use a route, you wanted to map a
route to an externally registered view.  The new <code class="docutils literal notranslate"><span class="pre">route</span></code> directive
instead has a <code class="docutils literal notranslate"><span class="pre">view</span></code> attribute which is required, specifying the
dotted path to a view callable.  When a route directive is
processed, a view is <em>registered</em> using the name attribute of the
route directive as its name and the callable as its value.  The
<code class="docutils literal notranslate"><span class="pre">view_name</span></code> and <code class="docutils literal notranslate"><span class="pre">provides</span></code> attributes of the <code class="docutils literal notranslate"><span class="pre">route</span></code> directive
are therefore no longer used.  Effectively, if you were previously
using the <code class="docutils literal notranslate"><span class="pre">route</span></code> directive, it means you must change a pair of
ZCML directives that look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">route</span>
   <span class="n">name</span><span class="o">=</span><span class="s2">&quot;home&quot;</span>
   <span class="n">path</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
   <span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;login&quot;</span>
   <span class="n">factory</span><span class="o">=</span><span class="s2">&quot;.models.root.Root&quot;</span>
 <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">view</span>
   <span class="k">for</span><span class="o">=</span><span class="s2">&quot;.models.root.Root&quot;</span>
   <span class="n">name</span><span class="o">=</span><span class="s2">&quot;login&quot;</span>
   <span class="n">view</span><span class="o">=</span><span class="s2">&quot;.views.login_view&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>To a ZCML directive that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">route</span>
   <span class="n">name</span><span class="o">=</span><span class="s2">&quot;home&quot;</span>
   <span class="n">path</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
   <span class="n">view</span><span class="o">=</span><span class="s2">&quot;.views.login_view&quot;</span>
   <span class="n">factory</span><span class="o">=</span><span class="s2">&quot;.models.root.Root&quot;</span>
 <span class="o">/&gt;</span>
</pre></div>
</div>
<p>In other words, to make old code work, remove the <code class="docutils literal notranslate"><span class="pre">view</span></code>
directives that were only there to serve the purpose of backing
<code class="docutils literal notranslate"><span class="pre">route</span></code> directives, and move their <code class="docutils literal notranslate"><span class="pre">view=</span></code> attribute into the
<code class="docutils literal notranslate"><span class="pre">route</span></code> directive itself.</p>
<p>This change also necessitated that the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute of the
<code class="docutils literal notranslate"><span class="pre">route</span></code> directive is now required.  If you were previously using
<code class="docutils literal notranslate"><span class="pre">route</span></code> directives without a <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute, you'll need to
add one (the name is arbitrary, but must be unique among all
<code class="docutils literal notranslate"><span class="pre">route</span></code> and <code class="docutils literal notranslate"><span class="pre">view</span></code> statements).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">provides</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">route</span></code> directive has also been
removed.  This directive specified a sequence of interface types
that the generated context would be decorated with.  Since route
views are always generated now for a single interface
(<code class="docutils literal notranslate"><span class="pre">repoze.bfg.IRoutesContext</span></code>) as opposed to being looked up
arbitrarily, there is no need to decorate any context to ensure a
view is found.</p>
</li>
</ul>
</div>
<div class="section" id="id443">
<h3>ドキュメンテーション<a class="headerlink" href="#id443" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added API docs for the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> methods
<code class="docutils literal notranslate"><span class="pre">registerAdapter</span></code>, <code class="docutils literal notranslate"><span class="pre">registerUtiity</span></code>, <code class="docutils literal notranslate"><span class="pre">registerSubscriber</span></code>, and
<code class="docutils literal notranslate"><span class="pre">cleanUp</span></code>.</li>
<li>Added glossary entry for &quot;root factory&quot;.</li>
<li>Noted existence of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.pagetemplate</span></code> template bindings in
&quot;Available Add On Template System Bindings&quot; in Templates chapter in
narrative docs.</li>
<li>Update &quot;Templates&quot; narrative chapter in docs (expand to show a
sample template and correct macro example).</li>
</ul>
</div>
<div class="section" id="id444">
<h3>特徴<a class="headerlink" href="#id444" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Courtesty Carlos de la Guardia, added an <code class="docutils literal notranslate"><span class="pre">alchemy</span></code> Paster
template.  This paster template sets up a BFG project that uses
SQAlchemy (with SQLite) and uses traversal to resolve URLs.  (no
Routes areused).  This template can be used via <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">create</span> <span class="pre">-t</span>
<span class="pre">bfg_alchemy</span></code>.</li>
<li>The Routes <code class="docutils literal notranslate"><span class="pre">Route</span></code> object used to resolve the match is now put
into the environment as <code class="docutils literal notranslate"><span class="pre">bfg.route</span></code> when URL dispatch is used.</li>
<li>You can now change the default Routes &quot;context factory&quot; globally.
See the &quot;ZCML Hooks&quot; chapter of the documentation (in the &quot;Changing
the Default Routes Context Factory&quot; section).</li>
</ul>
</div>
</div>
<div class="section" id="a6-2009-05-11">
<h2>0.8a6 (2009-05-11)<a class="headerlink" href="#a6-2009-05-11" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id445">
<h3>特徴<a class="headerlink" href="#id445" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a <code class="docutils literal notranslate"><span class="pre">routesalchemy</span></code> Paster template.  This paster template
sets up a BFG project that uses SQAlchemy (with SQLite) and uses
Routes exclusively to resolve URLs (no traversal root factory is
used).  This template can be used via <code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">create</span> <span class="pre">-t</span>
<span class="pre">bfg_routesalchemy</span></code>.</li>
</ul>
</div>
<div class="section" id="id446">
<h3>ドキュメンテーション<a class="headerlink" href="#id446" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added documentation to the URL Dispatch chapter about how to catch
the root URL using a ZCML <code class="docutils literal notranslate"><span class="pre">route</span></code> directive.</li>
<li>Added documentation to the URL Dispatch chapter about how to perform
a cleanup function at the end of a request (e.g. close the SQL
connection).</li>
</ul>
</div>
<div class="section" id="id447">
<h3>バグの修正<a class="headerlink" href="#id447" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">In version 0.6.3, passing a <code class="docutils literal notranslate"><span class="pre">get_root</span></code> callback (a &quot;root factory&quot;)
to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> became optional if any <code class="docutils literal notranslate"><span class="pre">route</span></code>
declaration was made in ZCML.  The intent was to make it possible to
disuse traversal entirely, instead relying entirely on URL dispatch
(Routes) to resolve all contexts.  However a compound set of bugs
prevented usage of a Routes-based root view (a view which responds
to &quot;/&quot;).  One bug existed in <cite>repoze.bfg.urldispatch`</cite>, another
existed in Routes itself.</p>
<p>To resolve this issue, the urldispatch module was fixed, and a fork
of the Routes trunk was put into the &quot;dev&quot; index named
<code class="docutils literal notranslate"><span class="pre">Routes-1.11dev-chrism-home</span></code>.  The source for the fork exists at
<a class="reference external" href="http://bitbucket.org/chrism/routes-home/">http://bitbucket.org/chrism/routes-home/</a> (broken link);
its contents have been merged into the Routes trunk
(what will be Routes 1.11).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="a5-2009-05-08">
<h2>0.8a5 (2009-05-08)<a class="headerlink" href="#a5-2009-05-08" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id448">
<h3>特徴<a class="headerlink" href="#id448" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Two new security policies were added:
RemoteUserInheritingACLSecurityPolicy and
WhoInheritingACLSecurityPolicy.  These are security policies which
take into account <em>all</em> ACLs defined in the lineage of a context
rather than stopping at the first ACL found in a lineage.  See the
&quot;Security&quot; chapter of the API documentation for more information.</li>
<li>The API and narrative documentation dealing with security was
changed to introduce the new &quot;inheriting&quot; security policy variants.</li>
<li>Added glossary entry for &quot;lineage&quot;.</li>
</ul>
</div>
<div class="section" id="id449">
<h3>廃止<a class="headerlink" href="#id449" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The security policy previously named
<code class="docutils literal notranslate"><span class="pre">RepozeWhoIdentityACLSecurityPolicy</span></code> now has the slightly saner
name of <code class="docutils literal notranslate"><span class="pre">WhoACLSecurityPolicy</span></code>.  A deprecation warning is emitted
when this policy is imported under the &quot;old&quot; name; usually this is
due to its use in ZCML within your application.  If you're getting
this deprecation warning, change your ZCML to use the new name,
e.g. change:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">utility</span>
  <span class="n">provides</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.ISecurityPolicy&quot;</span>
  <span class="n">factory</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.security.RepozeWhoIdentityACLSecurityPolicy&quot;</span>
  <span class="o">/&gt;</span>
</pre></div>
</div>
<p>To:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">utility</span>
  <span class="n">provides</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.ISecurityPolicy&quot;</span>
  <span class="n">factory</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.security.WhoACLSecurityPolicy&quot;</span>
  <span class="o">/&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="a4-2009-05-04">
<h2>0.8a4 (2009-05-04)<a class="headerlink" href="#a4-2009-05-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id450">
<h3>特徴<a class="headerlink" href="#id450" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">zope.testing</span></code> is no longer a direct dependency, although our
dependencies (such as <code class="docutils literal notranslate"><span class="pre">zope.interface</span></code>, <code class="docutils literal notranslate"><span class="pre">repoze.zcml</span></code>, etc)
still depend on it.</li>
<li>Tested on Google App Engine.  Added a tutorial to the documentation
explaining how to deploy a BFG app to GAE.</li>
</ul>
</div>
<div class="section" id="id451">
<h3>後方の非互換性<a class="headerlink" href="#id451" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Applications which rely on <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup.cleanUp</span></code> in unit
tests can still use that function indefinitely.  However, for
maximum forward compatibility, they should import <code class="docutils literal notranslate"><span class="pre">cleanUp</span></code> from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> instead of from <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup</span></code>.
The BFG paster templates and docs have been changed to use this
function instead of the <code class="docutils literal notranslate"><span class="pre">zope.testing.cleanup</span></code> version.</li>
</ul>
</div>
</div>
<div class="section" id="a3-2009-05-03">
<h2>0.8a3 (2009-05-03)<a class="headerlink" href="#a3-2009-05-03" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id452">
<h3>特徴<a class="headerlink" href="#id452" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Don't require a successful import of <code class="docutils literal notranslate"><span class="pre">zope.testing</span></code> at BFG
application runtime.  This allows us to get rid of <code class="docutils literal notranslate"><span class="pre">zope.testing</span></code>
on platforms like GAE which have file limits.</li>
</ul>
</div>
</div>
<div class="section" id="a2-2009-05-02">
<h2>0.8a2 (2009-05-02)<a class="headerlink" href="#a2-2009-05-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id453">
<h3>特徴<a class="headerlink" href="#id453" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>We no longer include the <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code> of the <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code>
package within the <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code> of the &quot;repoze.bfg.includes&quot;
package.  This has been a no-op for some time now.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code> package no longer imports from
<code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code> at module scope, deferring the import until later
within a method call.  The <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code> package can't be
imported on platforms like GAE.</li>
</ul>
</div>
</div>
<div class="section" id="a1-2009-05-02">
<h2>0.8a1 (2009-05-02)<a class="headerlink" href="#a1-2009-05-02" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="deprecation-warning-and-import-alias-removals">
<h3>Deprecation Warning and Import Alias Removals<a class="headerlink" href="#deprecation-warning-and-import-alias-removals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Since version 0.6.1, a deprecation warning has been emitted when the
name <code class="docutils literal notranslate"><span class="pre">model_url</span></code> is imported from the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code>
module.  This import alias (and the deprecation warning) has been
removed.  Any import of the <code class="docutils literal notranslate"><span class="pre">model_url</span></code> function will now need to
be done from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url</span></code>; any import of the name
<code class="docutils literal notranslate"><span class="pre">model_url</span></code> from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> will now fail.  This was
done to remove a dependency on zope.deferredimport.</li>
<li>Since version 0.6.5, a deprecation warning has been emitted when the
name <code class="docutils literal notranslate"><span class="pre">RoutesModelTraverser</span></code> is imported from the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> module.  This import alias (and the
deprecation warning) has been removed.  Any import of the
<code class="docutils literal notranslate"><span class="pre">RoutesModelTraverser</span></code> class will now need to be done from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch</span></code>; any import of the name
<code class="docutils literal notranslate"><span class="pre">RoutesModelTraverser</span></code> from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> will now
fail.  This was done to remove a dependency on zope.deferredimport.</li>
</ul>
</div>
<div class="section" id="id454">
<h3>特徴<a class="headerlink" href="#id454" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">This release of <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> is &quot;C-free&quot;.  This means it has no
hard dependencies on any software that must be compiled from C
source at installation time.  In particular, <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> no
longer depends on the <code class="docutils literal notranslate"><span class="pre">lxml</span></code> package.</p>
<p>This change has introduced some backwards incompatibilities,
described in the &quot;Backwards Incompatibilities&quot; section below.</p>
</li>
<li><p class="first">This release was tested on Windows XP.  It appears to work fine and
all the tests pass.</p>
</li>
</ul>
</div>
<div class="section" id="id455">
<h3>後方の非互換性<a class="headerlink" href="#id455" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Incompatibilities related to making <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> &quot;C-free&quot;:</p>
<ul class="simple">
<li>Removed the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_genshi</span></code> module, and thus support
for Genshi-style chameleon templates.  Genshi-style Chameleon
templates depend upon <code class="docutils literal notranslate"><span class="pre">lxml</span></code>, which is implemented in C (as
opposed to pure Python) and the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> core is &quot;C-free&quot; as
of this release. You may get Genshi-style Chameleon support back by
installing the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_genshi</span></code> package availalable
from <a class="reference external" href="http://svn.repoze.org/repoze.bfg.chameleon_genshi">http://svn.repoze.org/repoze.bfg.chameleon_genshi</a> (also
available in the index at <a class="reference external" href="http://dist.repoze.org/bfg/0.8/simple">http://dist.repoze.org/bfg/0.8/simple</a>).
All existing code that depended on the <code class="docutils literal notranslate"><span class="pre">chameleon_genshi</span></code> module
prior to this release of <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> should work without change
after this addon is installed.</li>
<li>Removed the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt</span></code> module and thus support for XSL
templates.  The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt</span></code> module depended upon <code class="docutils literal notranslate"><span class="pre">lxml</span></code>,
which is implemented in C, and the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> core is &quot;C-free&quot;
as of this release.  You bay get XSL templating back by installing
the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt</span></code> package available from
<a class="reference external" href="http://svn.repoze.org/repoze.bfg.xslt/">http://svn.repoze.org/repoze.bfg.xslt/</a> (also available in the index
at <a class="reference external" href="http://dist.repoze.org/bfg/0.8/simple">http://dist.repoze.org/bfg/0.8/simple</a>).  All existing code that
depended upon the <code class="docutils literal notranslate"><span class="pre">xslt</span></code> module prior to this release of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> should work without modification after this addon is
installed.</li>
<li>Removed the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INodeTemplateRenderer</span></code>
interface and the an old b/w compat aliases from that interface to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INodeTemplate</span></code>.  This interface must now be
imported from the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt.interfaces</span></code> package after
installation of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt</span></code> addon package described
above as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INodeTemplateRenderer</span></code>.  This
interface was never part of any public API.</li>
</ul>
<p>Other backwards incompatibilities:</p>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">render_template</span></code> function in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code>
returns Unicode instead of a string.  Likewise, the individual
values returned by the iterable created by the
<code class="docutils literal notranslate"><span class="pre">render_template_to_iterable</span></code> function are also each Unicode.
This is actually a backwards incompatibility inherited from our new
use of the combination of <code class="docutils literal notranslate"><span class="pre">chameleon.core</span></code> 1.0b32 (the
non-lxml-depending version) and <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code> 1.0b16+ ; the
<code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code> PageTemplateFile implementation used to return a
string, but now returns Unicode.</li>
</ul>
</div>
</div>
<div class="section" id="id456">
<h2>0.7.1 (2009-05-01)<a class="headerlink" href="#id456" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="index-related">
<h3>Index-Related<a class="headerlink" href="#index-related" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The canonical package index location for <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> has changed.
The &quot;old&quot; index (<a class="reference external" href="http://dist.repoze.org/lemonade/dev/simple">http://dist.repoze.org/lemonade/dev/simple</a>) has
been superseded by a new index location
(<a class="reference external" href="http://dist.repoze.org/bfg/current/simple">http://dist.repoze.org/bfg/current/simple</a>).  The installation
documentation has been updated as well as the <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> file in
this package.  The &quot;lemonade&quot; index still exists, but it is not
guaranteed to have the latest BFG software in it, nor will it be
maintained in the future.</li>
</ul>
</div>
<div class="section" id="id457">
<h3>特徴<a class="headerlink" href="#id457" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The &quot;paster create&quot; templates have been modified to use links to the
new &quot;bfg.repoze.org&quot; and &quot;docs.repoze.org&quot; websites.</p>
</li>
<li><p class="first">Added better documentation for virtual hosting at a URL prefix
within the virtual hosting docs chapter.</p>
</li>
<li><p class="first">The interface for <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITraverser</span></code> and the
built-in implementations that implement the interface
(<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.ModelGraphTraverser</span></code>, and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesModelTraverser</span></code>) now expect the
<code class="docutils literal notranslate"><span class="pre">__call__</span></code> method of an ITraverser to return 3 additional
arguments: <code class="docutils literal notranslate"><span class="pre">traversed</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code>, and
<code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code> (the old contract was that the <code class="docutils literal notranslate"><span class="pre">__call__</span></code>
method of an ITraverser returned; three arguments, the contract new
is that it returns six).  <code class="docutils literal notranslate"><span class="pre">traversed</span></code> will be a sequence of
Unicode names that were traversed (including the virtual root path,
if any) or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no traversal was performed, <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code>
will be a model object representing the virtual root (or the
physical root if traversal was not performed), and
<code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code> will be a sequence representing the virtual
root path (a sequence of Unicode names) or <code class="docutils literal notranslate"><span class="pre">None</span></code> if traversal was
not performed.</p>
<p>Six arguments are now returned from BFG ITraversers.  They are
returned in this order: <code class="docutils literal notranslate"><span class="pre">context</span></code>, <code class="docutils literal notranslate"><span class="pre">view_name</span></code>, <code class="docutils literal notranslate"><span class="pre">subpath</span></code>,
<code class="docutils literal notranslate"><span class="pre">traversed</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code>, and <code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code>.</p>
<p>Places in the BFG code which called an ITraverser continue to accept
a 3-argument return value, although BFG will generate and log a
warning when one is encountered.</p>
</li>
<li><p class="first">The request object now has the following attributes: <code class="docutils literal notranslate"><span class="pre">traversed</span></code>
(the sequence of names traversed or <code class="docutils literal notranslate"><span class="pre">None</span></code> if traversal was not
performed), <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code> (the model object representing the
virtual root, including the virtual root path if any), and
<code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code> (the seuquence of names representing the
virtual root path or <code class="docutils literal notranslate"><span class="pre">None</span></code> if traversal was not performed).</p>
</li>
<li><p class="first">A new decorator named <code class="docutils literal notranslate"><span class="pre">wsgiapp2</span></code> was added to the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi</span></code> module.  This decorator performs the same
function as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.wsgiapp</span></code> except it fixes up the
<code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code>, and <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> environment values before
invoking the WSGI subapplication.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.DummyRequest</span></code> object now has default
attributes for <code class="docutils literal notranslate"><span class="pre">traversed</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual_root</span></code>, and
<code class="docutils literal notranslate"><span class="pre">virtual_root_path</span></code>.</p>
</li>
<li><p class="first">The RoutesModelTraverser now behaves more like the Routes
&quot;RoutesMiddleware&quot; object when an element in the match dict is named
<code class="docutils literal notranslate"><span class="pre">path_info</span></code> (usually when there's a pattern like
<code class="docutils literal notranslate"><span class="pre">http://foo/*path_info</span></code>).  When this is the case, the
<code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> environment variable is set to the value in the match
dict, and the <code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code> is appended to with the prefix of the
original <code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code> not including the value of the new variable.</p>
</li>
<li><p class="first">The notfound debug now shows the traversed path, the virtual root,
and the virtual root path too.</p>
</li>
<li><p class="first">Speed up / clarify 'traversal' module's 'model_path', 'model_path_tuple',
and '_model_path_list' functions.</p>
</li>
</ul>
</div>
<div class="section" id="id458">
<h3>後方の非互換性<a class="headerlink" href="#id458" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">In previous releases, the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path_tuple</span></code> functions always ignored
the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> argument of the root object in a model graph (
effectively replacing it with a leading <code class="docutils literal notranslate"><span class="pre">/</span></code> in the returned value)
when a path or URL was generated.  The code required to perform this
operation was not efficient.  As of this release, the root object in
a model graph <em>must</em> have a <code class="docutils literal notranslate"><span class="pre">__name__</span></code> attribute that is either
<code class="docutils literal notranslate"><span class="pre">None</span></code> or the empty string (<code class="docutils literal notranslate"><span class="pre">''</span></code>) for URLs and paths to be
generated properly from these APIs.  If your root model object has a
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> argument that is not one of these values, you will need
to change your code for URLs and paths to be generated properly.  If
your model graph has a root node with a string <code class="docutils literal notranslate"><span class="pre">__name__</span></code> that is
not null, the value of <code class="docutils literal notranslate"><span class="pre">__name__</span></code> will be prepended to every path
and URL generated.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.LocationProxy</span></code> class and the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.ClassAndInstanceDescr</span></code> class have both been
removed in order to be able to eventually shed a dependency on
<code class="docutils literal notranslate"><span class="pre">zope.proxy</span></code>.  Neither of these classes was ever an API.</p>
</li>
<li><p class="first">In all previous releases, the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.locate</span></code>
function worked like so: if a model did not explicitly provide the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ILocation</span></code> interface, <code class="docutils literal notranslate"><span class="pre">locate</span></code> returned a
<code class="docutils literal notranslate"><span class="pre">LocationProxy</span></code> object representing <code class="docutils literal notranslate"><span class="pre">model</span></code> with its
<code class="docutils literal notranslate"><span class="pre">__parent__</span></code> attribute assigned to <code class="docutils literal notranslate"><span class="pre">parent</span></code> and a <code class="docutils literal notranslate"><span class="pre">__name__</span></code>
attribute assigned to <code class="docutils literal notranslate"><span class="pre">__name__</span></code>.  In this release, the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.locate</span></code> function simply jams the <code class="docutils literal notranslate"><span class="pre">__name__</span></code>
and <code class="docutils literal notranslate"><span class="pre">__parent__</span></code> attributes on to the supplied model
unconditionally, no matter if the object implements ILocation or
not, and it never returns a proxy.  This was done because the
LocationProxy behavior has now moved into an add-on package
(<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversalwrapper</span></code>), in order to eventually be able to
shed a dependency on <code class="docutils literal notranslate"><span class="pre">zope.proxy</span></code>.</p>
</li>
<li><p class="first">In all previous releases, by default, if traversal was used (as
opposed to URL-dispatch), and the root object supplied
the``repoze.bfg.interfaces.ILocation`` interface, but the children
returned via its <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> returned an object that did not
implement the same interface, <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> provided some
implicit help during traversal.  This traversal feature wrapped
subobjects from the root (and thereafter) that did not implement
<code class="docutils literal notranslate"><span class="pre">ILocation</span></code> in proxies which automatically provided them with a
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> and <code class="docutils literal notranslate"><span class="pre">__parent__</span></code> attribute based on the name being
traversed and the previous object traversed.  This feature has now
been removed from the base <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> package for purposes of
eventually shedding a dependency on <code class="docutils literal notranslate"><span class="pre">zope.proxy</span></code>.</p>
<p>In order to re-enable the wrapper behavior for older applications
which cannot be changed, register the &quot;traversalwrapper&quot;
<code class="docutils literal notranslate"><span class="pre">ModelGraphTraverser</span></code> as the traversal policy, rather than the
default <code class="docutils literal notranslate"><span class="pre">ModelGraphTraverser</span></code>. To use this feature, you will need
to install the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversalwrapper</span></code> package (an add-on
package, available at
<a class="reference external" href="http://svn.repoze.org/repoze.bfg.traversalwrapper">http://svn.repoze.org/repoze.bfg.traversalwrapper</a>) Then change your
application's <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code> to include the following stanza:</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>&lt;adapter</dt>
<dd><p class="first last">factory=&quot;repoze.bfg.traversalwrapper.ModelGraphTraverser&quot;
provides=&quot;repoze.bfg.interfaces.ITraverserFactory&quot;
for=&quot;*&quot;
/&gt;</p>
</dd>
</dl>
</div></blockquote>
<p>When this ITraverserFactory is used instead of the default, no
object in the graph (even the root object) must supply a
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> or <code class="docutils literal notranslate"><span class="pre">__parent__</span></code> attribute.  Even if subobjects
returned from the root <em>do</em> implement the ILocation interface,
these will still be wrapped in proxies that override the object's
&quot;real&quot; <code class="docutils literal notranslate"><span class="pre">__parent__</span></code> and <code class="docutils literal notranslate"><span class="pre">__name__</span></code> attributes.</p>
<p>See also changes to the &quot;Models&quot; chapter of the documentation (in
the &quot;Location-Aware Model Instances&quot;) section.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="id459">
<h2>0.7.0 (2009-04-11)<a class="headerlink" href="#id459" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id460">
<h3>バグの修正<a class="headerlink" href="#id460" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix a bug in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.HTTPException</span></code>: the content length
was returned as an int rather than as a string.</li>
<li>Add explicit dependencies on <code class="docutils literal notranslate"><span class="pre">zope.deferredimport</span></code>,
<code class="docutils literal notranslate"><span class="pre">zope.deprecation</span></code>, and <code class="docutils literal notranslate"><span class="pre">zope.proxy</span></code> for forward compatibility
reasons (<code class="docutils literal notranslate"><span class="pre">zope.component</span></code> will stop relying on
<code class="docutils literal notranslate"><span class="pre">zope.deferredimport</span></code> soon and although we use it directly, it's
only a transitive dependency, and ''zope.deprecation`` and
<code class="docutils literal notranslate"><span class="pre">zope.proxy</span></code> are used directly even though they're only transitive
dependencies as well).</li>
<li>Using <code class="docutils literal notranslate"><span class="pre">model_url</span></code> or <code class="docutils literal notranslate"><span class="pre">model_path</span></code> against a broken model graph
(one with models that had a non-root model with a <code class="docutils literal notranslate"><span class="pre">__name__</span></code> of
<code class="docutils literal notranslate"><span class="pre">None</span></code>) caused an inscrutable error to be thrown: ( if not
<code class="docutils literal notranslate"><span class="pre">_must_quote[cachekey].search(s):</span> <span class="pre">TypeError:</span> <span class="pre">expected</span> <span class="pre">string</span> <span class="pre">or</span>
<span class="pre">buffer</span></code>).  Now URLs and paths generated against graphs that have
None names in intermediate nodes will replace the None with the
empty string, and, as a result, the error won't be raised.  Of
course the URL or path will still be bogus.</li>
</ul>
</div>
<div class="section" id="id461">
<h3>特徴<a class="headerlink" href="#id461" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Make it possible to have <code class="docutils literal notranslate"><span class="pre">testing.DummyTemplateRenderer</span></code> return
some nondefault string representation.</li>
<li>Added a new <code class="docutils literal notranslate"><span class="pre">anchor</span></code> keyword argument to <code class="docutils literal notranslate"><span class="pre">model_url</span></code>.  If
<code class="docutils literal notranslate"><span class="pre">anchor</span></code> is present, its string representation will be used
as a named anchor in the generated URL (e.g. if <code class="docutils literal notranslate"><span class="pre">anchor</span></code> is
passed as <code class="docutils literal notranslate"><span class="pre">foo</span></code> and the model URL is
<code class="docutils literal notranslate"><span class="pre">http://example.com/model/url</span></code>, the generated URL will be
<code class="docutils literal notranslate"><span class="pre">http://example.com/model/url#foo</span></code>).</li>
</ul>
</div>
<div class="section" id="id462">
<h3>後方の非互換性<a class="headerlink" href="#id462" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The default request charset encoding is now <code class="docutils literal notranslate"><span class="pre">utf-8</span></code>.  As a result,
the request machinery will attempt to decode values from the utf-8
encoding to Unicode automatically when they are obtained via
<code class="docutils literal notranslate"><span class="pre">request.params</span></code>, <code class="docutils literal notranslate"><span class="pre">request.GET</span></code>, and <code class="docutils literal notranslate"><span class="pre">request.POST</span></code>.  The
previous behavior of BFG was to return a bytestring when a value was
accessed in this manner.  This change will break form handling code
in apps that rely on values from those APIs being considered
bytestrings.  If you are manually decoding values from form
submissions in your application, you'll either need to change the
code that does that to expect Unicode values from
<code class="docutils literal notranslate"><span class="pre">request.params</span></code>, <code class="docutils literal notranslate"><span class="pre">request.GET</span></code> and <code class="docutils literal notranslate"><span class="pre">request.POST</span></code>, or you'll
need to explicitly reenable the previous behavior.  To reenable the
previous behavior, add the following to your application's
<code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">subscriber</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.interfaces.INewRequest&quot;</span>
            <span class="n">handler</span><span class="o">=</span><span class="s2">&quot;repoze.bfg.request.make_request_ascii&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>See also the documentation in the &quot;Views&quot; chapter of the BFG docs
entitled &quot;Using Views to Handle Form Submissions (Unicode and
Character Set Issues)&quot;.</p>
</li>
</ul>
</div>
<div class="section" id="id463">
<h3>ドキュメンテーション<a class="headerlink" href="#id463" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a section to the narrative Views chapter entitled &quot;Using Views
to Handle Form Submissions (Unicode and Character Set Issues)&quot;
explaining implicit decoding of form data values.</li>
</ul>
</div>
</div>
<div class="section" id="id464">
<h2>0.6.9 (2009-02-16)<a class="headerlink" href="#id464" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id465">
<h3>バグの修正<a class="headerlink" href="#id465" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>lru cache was unstable under concurrency (big surprise!) when it
tried to redelete a key in the cache that had already been deleted.
Symptom: line 64 in put:del data[oldkey]:KeyError: '/some/path'.
Now we just ignore the key error if we can't delete the key (it has
already been deleted).</li>
<li>Empty location names in model paths when generating a URL using
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.model_url</span></code> based on a model obtained via traversal are
no longer ignored in the generated URL.  This means that if a
non-root model object has a <code class="docutils literal notranslate"><span class="pre">__name__</span></code> of <code class="docutils literal notranslate"><span class="pre">''</span></code>, the URL will
reflect it (e.g. <code class="docutils literal notranslate"><span class="pre">model_url</span></code> will generate <code class="docutils literal notranslate"><span class="pre">http://foo/bar//baz</span></code>
if an object with the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> of <code class="docutils literal notranslate"><span class="pre">''</span></code> is a child of bar and
the parent of baz).  URLs generated with empty path segments are,
however, still irresolveable by the model graph traverser on request
ingress (the traverser strips empty path segment names).</li>
</ul>
</div>
<div class="section" id="id466">
<h3>特徴<a class="headerlink" href="#id466" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Microspeedups of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path_tuple</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.quote_path_segment</span></code>, and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.urlencode</span></code>.</li>
<li>add zip_safe = false to setup.cfg.</li>
</ul>
</div>
<div class="section" id="id467">
<h3>ドキュメンテーション<a class="headerlink" href="#id467" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add a note to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.quote_path_segment</span></code> API
docs about caching of computed values.</li>
</ul>
</div>
<div class="section" id="id468">
<h3>Implementation Changes<a class="headerlink" href="#id468" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Simplification of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.TraversalContextURL.__call__</span></code> (it now uses
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code> instead of rolling its own
path-generation).</li>
</ul>
</div>
</div>
<div class="section" id="id469">
<h2>0.6.8 (2009-02-05)<a class="headerlink" href="#id469" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id470">
<h3>後方の非互換性<a class="headerlink" href="#id470" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code> API now returns a <em>quoted</em>
string rather than a string represented by series of unquoted
elements joined via <code class="docutils literal notranslate"><span class="pre">/</span></code> characters.  Previously it returned a
string or unicode object representing the model path, with each
segment name in the path joined together via <code class="docutils literal notranslate"><span class="pre">/</span></code> characters,
e.g. <code class="docutils literal notranslate"><span class="pre">/foo</span> <span class="pre">/bar</span></code>.  Now it returns a string, where each segment is
a UTF-8 encoded and URL-quoted element e.g. <code class="docutils literal notranslate"><span class="pre">/foo%20/bar</span></code>.  This
change was (as discussed briefly on the repoze-dev maillist)
necessary to accomodate model objects which themselves have
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> attributes that contain the <code class="docutils literal notranslate"><span class="pre">/</span></code> character.</p>
<p>For people that have no models that have high-order Unicode
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> attributes or <code class="docutils literal notranslate"><span class="pre">__name__</span></code> attributes with values that
require URL-quoting with in their model graphs, this won't cause any
issue.  However, if you have code that currently expects
<code class="docutils literal notranslate"><span class="pre">model_path</span></code> to return an unquoted string, or you have an existing
application with data generated via the old method, and you're too
lazy to change anything, you may wish replace the BFG-imported
<code class="docutils literal notranslate"><span class="pre">model_path</span></code> in your code with this function (this is the code of
the &quot;old&quot; <code class="docutils literal notranslate"><span class="pre">model_path</span></code> implementation):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">repoze.bfg.location</span> <span class="k">import</span> <span class="n">lineage</span>

<span class="k">def</span> <span class="nf">i_am_too_lazy_to_move_to_the_new_model_path</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="o">*</span><span class="n">elements</span><span class="p">):</span>
    <span class="n">rpath</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">lineage</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span>
            <span class="n">rpath</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">rpath</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">elements</span><span class="p">:</span>
        <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">path</span><span class="p">,</span> <span class="n">suffix</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">path</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.find_model</span></code> API no longer implicitly
converts unicode representations of a full path passed to it as a
Unicode object into a UTF-8 string.  Callers should either use
prequoted path strings returned by
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code>, or tuple values returned by the
result of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path_tuple</span></code> or they should
use the guidelines about passing a string <code class="docutils literal notranslate"><span class="pre">path</span></code> argument
described in the <code class="docutils literal notranslate"><span class="pre">find_model</span></code> API documentation.</p>
</li>
</ul>
</div>
<div class="section" id="bugfixes">
<h3>Bugfixes<a class="headerlink" href="#bugfixes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Each argument contained in <code class="docutils literal notranslate"><span class="pre">elements</span></code> passed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code> will now have any <code class="docutils literal notranslate"><span class="pre">/</span></code>
characters contained within quoted to <code class="docutils literal notranslate"><span class="pre">%2F</span></code> in the returned
string.  Previously, <code class="docutils literal notranslate"><span class="pre">/</span></code> characters in elements were left unquoted
(a bug).</li>
</ul>
</div>
<div class="section" id="id471">
<h3>特徴<a class="headerlink" href="#id471" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path_tuple</span></code> API was added.  This API
is an alternative to <code class="docutils literal notranslate"><span class="pre">model_path</span></code> (which returns a string);
<code class="docutils literal notranslate"><span class="pre">model_path_tuple</span></code> returns a model path as a tuple (much like
Zope's <code class="docutils literal notranslate"><span class="pre">getPhysicalPath</span></code>).</li>
<li>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.quote_path_segment</span></code> API was added.  This
API will quote an individual path segment (string or unicode
object).  See the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> API documentation for
more information.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.find_model</span></code> API now accepts &quot;path
tuples&quot; (see the above note regarding <code class="docutils literal notranslate"><span class="pre">model_path_tuple</span></code>) as well
as string path representations (from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_path</span></code>) as a <code class="docutils literal notranslate"><span class="pre">path</span></code> argument.</li>
<li>Add ` <cite>renderer`</cite> argument (defaulting to None) to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.registerDummyRenderer</span></code>.  This makes it
possible, for instance, to register a custom renderer that raises an
exception in a unit test.</li>
</ul>
</div>
<div class="section" id="id472">
<h3>Implementation Changes<a class="headerlink" href="#id472" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Moved _url_quote function back to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.url</span></code>.  This is not an API.</li>
</ul>
</div>
</div>
<div class="section" id="id473">
<h2>0.6.7 (2009-01-27)<a class="headerlink" href="#id473" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id474">
<h3>特徴<a class="headerlink" href="#id474" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code> API now works against contexts
derived from Routes URL dispatch (<code class="docutils literal notranslate"><span class="pre">Routes.util.url_for</span></code> is called
under the hood).</li>
<li>&quot;Virtual root&quot; support for traversal-based applications has been
added.  Virtual root support is useful when you'd like to host some
model in a <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> model graph as an application under a
URL pathname that does not include the model path itself.  For more
information, see the (new) &quot;Virtual Hosting&quot; chapter in the
documentation.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.virtual_root</span></code> API has been added.  When
called, it returns the virtual root object (or the physical root
object if no virtual root has been specified).</li>
</ul>
</div>
<div class="section" id="id475">
<h3>Implementation Changes<a class="headerlink" href="#id475" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.RoutesModelTraverser</span></code> has been moved to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">model_url</span></code> URL generation is now performed via an adapter lookup
based on the context and the request.</li>
<li>ZCML which registers two adapters for the <code class="docutils literal notranslate"><span class="pre">IContextURL</span></code> interface
has been added to the configure.zcml in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.includes</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="id476">
<h2>0.6.6 (2009-01-26)<a class="headerlink" href="#id476" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id477">
<h3>Implementation Changes<a class="headerlink" href="#id477" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>There is an indirection in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code> now that
consults a utility to generate the base model url (without extra
elements or a query string).  Eventually this will service virtual
hosting; for now it's undocumented and should not be hooked.</li>
</ul>
</div>
</div>
<div class="section" id="id478">
<h2>0.6.5 (2009-01-26)<a class="headerlink" href="#id478" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id479">
<h3>特徴<a class="headerlink" href="#id479" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>You can now override the NotFound and Unauthorized responses that
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> generates when a view cannot be found or cannot be
invoked due to lack of permission.  See the &quot;ZCML Hooks&quot; chapter in
the docs for more information.</li>
<li>Added Routes ZCML directive attribute explanations in documentation.</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">traversal_path</span></code> API to the traversal module; see the
&quot;traversal&quot; API chapter in the docs.  This was a function previously
known as <code class="docutils literal notranslate"><span class="pre">split_path</span></code> that was not an API but people were using it
anyway.  Unlike <code class="docutils literal notranslate"><span class="pre">split_path</span></code>, it now returns a tuple instead of a
list (as its values are cached).</li>
</ul>
</div>
<div class="section" id="id480">
<h3>行動の変化<a class="headerlink" href="#id480" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.render_view_to_response</span></code> API will no longer
raise a ValueError if an object returned by a view function it calls
does not possess certain attributes (<code class="docutils literal notranslate"><span class="pre">headerlist</span></code>, <code class="docutils literal notranslate"><span class="pre">app_iter</span></code>,
<code class="docutils literal notranslate"><span class="pre">status</span></code>).  This API used to attempt to perform a check using the
<code class="docutils literal notranslate"><span class="pre">is_response</span></code> function in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view</span></code>, and raised a
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the <code class="docutils literal notranslate"><span class="pre">is_response</span></code> check failed.  The
responsibility is now the caller's to ensure that the return value
from a view function is a &quot;real&quot; response.</li>
<li>WSGI environ dicts passed to <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> 's Router must now
contain a REQUEST_METHOD key/value; if they do not, a KeyError will
be raised (speed).</li>
<li>It is no longer permissible to pass a &quot;nested&quot; list of principals to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.ACLAuthorizer.permits</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">['fred',</span> <span class="pre">['larry',</span>
<span class="pre">'bob']]</span></code>).  The principals list must be fully expanded.  This
feature was never documented, and was never an API, so it's not a
backwards incompatibility.</li>
<li>It is no longer permissible for a security ACE to contain a &quot;nested&quot;
list of permissions (e.g. <code class="docutils literal notranslate"><span class="pre">(Allow,</span> <span class="pre">Everyone,</span> <span class="pre">['read',</span> <span class="pre">['view',</span>
<span class="pre">['write',</span> <span class="pre">'manage']]])`)`.</span>&#160; <span class="pre">The</span> <span class="pre">list</span> <span class="pre">must</span> <span class="pre">instead</span> <span class="pre">be</span> <span class="pre">fully</span> <span class="pre">expanded</span>
<span class="pre">(e.g.</span> <span class="pre">``(Allow,</span> <span class="pre">Everyone,</span> <span class="pre">['read',</span> <span class="pre">'view',</span> <span class="pre">'write',</span> <span class="pre">'manage])</span></code>).  This
feature was never documented, and was never an API, so it's not a
backwards incompatibility.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesRootFactory</span></code> now injects the
<code class="docutils literal notranslate"><span class="pre">wsgiorg.routing_args</span></code> environment variable into the environ when
a route matches.  This is a tuple of ((), routing_args) where
routing_args is the value that comes back from the routes mapper
match (the &quot;match dict&quot;).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.RoutesModelTraverser</span></code> class now wants to
obtain the <code class="docutils literal notranslate"><span class="pre">view_name</span></code> and <code class="docutils literal notranslate"><span class="pre">subpath</span></code> from the
<code class="docutils literal notranslate"><span class="pre">wsgiorgs.routing_args</span></code> environment variable.  It falls back to
obtaining these from the context for backwards compatibility.</li>
</ul>
</div>
<div class="section" id="id481">
<h3>Implementation Changes<a class="headerlink" href="#id481" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Get rid of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.ACLAuthorizer</span></code>: the
<code class="docutils literal notranslate"><span class="pre">ACLSecurityPolicy</span></code> now does what it did inline.</li>
<li>Get rid of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.NoAuthorizationInformation</span></code>
exception: it was used only by <code class="docutils literal notranslate"><span class="pre">ACLAuthorizer</span></code>.</li>
<li>Use a homegrown NotFound error instead of <code class="docutils literal notranslate"><span class="pre">webob.exc.HTTPNotFound</span></code>
(the latter is slow).</li>
<li>Use a homegrown Unauthorized error instead of
<code class="docutils literal notranslate"><span class="pre">webob.exc.Unauthorized</span></code> (the latter is slow).</li>
<li>the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.lru.lru_cached</span></code> decorator now uses functools.wraps
in order to make documentation of LRU-cached functions possible.</li>
<li>Various speed micro-tweaks.</li>
</ul>
</div>
<div class="section" id="id482">
<h3>バグの修正<a class="headerlink" href="#id482" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing.DummyModel</span></code> did not have a <code class="docutils literal notranslate"><span class="pre">get</span></code> method;
it now does.</li>
</ul>
</div>
</div>
<div class="section" id="id483">
<h2>0.6.4 (2009-01-23)<a class="headerlink" href="#id483" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id484">
<h3>後方の非互換性<a class="headerlink" href="#id484" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">unicode_path_segments</span></code> configuration variable and the
<code class="docutils literal notranslate"><span class="pre">BFG_UNICODE_PATH_SEGMENTS</span></code> configuration variable have been
removed.  Path segments are now always passed to model
<code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> methods as unicode.  &quot;True&quot; has been the default for
this setting since 0.5.4, but changing this configuration setting to
false allowed you to go back to passing raw path element strings to
model <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> methods.  Removal of this knob services a
speed goal (we get about +80 req/s by removing the check), and it's
clearer just to always expect unicode path segments in model
<code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> methods.</li>
</ul>
</div>
<div class="section" id="id485">
<h3>Implementation Changes<a class="headerlink" href="#id485" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.split_path</span></code> now also handles decoding
path segments to unicode (for speed, because its results are
cached).</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.step</span></code> was made a method of the</dt>
<dd>ModelGraphTraverser.</dd>
</dl>
</li>
<li>Use &quot;precooked&quot; Request subclasses
(e.g. <code class="docutils literal notranslate"><span class="pre">repoze.bfg.request.GETRequest</span></code>) that correspond to HTTP
request methods within <code class="docutils literal notranslate"><span class="pre">router.py</span></code> when constructing a request
object rather than using <code class="docutils literal notranslate"><span class="pre">alsoProvides</span></code> to attach the proper
interface to an unsubclassed <code class="docutils literal notranslate"><span class="pre">webob.Request</span></code>.  This pattern is
purely an optimization (e.g. preventing calls to <code class="docutils literal notranslate"><span class="pre">alsoProvides</span></code>
means the difference between 590 r/s and 690 r/s on a MacBook 2GHz).</li>
<li>Tease out an extra 4% performance boost by changing the Router;
instead of using imported ZCA APIs, use the same APIs directly
against the registry that is an attribute of the Router.</li>
<li>The registry used by BFG is now a subclass of
<code class="docutils literal notranslate"><span class="pre">zope.component.registry.Components</span></code> (defined as
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.Registry</span></code>); it has a <code class="docutils literal notranslate"><span class="pre">notify</span></code> method, a
<code class="docutils literal notranslate"><span class="pre">registerSubscriptionAdapter</span></code> and a <code class="docutils literal notranslate"><span class="pre">registerHandler</span></code> method.
If no subscribers are registered via <code class="docutils literal notranslate"><span class="pre">registerHandler</span></code> or
<code class="docutils literal notranslate"><span class="pre">registerSubscriptionAdapter</span></code>, <code class="docutils literal notranslate"><span class="pre">notify</span></code> is a noop for speed.</li>
<li>The Allowed and Denied classes in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security</span></code> now are
lazier about constructing the representation of a reason message for
speed; <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view_execution_permitted</span></code> takes advantage of
this.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">is_response</span></code> check was sped up by about half at the expense
of making its code slightly uglier.</li>
</ul>
</div>
<div class="section" id="new-modules">
<h3>New Modules<a class="headerlink" href="#new-modules" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.lru</span></code> implements an LRU cache class and a decorator for
internal use.</li>
</ul>
</div>
</div>
<div class="section" id="id486">
<h2>0.6.3 (2009-01-19)<a class="headerlink" href="#id486" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id487">
<h3>バグの修正<a class="headerlink" href="#id487" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Readd <code class="docutils literal notranslate"><span class="pre">root_policy</span></code> attribute on Router object (as a property
which returns the IRootFactory utility).  It was inadvertently
removed in 0.6.2.  Code in the wild depended upon its presence
(esp. scripts and &quot;debug&quot; helpers).</li>
</ul>
</div>
<div class="section" id="id488">
<h3>特徴<a class="headerlink" href="#id488" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URL-dispatch has been overhauled: it is no longer necessary to
manually create a RoutesMapper in your application's entry point
callable in order to use URL-dispatch (aka <a class="reference external" href="http://routes.groovie.org">Routes</a>).  A new <code class="docutils literal notranslate"><span class="pre">route</span></code> directive has been
added to the available list of ZCML directives.  Each <code class="docutils literal notranslate"><span class="pre">route</span></code>
directive inserted into your application's <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code>
establishes a Routes mapper connection.  If any <code class="docutils literal notranslate"><span class="pre">route</span></code>
declarations are made via ZCML within a particular application, the
<code class="docutils literal notranslate"><span class="pre">get_root</span></code> callable passed in to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code>
will automatically be wrapped in the equivalent of a RoutesMapper.
Additionally, the new <code class="docutils literal notranslate"><span class="pre">route</span></code> directive allows the specification
of a <code class="docutils literal notranslate"><span class="pre">context_interfaces</span></code> attribute for a route, this will be used
to tag the manufactured routes context with specific interfaces when
a route specifying a <code class="docutils literal notranslate"><span class="pre">context_interfaces</span></code> attribute is matched.</li>
<li>A new interface <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IContextNotFound</span></code> was
added.  This interface is attached to a &quot;dummy&quot; context generated
when Routes cannot find a match and there is no &quot;fallback&quot; get_root
callable that uses traversal.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">bfg_starter</span></code> and <code class="docutils literal notranslate"><span class="pre">bfg_zodb</span></code> &quot;paster create&quot; templates now
contain images and CSS which are displayed when the default page is
displayed after initial project generation.</li>
<li>Allow the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.static</span></code> helper to be passed a relative
<code class="docutils literal notranslate"><span class="pre">root_path</span></code> name; it will be considered relative to the file in
which it was called.</li>
<li>The functionality of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.convention</span></code> has been merged into
the core.  Applications which make use of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.convention</span></code>
will continue to work indefinitely, but it is recommended that apps
stop depending upon it.  To do so, substitute imports of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.convention.bfg_view</span></code> with imports of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.bfg_view</span></code>, and change the stanza in ZCML from
<code class="docutils literal notranslate"><span class="pre">&lt;convention</span> <span class="pre">package=&quot;.&quot;&gt;</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;scan</span> <span class="pre">package=&quot;.&quot;&gt;</span></code>.  As a result
of the merge, bfg has grown a new dependency: <code class="docutils literal notranslate"><span class="pre">martian</span></code>.</li>
<li>View functions which use the pushpage decorator are now pickleable
(meaning their use won't prevent a <code class="docutils literal notranslate"><span class="pre">configure.zcml.cache</span></code> file
from being written to disk).</li>
<li>Instead of invariably using <code class="docutils literal notranslate"><span class="pre">webob.Request</span></code> as the &quot;request
factory&quot; (e.g. in the <code class="docutils literal notranslate"><span class="pre">Router</span></code> class) and <code class="docutils literal notranslate"><span class="pre">webob.Response</span></code> and
the &quot;response factory&quot; (e.g. in <code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code>),
allow both to be overridden via a ZCML utility hook.  See the &quot;Using
ZCML Hooks&quot; chapter of the documentation for more information.</li>
</ul>
</div>
<div class="section" id="id489">
<h3>廃止<a class="headerlink" href="#id489" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The class <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesContext</span></code> has been renamed
to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.DefaultRoutesContext</span></code>.  The class
should be imported by the new name as necessary (although in reality
it probably shouldn't be imported from anywhere except internally
within BFG, as it's not part of the API).</li>
</ul>
</div>
<div class="section" id="id490">
<h3>Implementation Changes<a class="headerlink" href="#id490" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.wsgi.wsgiapp</span></code> decorator now uses
<code class="docutils literal notranslate"><span class="pre">webob.Request.get_response</span></code> to do its work rather than relying on
homegrown WSGI code.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view.static</span></code> helper now uses
<code class="docutils literal notranslate"><span class="pre">webob.Request.get_response</span></code> to do its work rather than relying on
homegrown WSGI code.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.urldispatch.RoutesModelTraverser</span></code> class has been
moved to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.RoutesModelTraverser</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.makeRegistry</span></code> function was renamed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.populateRegistry</span></code> and now accepts a
<code class="docutils literal notranslate"><span class="pre">registry</span></code> argument (which should be an instance of
<code class="docutils literal notranslate"><span class="pre">zope.component.registry.Components</span></code>).</li>
</ul>
</div>
<div class="section" id="documentation-additions">
<h3>Documentation Additions<a class="headerlink" href="#documentation-additions" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Updated narrative urldispatch chapter with changes required by
<code class="docutils literal notranslate"><span class="pre">&lt;route..&gt;</span></code> ZCML directive.</li>
<li>Add a section on &quot;Using BFG Security With URL Dispatch&quot; into the
urldispatch chapter of the documentation.</li>
<li>Better documentation of security policy implementations that ship
with repoze.bfg.</li>
<li>Added a &quot;Using ZPT Macros in repoze.bfg&quot; section to the narrative
templating chapter.</li>
</ul>
</div>
</div>
<div class="section" id="id491">
<h2>0.6.2 (2009-01-13)<a class="headerlink" href="#id491" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id492">
<h3>特徴<a class="headerlink" href="#id492" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Tests can be run with coverage output if you've got <code class="docutils literal notranslate"><span class="pre">nose</span></code>
installed in the interpreter which you use to run tests.  Using an
interpreter with <code class="docutils literal notranslate"><span class="pre">nose</span></code> installed, do <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span>
<span class="pre">nosetests</span></code> within a checkout of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> package to see
test coverage output.</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">post</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing:DummyRequest</span></code>
constructor.</li>
<li>Added <code class="docutils literal notranslate"><span class="pre">__len__</span></code> and <code class="docutils literal notranslate"><span class="pre">__nonzero__</span></code> to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing:DummyModel</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.get_options</span></code> callable (now renamed to
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.setings.get_options</span></code>) used to return only
framework-specific keys and values in the dictionary it returned.
It now returns all the keys and values in the dictionary it is
passed <em>plus</em> any framework-specific settings culled from the
environment.  As a side effect, all PasteDeploy application-specific
config file settings are made available as attributes of the
<code class="docutils literal notranslate"><span class="pre">ISettings</span></code> utility from within BFG.</li>
<li>Renamed the existing BFG paster template to <code class="docutils literal notranslate"><span class="pre">bfg_starter</span></code>.  Added
another template (<code class="docutils literal notranslate"><span class="pre">bfg_zodb</span></code>) showing default ZODB setup using
<code class="docutils literal notranslate"><span class="pre">repoze.zodbconn</span></code>.</li>
<li>Add a method named <code class="docutils literal notranslate"><span class="pre">assert_</span></code> to the DummyTemplateRenderer.  This
method accepts keyword arguments.  Each key/value pair in the
keyword arguments causes an assertion to be made that the renderer
received this key with a value equal to the asserted value.</li>
<li>Projects generated by the paster templates now use the
<code class="docutils literal notranslate"><span class="pre">DummyTemplateRenderer.assert_</span></code> method in their view tests.</li>
<li>Make the (internal) thread local registry manager maintain a stack
of registries in order to make it possible to call one BFG
application from inside another.</li>
<li>An interface specific to the HTTP verb (GET/PUT/POST/DELETE/HEAD) is
attached to each request object on ingress.  The HTTP-verb-related
interfaces are defined in <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces</span></code> and are
<code class="docutils literal notranslate"><span class="pre">IGETRequest</span></code>, <code class="docutils literal notranslate"><span class="pre">IPOSTRequest</span></code>, <code class="docutils literal notranslate"><span class="pre">IPUTRequest</span></code>,
<code class="docutils literal notranslate"><span class="pre">IDELETERequest</span></code> and <code class="docutils literal notranslate"><span class="pre">IHEADRequest</span></code>.  These interfaces can be
specified as the <code class="docutils literal notranslate"><span class="pre">request_type</span></code> attribute of a bfg view
declaration.  A view naming a specific HTTP-verb-matching interface
will be found only if the view is defined with a request_type that
matches the HTTP verb in the incoming request.  The more general
<code class="docutils literal notranslate"><span class="pre">IRequest</span></code> interface can be used as the request_type to catch all
requests (and this is indeed the default).  All requests implement
<code class="docutils literal notranslate"><span class="pre">IRequest</span></code>. The HTTP-verb-matching idea was pioneered by
<a class="reference external" href="http://pypi.python.org/pypi/repoze.bfg.restrequest/1.0.1">repoze.bfg.restrequest</a> . That
package is no longer required, but still functions fine.</li>
</ul>
</div>
<div class="section" id="id493">
<h3>バグの修正<a class="headerlink" href="#id493" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Fix a bug where the Paste configuration's <code class="docutils literal notranslate"><span class="pre">unicode_path_segments</span></code>
(and os.environ's <code class="docutils literal notranslate"><span class="pre">BFG_UNICODE_PATH_SEGMENTS</span></code>) may have been
defaulting to false in some circumstances.  It now always defaults
to true, matching the documentation and intent.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.find_model</span></code> API did not work properly
when passed a <code class="docutils literal notranslate"><span class="pre">path</span></code> argument which was unicode and contained
high-order bytes when the <code class="docutils literal notranslate"><span class="pre">unicode_path_segments</span></code> or
<code class="docutils literal notranslate"><span class="pre">BFG_UNICODE_PATH_SEGMENTS</span></code> configuration variables were &quot;true&quot;.</li>
<li>A new module was added: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings</span></code>.  This contains
deployment-settings-related code.</li>
</ul>
</div>
<div class="section" id="id494">
<h3>Implementation Changes<a class="headerlink" href="#id494" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">make_app</span></code> callable within <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router</span></code> now registers
the <code class="docutils literal notranslate"><span class="pre">root_policy</span></code> argument as a utility (unnamed, using the new
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IRootFactory</span></code> as a provides interface)
rather than passing it as the first argument to the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.Router</span></code> class.  As a result, the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.Router</span></code> router class only accepts a single
argument: <code class="docutils literal notranslate"><span class="pre">registry</span></code>.  The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.Router</span></code> class
retrieves the root policy via a utility lookup now.  The
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router.make_app</span></code> API also now performs some important
application registrations that were previously handled inside
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.makeRegistry</span></code>.</li>
</ul>
</div>
<div class="section" id="id495">
<h3>New Modules<a class="headerlink" href="#id495" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings</span></code> module was added.  It contains code
related to deployment settings.  Most of the code it contains was
moved to it from the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry</span></code> module.</li>
</ul>
</div>
<div class="section" id="id496">
<h3>行動の変化<a class="headerlink" href="#id496" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.Settings</span></code> class (an instance of which is
registered as a utility providing
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ISettings</span></code> when any application is started)
now automatically calls <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_options</span></code> on the
options passed to its constructor.  This means that usage of
<code class="docutils literal notranslate"><span class="pre">get_options</span></code> within an application's <code class="docutils literal notranslate"><span class="pre">make_app</span></code> function is no
longer required (the &quot;raw&quot; <code class="docutils literal notranslate"><span class="pre">options</span></code> dict or None may be passed).</li>
<li>Remove old cold which attempts to recover from trying to unpickle a
<code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code> template; Chameleon has been the templating engine for a
good long time now.  Running repoze.bfg against a sandbox that has
pickled <code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code> templates it will now just fail with an
unpickling error, but can be fixed by deleting the template cache
files.</li>
</ul>
</div>
<div class="section" id="id497">
<h3>廃止<a class="headerlink" href="#id497" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Moved the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.Settings</span></code> class.  This has been
moved to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.Settings</span></code>. A deprecation warning is
issued when it is imported from the older location.</li>
<li>Moved the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry.get_options</span></code> function This has been
moved to <code class="docutils literal notranslate"><span class="pre">repoze.bfg.settings.get_options</span></code>.  A deprecation warning
is issued when it is imported from the older location.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.IRootPolicy</span></code> interface was renamed
within the interfaces package.  It has been renamed to
<code class="docutils literal notranslate"><span class="pre">IRootFactory</span></code>.  A deprecation warning is issued when it is
imported from the older location.</li>
</ul>
</div>
</div>
<div class="section" id="id498">
<h2>0.6.1 (2009-01-06)<a class="headerlink" href="#id498" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id499">
<h3>New Modules<a class="headerlink" href="#id499" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A new module <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url</span></code> has been added.  It contains the
<code class="docutils literal notranslate"><span class="pre">model_url</span></code> API (moved from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code>) and an
implementation of <code class="docutils literal notranslate"><span class="pre">urlencode</span></code> (like Python's
<code class="docutils literal notranslate"><span class="pre">urllib.urlencode</span></code>) which can handle Unicode keys and values in
parameters to the <code class="docutils literal notranslate"><span class="pre">query</span></code> argument.</li>
</ul>
</div>
<div class="section" id="id500">
<h3>廃止<a class="headerlink" href="#id500" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">model_url</span></code> function has been moved from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> into <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url</span></code>.  It can still
be imported from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> but an import from
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal</span></code> will emit a DeprecationWarning.</li>
</ul>
</div>
<div class="section" id="id501">
<h3>特徴<a class="headerlink" href="#id501" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A <code class="docutils literal notranslate"><span class="pre">static</span></code> helper class was added to the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.views</span></code>
module.  Instances of this class are willing to act as BFG views
which return static resources using files on disk.  See the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.view</span></code> docs for more info.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.url.model_url</span></code> API (nee'
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_url</span></code>) now accepts and honors a
keyword argument named <code class="docutils literal notranslate"><span class="pre">query</span></code>.  The value of this argument
will be used to compose a query string, which will be attached to
the generated URL before it is returned.  See the API docs (in
the docs directory or <a class="reference external" href="http://static.repoze.org/bfgdocs">on the web</a>) for more information.</li>
</ul>
</div>
</div>
<div class="section" id="id502">
<h2>0.6 (2008-12-26)<a class="headerlink" href="#id502" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id503">
<h3>後方の非互換性<a class="headerlink" href="#id503" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Rather than prepare the &quot;stock&quot; implementations of the ZCML directives
from the <code class="docutils literal notranslate"><span class="pre">zope.configuration</span></code> package for use under <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> now makes available the implementations of directives
from the <code class="docutils literal notranslate"><span class="pre">repoze.zcml</span></code> package (see <a class="reference external" href="http://static.repoze.org/zcmldocs">http://static.repoze.org/zcmldocs</a>).
As a result, the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> package now depends on the
<code class="docutils literal notranslate"><span class="pre">repoze.zcml</span></code> package, and no longer depends directly on the
<code class="docutils literal notranslate"><span class="pre">zope.component</span></code>, <code class="docutils literal notranslate"><span class="pre">zope.configuration</span></code>, <code class="docutils literal notranslate"><span class="pre">zope.interface</span></code>, or
<code class="docutils literal notranslate"><span class="pre">zope.proxy</span></code> packages.</p>
<p>The primary reason for this change is to enable us to eventually reduce
the number of inappropriate <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> Zope package dependencies,
as well as to shed features of dependent package directives that don't
make sense for <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>.</p>
<p>Note that currently the set of requirements necessary to use bfg has not
changed.  This is due to inappropriate Zope package requirements in
<code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code>, which will hopefully be remedied soon. NOTE: in
lemonade index a 1.0b8-repozezcml0 package exists which does away with
these requirements.</p>
</li>
<li><p class="first">BFG applications written prior to this release which expect the &quot;stock&quot;
<code class="docutils literal notranslate"><span class="pre">zope.component</span></code> ZCML directive implementations (e.g. <code class="docutils literal notranslate"><span class="pre">adapter</span></code>,
<code class="docutils literal notranslate"><span class="pre">subscriber</span></code>, or <code class="docutils literal notranslate"><span class="pre">utility</span></code>) to function now must either 1) include
the <code class="docutils literal notranslate"><span class="pre">meta.zcml</span></code> file from <code class="docutils literal notranslate"><span class="pre">zope.component</span></code> manually (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;include</span>
<span class="pre">package=&quot;zope.component&quot;</span> <span class="pre">file=&quot;meta.zcml&quot;&gt;</span></code>) and include the
<code class="docutils literal notranslate"><span class="pre">zope.security</span></code> package as an <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> dependency or 2)
change the ZCML in their applications to use the declarations from
<a class="reference external" href="http://static.repoze.org/zcmldocs/">repoze.zcml</a> instead of the stock
declarations.  <code class="docutils literal notranslate"><span class="pre">repoze.zcml</span></code> only makes available the <code class="docutils literal notranslate"><span class="pre">adapter</span></code>,
<code class="docutils literal notranslate"><span class="pre">subscriber</span></code> and <code class="docutils literal notranslate"><span class="pre">utility</span></code> directives.</p>
<p>In short, if you've got an existing BFG application, after this
update, if your application won't start due to an import error for
&quot;zope.security&quot;, the fastest way to get it working again is to add
<code class="docutils literal notranslate"><span class="pre">zope.security</span></code> to the &quot;install_requires&quot; of your BFG
application's <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>, then add the following ZCML anywhere
in your application's <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">include</span> <span class="n">package</span><span class="o">=</span><span class="s2">&quot;zope.component&quot;</span> <span class="n">file</span><span class="o">=</span><span class="s2">&quot;meta.zcml&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Then re-<code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">develop</span></code> or reinstall your application.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">http://namespaces.repoze.org/bfg</span></code> XML namespace is now the default
XML namespace in ZCML for paster-generated applications.  The docs have
been updated to reflect this.</p>
</li>
<li><p class="first">The copies of BFG's <code class="docutils literal notranslate"><span class="pre">meta.zcml</span></code> and <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code> were removed
from the root of the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> package.  In 0.3.6, a new package
named <code class="docutils literal notranslate"><span class="pre">repoze.bfg.includes</span></code> was added, which contains the &quot;correct&quot;
copies of these ZCML files; the ones that were removed were for backwards
compatibility purposes.</p>
</li>
<li><p class="first">The BFG <code class="docutils literal notranslate"><span class="pre">view</span></code> ZCML directive no longer calls
<code class="docutils literal notranslate"><span class="pre">zope.component.interface.provideInterface</span></code> for the <code class="docutils literal notranslate"><span class="pre">for</span></code> interface.
We don't support <code class="docutils literal notranslate"><span class="pre">provideInterface</span></code> in BFG because it mutates the
global registry.</p>
</li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The minimum requirement for <code class="docutils literal notranslate"><span class="pre">chameleon.core</span></code> is now 1.0b13.  The
minimum requirement for <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code> is now 1.0b8.  The minimum
requirement for <code class="docutils literal notranslate"><span class="pre">chameleon.genshi</span></code> is now 1.0b2.</li>
<li>Updated paster template &quot;ez_setup.py&quot; to one that requires setuptools
0.6c9.</li>
<li>Turn <code class="docutils literal notranslate"><span class="pre">view_execution_permitted</span></code> from the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view</span></code> module
into a documented API.</li>
<li>Doc cleanups.</li>
<li>Documented how to create a view capable of serving static resources.</li>
</ul>
</div>
</div>
<div class="section" id="id504">
<h2>0.5.6 (2008-12-18)<a class="headerlink" href="#id504" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Speed up <code class="docutils literal notranslate"><span class="pre">traversal.model_url</span></code> execution by using a custom url quoting
function instead of Python's <code class="docutils literal notranslate"><span class="pre">urllib.quote</span></code>, by caching URL path
segment quoting and encoding results, by disusing Python's
<code class="docutils literal notranslate"><span class="pre">urlparse.urljoin</span></code> in favor of a simple string concatenation, and by
using <code class="docutils literal notranslate"><span class="pre">ob.__class__</span> <span class="pre">is</span> <span class="pre">unicode</span></code> rather than <code class="docutils literal notranslate"><span class="pre">isinstance(ob,</span> <span class="pre">unicode)</span></code>
in one strategic place.</li>
</ul>
</div>
<div class="section" id="id505">
<h2>0.5.5 (2008-12-17)<a class="headerlink" href="#id505" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id506">
<h3>後方の非互換性<a class="headerlink" href="#id506" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">In the past, during traversal, the ModelGraphTraverser (the default
traverser) always passed each URL path segment to any <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>
method of a model object as a byte string (a <code class="docutils literal notranslate"><span class="pre">str</span></code> object).  Now, by
default the ModelGraphTraverser attempts to decode the path segment to
Unicode (a <code class="docutils literal notranslate"><span class="pre">unicode</span></code> object) using the UTF-8 encoding before passing it
to the <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> method of a model object.  This makes it possible
for model objects to be dumber in <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> when trying to resolve
a subobject, as model objects themselves no longer need to try to divine
whether or not to try to decode the path segment passed by the
traverser.</p>
<p>Note that since 0.5.4, URLs generated by repoze.bfg's <code class="docutils literal notranslate"><span class="pre">model_url</span></code> API
will contain UTF-8 encoded path segments as necessary, so any URL
generated by BFG itself will be decodeable by the traverser.  If another
application generates URLs to a BFG application, to be resolved
successully, it should generate the URL with UTF-8 encoded path segments
to be successfully resolved.  The decoder is not at all magical: if a
non-UTF-8-decodeable path segment (e.g. one encoded using UTF-16 or some
other insanity) is passed in the URL, BFG will raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> with
a message indicating it could not decode the path segment.</p>
<p>To turn on the older behavior, where path segments were not decoded to
Unicode before being passed to model object <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> by the
traverser, and were passed as a raw byte string, set the
<code class="docutils literal notranslate"><span class="pre">unicode_path_segments</span></code> configuration setting to a false value in your
BFG application's section of the paste .ini file, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unicode_path_segments</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Or start the application using the <code class="docutils literal notranslate"><span class="pre">BFG_UNICODE_PATH_SEGMENT</span></code> envvar
set to a false value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BFG_UNICODE_PATH_SEGMENTS</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="id507">
<h2>0.5.4 (2008-12-13)<a class="headerlink" href="#id507" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id508">
<h3>後方の非互換性<a class="headerlink" href="#id508" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>URL-quote &quot;extra&quot; element names passed in as <code class="docutils literal notranslate"><span class="pre">**elements</span></code> to the
<code class="docutils literal notranslate"><span class="pre">traversal.model_url</span></code> API.  If any of these names is a Unicode string,
encode it to UTF-8 before URL-quoting.  This is a slight backwards
incompatibility that will impact you if you were already UTF-8 encoding
or URL-quoting the values you passed in as <code class="docutils literal notranslate"><span class="pre">elements</span></code> to this API.</li>
</ul>
</div>
<div class="section" id="id509">
<h3>Bugfixes<a class="headerlink" href="#id509" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>UTF-8 encode each segment in the model path used to generate a URL before
url-quoting it within the <code class="docutils literal notranslate"><span class="pre">traversal.model_url</span></code> API.  This is a bugfix,
as Unicode cannot always be successfully URL-quoted.</li>
</ul>
</div>
<div class="section" id="id510">
<h3>特徴<a class="headerlink" href="#id510" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Make it possible to run unit tests using a buildout-generated Python
&quot;interpreter&quot;.</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">request.root</span></code> to <code class="docutils literal notranslate"><span class="pre">router.Router</span></code> in order to have easy access to
the application root.</li>
</ul>
</div>
</div>
<div class="section" id="id511">
<h2>0.5.3 (2008-12-07)<a class="headerlink" href="#id511" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Remove the <code class="docutils literal notranslate"><span class="pre">ITestingTemplateRenderer</span></code> interface.  When
<code class="docutils literal notranslate"><span class="pre">testing.registerDummyRenderer</span></code> is used, it instead registers a dummy
implementation using <code class="docutils literal notranslate"><span class="pre">ITemplateRenderer</span></code> interface, which is checked
for when the built-in templating facilities do rendering.  This change
also allows developers to make explcit named utility registrations in
the ZCML registry against <code class="docutils literal notranslate"><span class="pre">ITemplateRenderer</span></code>; these will be found
before any on-disk template is looked up.</li>
</ul>
</div>
<div class="section" id="id512">
<h2>0.5.2 (2008-12-05)<a class="headerlink" href="#id512" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>The component registration handler for views (functions or class
instances) now observes component adaptation annotations (see
<code class="docutils literal notranslate"><span class="pre">zope.component.adaptedBy</span></code>) and uses them before the fallback values
for <code class="docutils literal notranslate"><span class="pre">for_</span></code> and <code class="docutils literal notranslate"><span class="pre">request_type</span></code>. This change does not affect existing
code insomuch as the code does not rely on these defaults when an
annotation is set on the view (unlikely).  This means that for a
new-style class you can do <code class="docutils literal notranslate"><span class="pre">zope.component.adapts(ISomeContext,</span>
<span class="pre">ISomeRequest)</span></code> at class scope or at module scope as a decorator to a
bfg view function you can do <code class="docutils literal notranslate"><span class="pre">&#64;zope.component.adapter(ISomeContext,</span>
<span class="pre">ISomeRequest)</span></code>.  This differs from r.bfg.convention inasmuch as you
still need to put something in ZCML for the registrations to get done;
it's only the defaults that will change if these declarations exist.</li>
<li>Strip all slashes from end and beginning of path in clean_path within
traversal machinery.</li>
</ul>
</div>
<div class="section" id="id513">
<h2>0.5.1 (2008-11-25)<a class="headerlink" href="#id513" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">keys</span></code>, <code class="docutils literal notranslate"><span class="pre">items</span></code>, and <code class="docutils literal notranslate"><span class="pre">values</span></code> methods to
<code class="docutils literal notranslate"><span class="pre">testing.DummyModel</span></code>.</li>
<li>Add __delitem__ method to <code class="docutils literal notranslate"><span class="pre">testing.DummyModel</span></code>.</li>
</ul>
</div>
<div class="section" id="id514">
<h2>0.5.0 (2008-11-18)<a class="headerlink" href="#id514" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Fix ModelGraphTraverser; don't try to change the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> or
<code class="docutils literal notranslate"><span class="pre">__parent__</span></code> of an object that claims it implements ILocation during
traversal even if the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> or <code class="docutils literal notranslate"><span class="pre">__parent__</span></code> of the object
traversed does not match the name used in the traversal step or the or
the traversal parent .  Rationale: it was insane to do so. This bug was
only found due to a misconfiguration in an application that mistakenly
had intermediate persistent non-ILocation objects; traversal was causing
a persistent write on every request under this setup.</li>
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.location.locate</span></code> now unconditionally sets <code class="docutils literal notranslate"><span class="pre">__name__</span></code> and
<code class="docutils literal notranslate"><span class="pre">__parent__</span></code> on objects which provide ILocation (it previously only set
them conditionally if they didn't match attributes already present on the
object via equality).</li>
</ul>
</div>
<div class="section" id="id515">
<h2>0.4.9 (2008-11-17)<a class="headerlink" href="#id515" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add chameleon text template API (chameleon ${name} renderings where the
template does not need to be wrapped in any containing XML).</li>
<li>Change docs to explain install in terms of a virtualenv
(unconditionally).</li>
<li>Make pushpage decorator compatible with repoze.bfg.convention's
<code class="docutils literal notranslate"><span class="pre">bfg_view</span></code> decorator when they're stacked.</li>
<li>Add content_length attribute to testing.DummyRequest.</li>
<li>Change paster template <code class="docutils literal notranslate"><span class="pre">tests.py</span></code> to include a true unit test.  Retain
old test as an integration test.  Update documentation.</li>
<li>Document view registrations against classes and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.convention</span></code>
in context.</li>
<li>Change the default paster template to register its single view against a
class rather than an interface.</li>
<li>Document adding a request type interface to the request via a subscriber
function in the events narrative documentation.</li>
</ul>
</div>
<div class="section" id="id516">
<h2>0.4.8 (2008-11-12)<a class="headerlink" href="#id516" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id517">
<h3>後方の非互換性<a class="headerlink" href="#id517" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.model_url</span></code> now always appends a slash to all
generated URLs unless further elements are passed in as the third and
following arguments.  Rationale: views often use <code class="docutils literal notranslate"><span class="pre">model_url</span></code> without
the third-and-following arguments in order to generate a URL for a model
in order to point at the default view of a model.  The URL that points to
the default view of the <em>root</em> model is technically <code class="docutils literal notranslate"><span class="pre">http://mysite/</span></code> as
opposed to <code class="docutils literal notranslate"><span class="pre">http://mysite</span></code> (browsers happen to ask for '/' implicitly
in the GET request).  Because URLs are never automatically generated for
anything <em>except</em> models by <code class="docutils literal notranslate"><span class="pre">model_url</span></code>, and because the root model is
not really special, we continue this pattern.  The impact of this change
is minimal (at most you will have too many slashes in your URL, which BFG
deals with gracefully anyway).</li>
</ul>
</div>
</div>
<div class="section" id="id518">
<h2>0.4.7 (2008-11-11)<a class="headerlink" href="#id518" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id519">
<h3>特徴<a class="headerlink" href="#id519" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Allow <code class="docutils literal notranslate"><span class="pre">testing.registerEventListener</span></code> to be used with Zope 3 style
&quot;object events&quot; (subscribers accept more than a single event argument).
We extend the list with the arguments, rather than append.</li>
</ul>
</div>
</div>
<div class="section" id="id520">
<h2>0.4.6 (2008-11-10)<a class="headerlink" href="#id520" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id521">
<h3>バグの修正<a class="headerlink" href="#id521" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">model_path</span></code> and <code class="docutils literal notranslate"><span class="pre">model_url</span></code> traversal APIs returned the wrong
value for the root object (e.g. <code class="docutils literal notranslate"><span class="pre">model_path</span></code> returned <code class="docutils literal notranslate"><span class="pre">''</span></code> for the
root object, while it should have been returning <code class="docutils literal notranslate"><span class="pre">'/'</span></code>).</li>
</ul>
</div>
</div>
<div class="section" id="id522">
<h2>0.4.5 (2008-11-09)<a class="headerlink" href="#id522" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id523">
<h3>特徴<a class="headerlink" href="#id523" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a <code class="docutils literal notranslate"><span class="pre">clone</span></code> method and a <code class="docutils literal notranslate"><span class="pre">__contains__</span></code> method to the DummyModel
testing object.</li>
<li>Allow DummyModel objects to receive extra keyword arguments, which will
be attached as attributes.</li>
<li>The DummyTemplateRenderer now returns <code class="docutils literal notranslate"><span class="pre">self</span></code> as its implementation.</li>
</ul>
</div>
</div>
<div class="section" id="id524">
<h2>0.4.4 (2008-11-08)<a class="headerlink" href="#id524" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id525">
<h3>特徴<a class="headerlink" href="#id525" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code> module to attempt to make it slightly
easier to write unittest-based automated tests of BFG applications.
Information about this module is in the documentation.</li>
<li>The default template renderer now supports testing better by looking for
<code class="docutils literal notranslate"><span class="pre">ITestingTemplateRenderer</span></code> using a relative pathname.  This is exposed
indirectly through the API named <code class="docutils literal notranslate"><span class="pre">registerTemplateRenderer</span></code> in
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.testing</span></code>.</li>
</ul>
</div>
<div class="section" id="id526">
<h3>廃止<a class="headerlink" href="#id526" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The names <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplate</span></code> ,
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateFactory</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.INodeTemplate</span></code> have been deprecated.  These
should now be imported as <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateRenderer</span></code> and
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ITemplateRendererFactory</span></code>, and
<code class="docutils literal notranslate"><span class="pre">INodeTemplateRenderer</span></code> respectively.</li>
<li>The name <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt.ZPTTemplateFactory</span></code> is deprecated.
Use <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt.ZPTTemplateRenderer</span></code>.</li>
<li>The name <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_genshi.GenshiTemplateFactory</span></code> is
deprecated.  Use <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_genshi.GenshiTemplateRenderer</span></code>.</li>
<li>The name <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt.XSLTemplateFactory</span></code> is deprecated.  Use
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt.XSLTemplateRenderer</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="id527">
<h2>0.4.3 (2008-11-02)<a class="headerlink" href="#id527" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id528">
<h3>バグの修正<a class="headerlink" href="#id528" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Not passing the result of &quot;get_options&quot; as the second argument of
make_app could cause attribute errors when attempting to look up settings
against the ISettings object (internal).  Fixed by giving the Settings
objects defaults for <code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code> and <code class="docutils literal notranslate"><span class="pre">debug_notfound</span></code>.</li>
<li>Return an instance of <code class="docutils literal notranslate"><span class="pre">Allowed</span></code> (rather than <code class="docutils literal notranslate"><span class="pre">True</span></code>) from
<code class="docutils literal notranslate"><span class="pre">has_permission</span></code> when no security policy is in use.</li>
<li>Fix bug where default deny in authorization check would throw a TypeError
(use <code class="docutils literal notranslate"><span class="pre">ACLDenied</span></code> instead of <code class="docutils literal notranslate"><span class="pre">Denied</span></code>).</li>
</ul>
</div>
</div>
<div class="section" id="id529">
<h2>0.4.2 (2008-11-02)<a class="headerlink" href="#id529" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id530">
<h3>特徴<a class="headerlink" href="#id530" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Expose a single ILogger named &quot;repoze.bfg.debug&quot; as a utility; this
logger is registered unconditionally and is used by the authorization
debug machinery.  Applications may also make use of it as necessary
rather than inventing their own logger, for convenience.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_AUTHORIZATION</span></code> envvar and the <code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code>
config file value now only imply debugging of view-invoked security
checks.  Previously, information was printed for every call to
<code class="docutils literal notranslate"><span class="pre">has_permission</span></code> as well, which made output confusing.  To debug
<code class="docutils literal notranslate"><span class="pre">has_permission</span></code> checks and other manual permission checks, use the
debugger and print statements in your own code.</li>
<li>Authorization debugging info is now only present in the HTTP response
body oif <code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code> is true.</li>
<li>The format of authorization debug messages was improved.</li>
<li>A new <code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_NOTFOUND</span></code> envvar was added and a symmetric
<code class="docutils literal notranslate"><span class="pre">debug_notfound</span></code> config file value was added.  When either is true, and
a NotFound response is returned by the BFG router (because a view could
not be found), debugging information is printed to stderr.  When this
value is set true, the body of HTTPNotFound responses will also contain
the same debugging information.</li>
<li><code class="docutils literal notranslate"><span class="pre">Allowed</span></code> and <code class="docutils literal notranslate"><span class="pre">Denied</span></code> responses from the security machinery are now
specialized into two types: ACL types, and non-ACL types.  The
ACL-related responses are instances of <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.ACLAllowed</span></code>
and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.ACLDenied</span></code>.  The non-ACL-related responses are
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.Allowed</span></code> and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.security.Denied</span></code>.  The
allowed-type responses continue to evaluate equal to things that
themselves evaluate equal to the <code class="docutils literal notranslate"><span class="pre">True</span></code> boolean, while the denied-type
responses continue to evaluate equal to things that themselves evaluate
equal to the <code class="docutils literal notranslate"><span class="pre">False</span></code> boolean.  The only difference between the two
types is the information attached to them for debugging purposes.</li>
<li>Added a new <code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_ALL</span></code> envvar and a symmetric <code class="docutils literal notranslate"><span class="pre">debug_all</span></code> config
file value.  When either is true, all other debug-related flags are set
true unconditionally (e.g. <code class="docutils literal notranslate"><span class="pre">debug_notfound</span></code> and
<code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code>).</li>
</ul>
</div>
<div class="section" id="id531">
<h3>ドキュメンテーション<a class="headerlink" href="#id531" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Added info about debug flag changes.</li>
<li>Added a section to the security chapter named &quot;Debugging Imperative
Authorization Failures&quot; (for e.g. <code class="docutils literal notranslate"><span class="pre">has_permssion</span></code>).</li>
</ul>
</div>
<div class="section" id="id532">
<h3>バグの修正<a class="headerlink" href="#id532" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Change default paster template generator to use <code class="docutils literal notranslate"><span class="pre">Paste#http</span></code> server
rather than <code class="docutils literal notranslate"><span class="pre">PasteScript#cherrpy</span></code> server.  The cherrypy server has a
security risk in it when <code class="docutils literal notranslate"><span class="pre">REMOTE_USER</span></code> is trusted by the downstream
application.</li>
</ul>
</div>
</div>
<div class="section" id="id533">
<h2>0.4.1 (2008-10-28)<a class="headerlink" href="#id533" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id534">
<h3>バグの修正<a class="headerlink" href="#id534" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>If the <code class="docutils literal notranslate"><span class="pre">render_view_to_response</span></code> function was called, if the view was
found and called, but it returned something that did not implement
IResponse, the error would pass by unflagged.  This was noticed when I
created a view function that essentially returned None, but received a
NotFound error rather than a ValueError when the view was rendered.  This
was fixed.</li>
</ul>
</div>
</div>
<div class="section" id="id535">
<h2>0.4.0 (2008-10-03)<a class="headerlink" href="#id535" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id536">
<h3>ドキュメント<a class="headerlink" href="#id536" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>An &quot;Environment and Configuration&quot; chapter was added to the narrative
portion of the documentation.</li>
</ul>
</div>
<div class="section" id="id537">
<h3>特徴<a class="headerlink" href="#id537" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Ensure bfg doesn't generate warnings when running under Python
2.6.</li>
<li>The environment variable <code class="docutils literal notranslate"><span class="pre">BFG_RELOAD_TEMPLATES</span></code> is now available
(serves the same purpose as <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code> in the config file).</li>
<li>A new configuration file option <code class="docutils literal notranslate"><span class="pre">debug_authorization</span></code> was added.
This turns on printing of security authorization debug statements
to <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>.  The <code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_AUTHORIZATION</span></code> environment
variable was also added; this performs the same duty.</li>
</ul>
</div>
<div class="section" id="id538">
<h3>バグの修正<a class="headerlink" href="#id538" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The environment variable <code class="docutils literal notranslate"><span class="pre">BFG_SECURITY_DEBUG</span></code> did not always work.
It has been renamed to <code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_AUTHORIZATION</span></code> and fixed.</li>
</ul>
</div>
<div class="section" id="id539">
<h3>廃止<a class="headerlink" href="#id539" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A deprecation warning is now issued when old API names from the
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.templates</span></code> module are imported.</li>
</ul>
</div>
<div class="section" id="id540">
<h3>Backwards incompatibilities<a class="headerlink" href="#id540" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">BFG_SECURITY_DEBUG</span></code> environment variable was renamed to
<code class="docutils literal notranslate"><span class="pre">BFG_DEBUG_AUTHORIZATION</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="id541">
<h2>0.3.9 (2008-08-27)<a class="headerlink" href="#id541" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id542">
<h3>特徴<a class="headerlink" href="#id542" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>A <code class="docutils literal notranslate"><span class="pre">repoze.bfg.location</span></code> API module was added.</li>
</ul>
</div>
<div class="section" id="id543">
<h3>Backwards incompatibilities<a class="headerlink" href="#id543" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p class="first">Applications must now use the <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ILocation</span></code>
interface rather than <code class="docutils literal notranslate"><span class="pre">zope.location.interfaces.ILocation</span></code> to
represent that a model object is &quot;location-aware&quot;.  We've removed
a dependency on <code class="docutils literal notranslate"><span class="pre">zope.location</span></code> for cleanliness purposes: as
new versions of zope libraries are released which have improved
dependency information, getting rid of our dependence on
<code class="docutils literal notranslate"><span class="pre">zope.location</span></code> will prevent a newly installed repoze.bfg
application from requiring the <code class="docutils literal notranslate"><span class="pre">zope.security</span></code>, egg, which not
truly used at all in a &quot;stock&quot; repoze.bfg setup.  These
dependencies are still required by the stack at this time; this
is purely a futureproofing move.</p>
<p>The security and model documentation for previous versions of
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> recommended using the
<code class="docutils literal notranslate"><span class="pre">zope.location.interfaces.ILocation</span></code> interface to represent
that a model object is &quot;location-aware&quot;.  This documentation has
been changed to reflect that this interface should now be
imported from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.interfaces.ILocation</span></code> instead.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id544">
<h2>0.3.8 (2008-08-26)<a class="headerlink" href="#id544" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id545">
<h3>ドキュメント<a class="headerlink" href="#id545" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Documented URL dispatch better in narrative form.</li>
</ul>
</div>
<div class="section" id="id546">
<h3>バグの修正<a class="headerlink" href="#id546" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Routes URL dispatch did not have access to the WSGI environment,
so conditions such as method=GET did not work.</li>
</ul>
</div>
<div class="section" id="id547">
<h3>特徴<a class="headerlink" href="#id547" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">principals_allowed_by_permission</span></code> API to security module.</li>
<li>Replace <code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code> support with support for <code class="docutils literal notranslate"><span class="pre">chameleon.zpt</span></code>.
Chameleon is the new name for the package that used to be named
<code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code>.  NOTE: If you update a <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> SVN checkout
that you're using for development, you will need to run &quot;setup.py
install&quot; or &quot;setup.py develop&quot; again in order to obtain the
proper Chameleon packages.  <code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code> is no longer supported by
<code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code>.  All API functions that used to render <code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code>
templates will work fine with the new packages, and your
templates should render almost identically.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_zpt</span></code> module.  This module provides
Chameleon ZPT support.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt</span></code> module.  This module provides XSLT
support.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.chameleon_genshi</span></code> module.  This provides
direct Genshi support, which did not exist previously.</li>
</ul>
</div>
<div class="section" id="id548">
<h3>廃止<a class="headerlink" href="#id548" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Importing API functions directly from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.template</span></code> is
now deprecated.  The <code class="docutils literal notranslate"><span class="pre">get_template</span></code>, <code class="docutils literal notranslate"><span class="pre">render_template</span></code>,
<code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code> functions should now be imported
from <code class="docutils literal notranslate"><span class="pre">repoze.chameleon_zpt</span></code>.  The <code class="docutils literal notranslate"><span class="pre">render_transform</span></code>, and
<code class="docutils literal notranslate"><span class="pre">render_transform_to_response</span></code> functions should now be imported
from <code class="docutils literal notranslate"><span class="pre">repoze.bfg.xslt</span></code>.  The <code class="docutils literal notranslate"><span class="pre">repoze.bfg.template</span></code> module
will remain around &quot;forever&quot; to support backwards compatibility.</li>
</ul>
</div>
</div>
<div class="section" id="id549">
<h2>0.3.7 (2008-09-09)<a class="headerlink" href="#id549" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id550">
<h3>特徴<a class="headerlink" href="#id550" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add compatibility with z3c.pt 1.0a7+ (z3c.pt became a namespace package).</li>
</ul>
</div>
<div class="section" id="id551">
<h3>バグの修正<a class="headerlink" href="#id551" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">repoze.bfg.traversal.find_model</span></code> function did not function properly.</li>
</ul>
</div>
</div>
<div class="section" id="id552">
<h2>0.3.6 (2008-09-04)<a class="headerlink" href="#id552" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id553">
<h3>特徴<a class="headerlink" href="#id553" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add startup process docs.</li>
<li>Allow configuration cache to be bypassed by actions which include special
&quot;uncacheable&quot; discriminators (for actions that have variable results).</li>
</ul>
</div>
<div class="section" id="id554">
<h3>バグの修正<a class="headerlink" href="#id554" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Move core repoze.bfg ZCML into a <code class="docutils literal notranslate"><span class="pre">repoze.bfg.includes</span></code> package so we
can use repoze.bfg better as a namespace package.  Adjust the code
generator to use it.  We've left around the <code class="docutils literal notranslate"><span class="pre">configure.zcml</span></code> in the
repoze.bfg package directly so as not to break older apps.</li>
<li>When a zcml application registry cache was unpickled, and it contained a
reference to an object that no longer existed (such as a view), bfg would
not start properly.</li>
</ul>
</div>
</div>
<div class="section" id="id555">
<h2>0.3.5 (2008-09-01)<a class="headerlink" href="#id555" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id556">
<h3>特徴<a class="headerlink" href="#id556" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Event notification is issued after application is created and configured
(<code class="docutils literal notranslate"><span class="pre">IWSGIApplicationCreatedEvent</span></code>).</li>
<li>New API module: <code class="docutils literal notranslate"><span class="pre">repoze.bfg.view</span></code>.  This module contains the functions
named <code class="docutils literal notranslate"><span class="pre">render_view_to_response</span></code>, <code class="docutils literal notranslate"><span class="pre">render_view_to_iterable</span></code>,
<code class="docutils literal notranslate"><span class="pre">render_view</span></code> and <code class="docutils literal notranslate"><span class="pre">is_response</span></code>, which are documented in the API
docs.  These features aid programmatic (non-server-driven) view
execution.</li>
</ul>
</div>
</div>
<div class="section" id="id557">
<h2>0.3.4 (2008-08-28)<a class="headerlink" href="#id557" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id558">
<h3>Backwards incompatibilities<a class="headerlink" href="#id558" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Make <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> a namespace package so we can allow folks to create
subpackages (e.g. <code class="docutils literal notranslate"><span class="pre">repoze.bfg.otherthing</span></code>) within separate eggs.  This
is a backwards incompatible change which makes it impossible to import
&quot;make_app&quot; and &quot;get_options&quot; from the <code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> module directly.
This change will break all existing apps generated by the paster code
generator.  Instead, you need to import these functions as
<code class="docutils literal notranslate"><span class="pre">repoze.bfg.router:make_app</span></code> and <code class="docutils literal notranslate"><span class="pre">repoze.bfg.registry:get_options</span></code>,
respectively.  Sorry folks, it has to be done now or never, and
definitely better now.</li>
</ul>
</div>
<div class="section" id="id559">
<h3>特徴<a class="headerlink" href="#id559" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">model_path</span></code> API function to traversal module.</li>
</ul>
<p>Bugfixes</p>
<ul class="simple">
<li>Normalize path returned by repoze.bfg.caller_path.</li>
</ul>
</div>
</div>
<div class="section" id="id560">
<h2>0.3.3 (2008-08-23)<a class="headerlink" href="#id560" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Fix generated test.py module to use project name rather than package
name.</li>
</ul>
</div>
<div class="section" id="id561">
<h2>0.3.2 (2008-08-23)<a class="headerlink" href="#id561" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Remove <code class="docutils literal notranslate"><span class="pre">sampleapp</span></code> sample application from bfg package itself.</li>
<li>Remove dependency on FormEncode (only needed by sampleapp).</li>
<li>Fix paster template generation so that case-sensitivity is preserved for
project vs. package name.</li>
<li>Depend on <code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code> version 1.0a1 (which requires the <code class="docutils literal notranslate"><span class="pre">[lxml]</span></code> extra
currently).</li>
<li>Read and write a pickled ZCML actions list, stored as
<code class="docutils literal notranslate"><span class="pre">configure.zcml.cache</span></code> next to the applications's &quot;normal&quot;
configuration file.  A given bfg app will usually start faster if it's
able to read the pickle data.  It fails gracefully to reading the real
ZCML file if it cannot read the pickle.</li>
</ul>
</div>
<div class="section" id="id562">
<h2>0.3.1 (2008-08-20)<a class="headerlink" href="#id562" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Generated application differences: <code class="docutils literal notranslate"><span class="pre">make_app</span></code> entry point renamed to
<code class="docutils literal notranslate"><span class="pre">app</span></code> in order to have a different name than the bfg function of the
same name, to prevent confusion.</li>
<li>Add &quot;options&quot; processing to bfg's <code class="docutils literal notranslate"><span class="pre">make_app</span></code> to support runtime
options.  A new API function named <code class="docutils literal notranslate"><span class="pre">get_options</span></code> was added to the
registry module.  This function is typically used in an application's
<code class="docutils literal notranslate"><span class="pre">app</span></code> entry point.  The Paste config file section for the app can now
supply the <code class="docutils literal notranslate"><span class="pre">reload_templates</span></code> option, which, if true, will prevent the
need to restart the appserver in order for <code class="docutils literal notranslate"><span class="pre">z3c.pt</span></code> or XSLT template
changes to be detected.</li>
<li>Use only the module name in generated project's &quot;test_suite&quot; (run all
tests found in the package).</li>
<li>Default port for generated apps changed from 5432 to 6543 (Postgres
default port is 6543).</li>
</ul>
</div>
<div class="section" id="id563">
<h2>0.3.0 (2008-08-16)<a class="headerlink" href="#id563" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">get_template</span></code> API to template module.</li>
</ul>
</div>
<div class="section" id="id564">
<h2>0.2.9 (2008-08-11)<a class="headerlink" href="#id564" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>0.2.8 was &quot;brown bag&quot; release.  It didn't work at all.  Symptom:
ComponentLookupError when trying to render a page.</li>
</ul>
</div>
<div class="section" id="id565">
<h2>0.2.8 (2008-08-11)<a class="headerlink" href="#id565" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">find_model</span></code> and <code class="docutils literal notranslate"><span class="pre">find_root</span></code> traversal APIs.  In the process,
make ITraverser a uni-adapter (on context) rather than a multiadapter (on
context and request).</li>
</ul>
</div>
<div class="section" id="id566">
<h2>0.2.7 (2008-08-05)<a class="headerlink" href="#id566" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add a <code class="docutils literal notranslate"><span class="pre">request_type</span></code> attribute to the available attributes of a
<code class="docutils literal notranslate"><span class="pre">bfg:view</span></code> configure.zcml element.  This attribute will have a value
which is a dotted Python path, pointing at an interface.  If the request
object implements this interface when the view lookup is performed, the
appropriate view will be called.  This is meant to allow for simple
&quot;skinning&quot; of sites based on request type.  An event subscriber should
attach the interface to the request on ingress to support skins.</li>
<li>Remove &quot;template only&quot; views.  These were just confusing and were never
documented.</li>
<li>Small url dispatch overhaul: the <code class="docutils literal notranslate"><span class="pre">connect</span></code> method of the
<code class="docutils literal notranslate"><span class="pre">urldispatch.RoutesMapper</span></code> object now accepts a keyword parameter named
<code class="docutils literal notranslate"><span class="pre">context_factory</span></code>.  If this parameter is supplied, it must be a
callable which returns an instance.  This instance is used as the context
for the request when a route is matched.</li>
<li>The registration of a RoutesModelTraverser no longer needs to be
performed by the application; it's in the bfg ZCML now.</li>
</ul>
</div>
<div class="section" id="id567">
<h2>0.2.6 (2008-07-31)<a class="headerlink" href="#id567" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add event sends for INewRequest and INewResponse.  See the events.rst
chapter in the documentation's <code class="docutils literal notranslate"><span class="pre">api</span></code> directory.</li>
</ul>
</div>
<div class="section" id="id568">
<h2>0.2.5 (2008-07-28)<a class="headerlink" href="#id568" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">model_url</span></code> API.</li>
</ul>
</div>
<div class="section" id="id569">
<h2>0.2.4 (2008-07-27)<a class="headerlink" href="#id569" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Added url-based dispatch.</li>
</ul>
</div>
<div class="section" id="id570">
<h2>0.2.3 (2008-07-20)<a class="headerlink" href="#id570" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add API functions for authenticated_userid and effective_principals.</li>
</ul>
</div>
<div class="section" id="id571">
<h2>0.2.2 (2008-07-20)<a class="headerlink" href="#id571" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add authenticated_userid and effective_principals API to security
policy.</li>
</ul>
</div>
<div class="section" id="id572">
<h2>0.2.1 (2008-07-20)<a class="headerlink" href="#id572" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add find_interface API.</li>
</ul>
</div>
<div class="section" id="id573">
<h2>0.2 (2008-07-19)<a class="headerlink" href="#id573" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Add wsgiapp decorator.</li>
<li>The concept of &quot;view factories&quot; was removed in favor of always calling a
view, which is a callable that returns a response directly (as opposed to
returning a view).  As a result, the <code class="docutils literal notranslate"><span class="pre">factory</span></code> attribute in the
bfg:view ZCML statement has been renamed to <code class="docutils literal notranslate"><span class="pre">view</span></code>.  Various interface
names were changed also.</li>
<li><code class="docutils literal notranslate"><span class="pre">render_template</span></code> and <code class="docutils literal notranslate"><span class="pre">render_transform</span></code> no longer return a Response
object.  Instead, these return strings.  The old behavior can be obtained
by using <code class="docutils literal notranslate"><span class="pre">render_template_to_response</span></code> and
<code class="docutils literal notranslate"><span class="pre">render_transform_to_response</span></code>.</li>
<li>Added 'repoze.bfg.push:pushpage' decorator, which creates BFG views from
callables which take (context, request) and return a mapping of top-level
names.</li>
<li>Added ACL-based security.</li>
<li>Support for XSLT templates via a render_transform method</li>
</ul>
</div>
<div class="section" id="id574">
<h2>0.1 (2008-07-08)<a class="headerlink" href="#id574" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Initial release.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(機械翻訳) <span>Pyramid</span> 変更履歴</a><ul>
<li><a class="reference internal" href="#unreleased">1.9.3（未リリース）</a></li>
<li><a class="reference internal" href="#changes-1-9-2">1.9.2（2018-04-23）</a></li>
<li><a class="reference internal" href="#changes-1-9-1">1.9.1（2017-07-13）</a></li>
<li><a class="reference internal" href="#id3">1.9（2017-06-26）</a></li>
<li><a class="reference internal" href="#b1-2017-06-19">1.9b1（2017-06-19）</a></li>
<li><a class="reference internal" href="#a2-2017-05-09">1.9a2（2017-05-09）</a><ul>
<li><a class="reference internal" href="#backward-incompatibilities">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2017-05-01">1.9a1（2017-05-01）</a><ul>
<li><a class="reference internal" href="#major-features">主な特長</a></li>
<li><a class="reference internal" href="#minor-features">マイナー機能</a></li>
<li><a class="reference internal" href="#bug-fixes">バグの修正</a></li>
<li><a class="reference internal" href="#deprecations">廃止</a></li>
<li><a class="reference internal" href="#documentation-changes">ドキュメントの変更点</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">1.8（2017-01-21）</a></li>
<li><a class="reference internal" href="#b1-2017-01-17">1.8b1（2017-01-17）</a><ul>
<li><a class="reference internal" href="#features">特徴</a></li>
<li><a class="reference internal" href="#id5">ドキュメントの変更点</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2016-12-25">1.8a1（2016-12-25）</a><ul>
<li><a class="reference internal" href="#id6">後方の非互換性</a></li>
<li><a class="reference internal" href="#id7">特徴</a></li>
<li><a class="reference internal" href="#id8">バグの修正</a></li>
<li><a class="reference internal" href="#id9">廃止</a></li>
<li><a class="reference internal" href="#id10">ドキュメントの変更点</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id11">1.7（2016-05-19）</a></li>
<li><a class="reference internal" href="#b4-2016-05-12">1.7b4（2016-05-12）</a></li>
<li><a class="reference internal" href="#b3-2016-05-10">1.7b3（2016-05-10）</a></li>
<li><a class="reference internal" href="#b2-2016-05-01">1.7b2（2016-05-01）</a></li>
<li><a class="reference internal" href="#b1-2016-04-25">1.7b1（2016-04-25）</a></li>
<li><a class="reference internal" href="#a2-2016-04-19">1.7a2（2016-04-19）</a><ul>
<li><a class="reference internal" href="#id12">特徴</a></li>
<li><a class="reference internal" href="#id13">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2016-04-16">1.7a1（2016-04-16）</a><ul>
<li><a class="reference internal" href="#id14">後方の非互換性</a></li>
<li><a class="reference internal" href="#id15">特徴</a></li>
<li><a class="reference internal" href="#id16">ドキュメントの変更点</a></li>
<li><a class="reference internal" href="#id17">バグの修正</a></li>
<li><a class="reference internal" href="#id18">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id19">1.6（2016-01-03）</a><ul>
<li><a class="reference internal" href="#id20">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2015-12-17">1.6b3（2015-12-17）</a><ul>
<li><a class="reference internal" href="#id21">後方の非互換性</a></li>
<li><a class="reference internal" href="#id22">特徴</a></li>
<li><a class="reference internal" href="#id23">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2015-10-15">1.6b2（2015-10-15）</a><ul>
<li><a class="reference internal" href="#id24">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2015-10-15">1.6b1（2015-10-15）</a><ul>
<li><a class="reference internal" href="#id25">後方の非互換性</a></li>
<li><a class="reference internal" href="#id26">特徴</a></li>
<li><a class="reference internal" href="#id27">バグの修正</a></li>
<li><a class="reference internal" href="#id28">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2015-06-30">1.6a2（2015-06-30）</a><ul>
<li><a class="reference internal" href="#id29">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2015-04-15">1.6a1（2015-04-15）</a><ul>
<li><a class="reference internal" href="#id30">特徴</a></li>
<li><a class="reference internal" href="#id31">バグの修正</a></li>
<li><a class="reference internal" href="#id32">廃止</a></li>
<li><a class="reference internal" href="#docs">ドキュメント</a></li>
<li><a class="reference internal" href="#scaffolds">足場</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id33">1.5（2014-04-08）</a></li>
<li><a class="reference internal" href="#b1-2014-02-08">1.5b1（2014-02-08）</a><ul>
<li><a class="reference internal" href="#id34">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2014-01-28">1.5a4（2014-01-28）</a><ul>
<li><a class="reference internal" href="#id35">特徴</a></li>
<li><a class="reference internal" href="#id36">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2013-12-10">1.5a3（2013-12-10）</a><ul>
<li><a class="reference internal" href="#id37">特徴</a></li>
<li><a class="reference internal" href="#id38">バグの修正</a></li>
<li><a class="reference internal" href="#documentation">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#backwards-incompatibilities">後方の非互換性</a></li>
<li><a class="reference internal" href="#id39">廃止</a></li>
<li><a class="reference internal" href="#dependencies">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2013-09-22">1.5a2（2013-09-22）</a><ul>
<li><a class="reference internal" href="#id40">特徴</a></li>
<li><a class="reference internal" href="#id41">バグの修正</a></li>
<li><a class="reference internal" href="#id42">後方の非互換性</a></li>
<li><a class="reference internal" href="#id43">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2013-08-30">1.5a1（2013-08-30）</a><ul>
<li><a class="reference internal" href="#id44">特徴</a></li>
<li><a class="reference internal" href="#id45">バグの修正</a></li>
<li><a class="reference internal" href="#id46">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id47">1.4（2012-12-18）</a><ul>
<li><a class="reference internal" href="#id48">ドキュメント</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2012-12-10">1.4b3（2012-12-10）</a></li>
<li><a class="reference internal" href="#b2-2012-12-10">1.4b2（2012-12-10）</a><ul>
<li><a class="reference internal" href="#id49">ドキュメント</a></li>
<li><a class="reference internal" href="#id50">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2012-11-21">1.4b1（2012-11-21）</a><ul>
<li><a class="reference internal" href="#id51">特徴</a></li>
<li><a class="reference internal" href="#id52">バグの修正</a></li>
<li><a class="reference internal" href="#id53">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2012-11-14">1.4a4（2012-11-14）</a><ul>
<li><a class="reference internal" href="#id54">特徴</a></li>
<li><a class="reference internal" href="#id55">バグの修正</a></li>
<li><a class="reference internal" href="#id56">廃止</a></li>
<li><a class="reference internal" href="#id57">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#internals">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2012-10-26">1.4a3（2012-10-26）</a><ul>
<li><a class="reference internal" href="#id58">バグの修正</a></li>
<li><a class="reference internal" href="#id59">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2012-09-27">1.4a2（2012-09-27）</a><ul>
<li><a class="reference internal" href="#id60">バグの修正</a></li>
<li><a class="reference internal" href="#id61">特徴</a></li>
<li><a class="reference internal" href="#id62">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2012-09-16">1.4a1（2012-09-16）</a><ul>
<li><a class="reference internal" href="#id63">バグの修正</a></li>
<li><a class="reference internal" href="#id64">特徴</a></li>
<li><a class="reference internal" href="#id65">廃止</a></li>
<li><a class="reference internal" href="#id66">後方の非互換性</a></li>
<li><a class="reference internal" href="#id67">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id68">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id69">1.3（2012-03-21）</a><ul>
<li><a class="reference internal" href="#id70">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2012-03-17">1.3b3（2012-03-17）</a><ul>
<li><a class="reference internal" href="#id71">バグの修正</a></li>
<li><a class="reference internal" href="#id72">足場</a></li>
<li><a class="reference internal" href="#id73">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2012-03-02">1.3b2（2012-03-02）</a><ul>
<li><a class="reference internal" href="#id74">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2012-02-26">1.3b1（2012-02-26）</a><ul>
<li><a class="reference internal" href="#id75">バグの修正</a></li>
<li><a class="reference internal" href="#id76">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a9-2012-02-22">1.3a9（2012-02-22）</a><ul>
<li><a class="reference internal" href="#id77">特徴</a></li>
<li><a class="reference internal" href="#id78">後方の非互換性</a></li>
<li><a class="reference internal" href="#id79">廃止</a></li>
<li><a class="reference internal" href="#id80">バグの修正</a></li>
<li><a class="reference internal" href="#id81">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2012-02-19">1.3a8（2012-02-19）</a><ul>
<li><a class="reference internal" href="#id82">特徴</a></li>
<li><a class="reference internal" href="#id83">後方の非互換性</a></li>
<li><a class="reference internal" href="#id84">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#scaffolding">足場</a></li>
<li><a class="reference internal" href="#id85">依存関係</a></li>
<li><a class="reference internal" href="#internal">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2012-02-07">1.3a7（2012-02-07）</a><ul>
<li><a class="reference internal" href="#id86">特徴</a></li>
<li><a class="reference internal" href="#id87">バグの修正</a></li>
<li><a class="reference internal" href="#id88">後方の非互換性</a></li>
<li><a class="reference internal" href="#id89">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2012-01-20">1.3a6（2012-01-20）</a><ul>
<li><a class="reference internal" href="#id90">特徴</a></li>
<li><a class="reference internal" href="#id91">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2012-01-09">1.3a5（2012-01-09）</a><ul>
<li><a class="reference internal" href="#id92">バグの修正</a></li>
<li><a class="reference internal" href="#id93">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2012-01-05">1.3a4（2012-01-05）</a><ul>
<li><a class="reference internal" href="#id94">特徴</a></li>
<li><a class="reference internal" href="#id95">バグの修正</a></li>
<li><a class="reference internal" href="#id96">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2011-12-21">1.3a3（2011-12-21）</a><ul>
<li><a class="reference internal" href="#id97">特徴</a></li>
<li><a class="reference internal" href="#id98">バグの修正</a></li>
<li><a class="reference internal" href="#id99">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2011-12-14">1.3a2（2011-12-14）</a><ul>
<li><a class="reference internal" href="#id100">特徴</a></li>
<li><a class="reference internal" href="#id101">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id102">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2011-12-09">1.3a1（2011-12-09）</a><ul>
<li><a class="reference internal" href="#id103">特徴</a></li>
<li><a class="reference internal" href="#id104">バグの修正</a></li>
<li><a class="reference internal" href="#id105">後方の非互換性</a></li>
<li><a class="reference internal" href="#id106">依存関係</a></li>
<li><a class="reference internal" href="#id107">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id108">足場</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id109">1.2（2011-09-12）</a><ul>
<li><a class="reference internal" href="#id110">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2011-09-11">1.2b3（2011-09-11）</a><ul>
<li><a class="reference internal" href="#id111">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2011-09-08">1.2b2（2011-09-08）</a><ul>
<li><a class="reference internal" href="#id112">バグの修正</a></li>
<li><a class="reference internal" href="#id113">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2011-09-08">1.2b1（2011-09-08）</a><ul>
<li><a class="reference internal" href="#id114">バグの修正</a></li>
<li><a class="reference internal" href="#id115">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2011-09-06">1.2a6（2011-09-06）</a><ul>
<li><a class="reference internal" href="#id116">バグの修正</a></li>
<li><a class="reference internal" href="#id117">内部</a></li>
<li><a class="reference internal" href="#behavior-differences">行動の違い</a></li>
<li><a class="reference internal" href="#id118">足場</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2011-09-04">1.2a5（2011-09-04）</a><ul>
<li><a class="reference internal" href="#id119">バグの修正</a></li>
<li><a class="reference internal" href="#id120">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2011-09-02">1.2a4（2011-09-02）</a><ul>
<li><a class="reference internal" href="#id121">特徴</a></li>
<li><a class="reference internal" href="#id122">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2011-08-29">1.2a3（2011-08-29）</a><ul>
<li><a class="reference internal" href="#id123">バグの修正</a></li>
<li><a class="reference internal" href="#id124">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2011-08-27">1.2a2（2011-08-27）</a><ul>
<li><a class="reference internal" href="#id125">バグの修正</a></li>
<li><a class="reference internal" href="#id126">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2011-08-24">1.2a1（2011-08-24）</a><ul>
<li><a class="reference internal" href="#id127">特徴</a></li>
<li><a class="reference internal" href="#id128">内部</a></li>
<li><a class="reference internal" href="#id129">廃止</a></li>
<li><a class="reference internal" href="#id130">後方の非互換性</a></li>
<li><a class="reference internal" href="#id131">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#dependency-changes">依存関係の変更</a></li>
<li><a class="reference internal" href="#id132">足場</a></li>
<li><a class="reference internal" href="#id133">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id134">1.1（2011-07-22）</a><ul>
<li><a class="reference internal" href="#id135">特徴</a></li>
<li><a class="reference internal" href="#id136">内部</a></li>
<li><a class="reference internal" href="#id137">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b4-2011-07-18">1.1b4（2011-07-18）</a><ul>
<li><a class="reference internal" href="#id138">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id139">後方の非互換性</a></li>
<li><a class="reference internal" href="#id140">特徴</a></li>
<li><a class="reference internal" href="#id141">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2011-07-15">1.1b3（2011-07-15）</a><ul>
<li><a class="reference internal" href="#id142">特徴</a></li>
<li><a class="reference internal" href="#id143">廃止</a></li>
<li><a class="reference internal" href="#id144">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2011-07-13">1.1b2（2011-07-13）</a><ul>
<li><a class="reference internal" href="#id145">特徴</a></li>
<li><a class="reference internal" href="#behavior-changes">行動の変化</a></li>
<li><a class="reference internal" href="#id146">バグの修正</a></li>
<li><a class="reference internal" href="#id147">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2011-07-10">1.1b1（2011-07-10）</a><ul>
<li><a class="reference internal" href="#id148">特徴</a></li>
<li><a class="reference internal" href="#id149">バグの修正</a></li>
<li><a class="reference internal" href="#id150">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id151">行動の変化</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2011-07-01">1.1a4（2011-07-01）</a><ul>
<li><a class="reference internal" href="#id152">バグの修正</a></li>
<li><a class="reference internal" href="#id153">特徴</a></li>
<li><a class="reference internal" href="#id154">廃止</a></li>
<li><a class="reference internal" href="#id155">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2011-06-26">1.1a3（2011-06-26）</a><ul>
<li><a class="reference internal" href="#id156">特徴</a></li>
<li><a class="reference internal" href="#id157">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2011-06-22">1.1a2（2011-06-22）</a><ul>
<li><a class="reference internal" href="#id158">バグの修正</a></li>
<li><a class="reference internal" href="#id159">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2011-06-20">1.1a1（2011-06-20）</a><ul>
<li><a class="reference internal" href="#id160">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id161">特徴</a></li>
<li><a class="reference internal" href="#id162">バグの修正</a></li>
<li><a class="reference internal" href="#id163">廃止</a></li>
<li><a class="reference internal" href="#id164">行動の変化</a></li>
<li><a class="reference internal" href="#id165">後方の非互換性</a></li>
<li><a class="reference internal" href="#id166">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id167">1.0（2011-01-30）</a><ul>
<li><a class="reference internal" href="#id168">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id169">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2011-01-28">1.0b3（2011-01-28）</a><ul>
<li><a class="reference internal" href="#id170">バグの修正</a></li>
<li><a class="reference internal" href="#id171">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2011-01-24">1.0b2（2011-01-24）</a><ul>
<li><a class="reference internal" href="#id172">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2011-01-21">1.0b1（2011-01-21）</a><ul>
<li><a class="reference internal" href="#id173">特徴</a></li>
<li><a class="reference internal" href="#id174">バグの修正</a></li>
<li><a class="reference internal" href="#id175">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id176">廃止</a></li>
<li><a class="reference internal" href="#id177">後方の非互換性</a></li>
<li><a class="reference internal" href="#paster-templates">ペースターテンプレート</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a10-2011-01-18">1.0a10（2011-01-18）</a><ul>
<li><a class="reference internal" href="#id178">バグの修正</a></li>
<li><a class="reference internal" href="#id179">後方の非互換性</a></li>
<li><a class="reference internal" href="#id180">特徴</a></li>
<li><a class="reference internal" href="#id181">ペースターテンプレート</a></li>
<li><a class="reference internal" href="#id182">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id183">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a9-2011-01-08">1.0a9（2011-01-08）</a><ul>
<li><a class="reference internal" href="#id184">バグの修正</a></li>
<li><a class="reference internal" href="#id185">特徴</a></li>
<li><a class="reference internal" href="#id186">後方の非互換性</a></li>
<li><a class="reference internal" href="#id187">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id188">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2010-12-27">1.0a8（2010-12-27）</a><ul>
<li><a class="reference internal" href="#id189">バグの修正</a></li>
<li><a class="reference internal" href="#id190">特徴</a></li>
<li><a class="reference internal" href="#id191">ペースターテンプレート</a></li>
<li><a class="reference internal" href="#id192">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2010-12-20">1.0a7（2010-12-20）</a><ul>
<li><a class="reference internal" href="#terminology-changes">用語の変更</a></li>
<li><a class="reference internal" href="#id193">バグの修正</a></li>
<li><a class="reference internal" href="#id194">特徴</a></li>
<li><a class="reference internal" href="#environment">環境</a></li>
<li><a class="reference internal" href="#id195">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id196">ペースターテンプレート</a></li>
<li><a class="reference internal" href="#id197">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2010-12-15">1.0a6（2010-12-15）</a><ul>
<li><a class="reference internal" href="#id198">バグの修正</a></li>
<li><a class="reference internal" href="#id199">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2010-12-14">1.0a5（2010-12-14）</a><ul>
<li><a class="reference internal" href="#id200">特徴</a></li>
<li><a class="reference internal" href="#id201">依存関係</a></li>
<li><a class="reference internal" href="#id202">バグの修正</a></li>
<li><a class="reference internal" href="#id203">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id204">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2010-11-21">1.0a4（2010-11-21）</a><ul>
<li><a class="reference internal" href="#id205">特徴</a></li>
<li><a class="reference internal" href="#id206">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id207">バグの修正</a></li>
<li><a class="reference internal" href="#id208">後方の非互換性</a></li>
<li><a class="reference internal" href="#id209">廃止</a></li>
<li><a class="reference internal" href="#id210">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id211">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2010-11-16">1.0a3 (2010-11-16)</a><ul>
<li><a class="reference internal" href="#id212">特徴</a></li>
<li><a class="reference internal" href="#id213">バグの修正</a></li>
<li><a class="reference internal" href="#id214">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id215">廃止</a></li>
<li><a class="reference internal" href="#id216">行動の違い</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2010-11-09">1.0a2 (2010-11-09)</a><ul>
<li><a class="reference internal" href="#id217">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2010-11-05">1.0a1 (2010-11-05)</a><ul>
<li><a class="reference internal" href="#features-delta-from-bfg-1-3">Features (delta from BFG 1.3)</a></li>
<li><a class="reference internal" href="#documentation-delta-from-bfg-1-3">Documentation (delta from BFG 1.3)</a></li>
<li><a class="reference internal" href="#backwards-incompatibilities-with-bfg-1-3">Backwards Incompatibilities (with BFG 1.3)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#repoze-bfg-change-history-previous-name-for-pyramid"><code class="docutils literal notranslate"><span class="pre">repoze.bfg</span></code> Change History (previous name for Pyramid)</a><ul>
<li><a class="reference internal" href="#b1-2010-10-25">1.3b1 (2010-10-25)</a><ul>
<li><a class="reference internal" href="#id218">特徴</a></li>
<li><a class="reference internal" href="#id219">バグの修正</a></li>
<li><a class="reference internal" href="#id220">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a15-2010-09-30">1.3a15 (2010-09-30)</a><ul>
<li><a class="reference internal" href="#id221">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a14-2010-09-14">1.3a14 (2010-09-14)</a><ul>
<li><a class="reference internal" href="#id222">バグの修正</a></li>
<li><a class="reference internal" href="#id223">特徴</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#id224">後方の非互換性</a></li>
<li><a class="reference internal" href="#errata">Errata</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a13-2010-09-14">1.3a13 (2010-09-14)</a><ul>
<li><a class="reference internal" href="#id225">バグの修正</a></li>
<li><a class="reference internal" href="#id226">特徴</a></li>
<li><a class="reference internal" href="#id227">後方の非互換性</a></li>
<li><a class="reference internal" href="#id228">廃止</a></li>
<li><a class="reference internal" href="#id229">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a12-2010-09-08">1.3a12 (2010-09-08)</a><ul>
<li><a class="reference internal" href="#id230">バグの修正</a></li>
<li><a class="reference internal" href="#id231">特徴</a></li>
<li><a class="reference internal" href="#id232">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id233">ペースターテンプレート</a></li>
<li><a class="reference internal" href="#id234">依存関係</a></li>
<li><a class="reference internal" href="#id235">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a11-2010-09-05">1.3a11 (2010-09-05)</a><ul>
<li><a class="reference internal" href="#id236">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a10-2010-09-05">1.3a10 (2010-09-05)</a><ul>
<li><a class="reference internal" href="#id237">特徴</a></li>
<li><a class="reference internal" href="#id238">バグの修正</a></li>
<li><a class="reference internal" href="#id239">後方の非互換性</a></li>
<li><a class="reference internal" href="#id240">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id241">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a9-2010-08-22">1.3a9 (2010-08-22)</a><ul>
<li><a class="reference internal" href="#id242">特徴</a></li>
<li><a class="reference internal" href="#id243">後方の非互換性</a></li>
<li><a class="reference internal" href="#id244">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id245">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2010-08-08">1.3a8 (2010-08-08)</a><ul>
<li><a class="reference internal" href="#id246">特徴</a></li>
<li><a class="reference internal" href="#id247">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id248">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2010-08-01">1.3a7 (2010-08-01)</a><ul>
<li><a class="reference internal" href="#id249">特徴</a></li>
<li><a class="reference internal" href="#id250">バグの修正</a></li>
<li><a class="reference internal" href="#id251">後方の非互換性</a></li>
<li><a class="reference internal" href="#id252">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2010-07-25">1.3a6 (2010-07-25)</a><ul>
<li><a class="reference internal" href="#id253">特徴</a></li>
<li><a class="reference internal" href="#id254">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id255">バグの修正</a></li>
<li><a class="reference internal" href="#id256">廃止</a></li>
<li><a class="reference internal" href="#id257">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2010-07-14">1.3a5 (2010-07-14)</a><ul>
<li><a class="reference internal" href="#id258">特徴</a></li>
<li><a class="reference internal" href="#id259">バグの修正</a></li>
<li><a class="reference internal" href="#id260">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id261">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2010-07-03">1.3a4 (2010-07-03)</a><ul>
<li><a class="reference internal" href="#id262">特徴</a></li>
<li><a class="reference internal" href="#id263">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id264">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2010-05-01">1.3a3 (2010-05-01)</a><ul>
<li><a class="reference internal" href="#id265">ペースターテンプレート</a></li>
<li><a class="reference internal" href="#id266">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2010-04-28">1.3a2 (2010-04-28)</a><ul>
<li><a class="reference internal" href="#id267">特徴</a></li>
<li><a class="reference internal" href="#id268">後方の非互換性</a></li>
<li><a class="reference internal" href="#id269">行動の変化</a></li>
<li><a class="reference internal" href="#id270">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2010-04-26">1.3a1 (2010-04-26)</a><ul>
<li><a class="reference internal" href="#id271">特徴</a></li>
<li><a class="reference internal" href="#zcml">ZCML</a></li>
<li><a class="reference internal" href="#id272">廃止</a></li>
<li><a class="reference internal" href="#id273">依存関係</a></li>
<li><a class="reference internal" href="#id274">内部</a></li>
<li><a class="reference internal" href="#id275">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id276">ペースターテンプレート</a></li>
<li><a class="reference internal" href="#licensing">Licensing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id277">1.2 (2010-02-10)</a></li>
<li><a class="reference internal" href="#b6-2010-02-06">1.2b6 (2010-02-06)</a><ul>
<li><a class="reference internal" href="#id278">後方の非互換性</a></li>
<li><a class="reference internal" href="#id279">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b5-2010-02-04">1.2b5 (2010-02-04)</a><ul>
<li><a class="reference internal" href="#id280">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b4-2010-02-03">1.2b4 (2010-02-03)</a><ul>
<li><a class="reference internal" href="#id281">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id282">バグの修正</a></li>
<li><a class="reference internal" href="#id283">特徴</a></li>
<li><a class="reference internal" href="#id284">後方の非互換性</a></li>
<li><a class="reference internal" href="#id285">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2010-01-24">1.2b3 (2010-01-24)</a><ul>
<li><a class="reference internal" href="#id286">バグの修正</a></li>
<li><a class="reference internal" href="#id287">特徴</a></li>
<li><a class="reference internal" href="#id288">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2010-01-21">1.2b2 (2010-01-21)</a><ul>
<li><a class="reference internal" href="#id289">バグの修正</a></li>
<li><a class="reference internal" href="#id290">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id291">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2010-01-18">1.2b1 (2010-01-18)</a><ul>
<li><a class="reference internal" href="#id292">バグの修正</a></li>
<li><a class="reference internal" href="#id293">特徴</a></li>
<li><a class="reference internal" href="#id294">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a11-2010-01-05">1.2a11 (2010-01-05)</a><ul>
<li><a class="reference internal" href="#id295">バグの修正</a></li>
<li><a class="reference internal" href="#id296">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a10-2010-01-04">1.2a10 (2010-01-04)</a><ul>
<li><a class="reference internal" href="#id297">特徴</a></li>
<li><a class="reference internal" href="#documentation-and-paster-templates">Documentation and Paster Templates</a></li>
<li><a class="reference internal" href="#documentation-licensing">Documentation Licensing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a9-2009-12-27">1.2a9 (2009-12-27)</a><ul>
<li><a class="reference internal" href="#id298">Documentation Licensing</a></li>
<li><a class="reference internal" href="#id299">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2009-12-24">1.2a8 (2009-12-24)</a><ul>
<li><a class="reference internal" href="#id300">特徴</a></li>
<li><a class="reference internal" href="#id301">バグの修正</a></li>
<li><a class="reference internal" href="#id302">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id303">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2009-12-20">1.2a7 (2009-12-20)</a><ul>
<li><a class="reference internal" href="#id304">特徴</a></li>
<li><a class="reference internal" href="#id305">内部</a></li>
<li><a class="reference internal" href="#documenation">Documenation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2009-12-18">1.2a6 (2009-12-18)</a><ul>
<li><a class="reference internal" href="#id306">特徴</a></li>
<li><a class="reference internal" href="#id307">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id308">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2009-12-10">1.2a5 (2009-12-10)</a><ul>
<li><a class="reference internal" href="#id309">特徴</a></li>
<li><a class="reference internal" href="#id310">内部</a></li>
<li><a class="reference internal" href="#id311">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id312">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2009-12-07">1.2a4 (2009-12-07)</a><ul>
<li><a class="reference internal" href="#id313">特徴</a></li>
<li><a class="reference internal" href="#id314">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2009-12-02">1.2a3 (2009-12-02)</a><ul>
<li><a class="reference internal" href="#id315">バグの修正</a></li>
<li><a class="reference internal" href="#id316">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2009-11-29">1.2a2 (2009-11-29)</a><ul>
<li><a class="reference internal" href="#id317">バグの修正</a></li>
<li><a class="reference internal" href="#id318">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2009-11-28">1.2a1 (2009-11-28)</a><ul>
<li><a class="reference internal" href="#id319">特徴</a></li>
<li><a class="reference internal" href="#id320">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id321">バグの修正</a></li>
<li><a class="reference internal" href="#id322">内部</a></li>
<li><a class="reference internal" href="#backwards-incompatibilites">Backwards Incompatibilites</a></li>
<li><a class="reference internal" href="#id323">廃止</a></li>
<li><a class="reference internal" href="#id324">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id325">1.1.1 (2009-11-21)</a><ul>
<li><a class="reference internal" href="#id326">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id327">1.1 (2009-11-15)</a><ul>
<li><a class="reference internal" href="#id328">内部</a></li>
<li><a class="reference internal" href="#id329">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b4-2009-11-12">1.1b4 (2009-11-12)</a><ul>
<li><a class="reference internal" href="#id330">バグの修正</a></li>
<li><a class="reference internal" href="#id331">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#templates">Templates</a></li>
<li><a class="reference internal" href="#id332">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2009-11-06">1.1b3 (2009-11-06)</a><ul>
<li><a class="reference internal" href="#id333">特徴</a></li>
<li><a class="reference internal" href="#id334">バグの修正</a></li>
<li><a class="reference internal" href="#id335">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2009-11-02">1.1b2 (2009-11-02)</a><ul>
<li><a class="reference internal" href="#id336">バグの修正</a></li>
<li><a class="reference internal" href="#id337">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id338">特徴</a></li>
<li><a class="reference internal" href="#id339">依存関係</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2009-11-01">1.1b1 (2009-11-01)</a><ul>
<li><a class="reference internal" href="#id340">バグの修正</a></li>
<li><a class="reference internal" href="#id341">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id342">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a9-2009-10-31">1.1a9 (2009-10-31)</a><ul>
<li><a class="reference internal" href="#id343">バグの修正</a></li>
<li><a class="reference internal" href="#id344">特徴</a></li>
<li><a class="reference internal" href="#id345">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id346">内部</a></li>
<li><a class="reference internal" href="#id347">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2009-10-27">1.1a8 (2009-10-27)</a><ul>
<li><a class="reference internal" href="#id348">特徴</a></li>
<li><a class="reference internal" href="#id349">バグの修正</a></li>
<li><a class="reference internal" href="#id350">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id351">後方の非互換性</a></li>
<li><a class="reference internal" href="#id352">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2009-10-18">1.1a7 (2009-10-18)</a><ul>
<li><a class="reference internal" href="#id353">特徴</a></li>
<li><a class="reference internal" href="#id354">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id355">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2009-10-15">1.1a6 (2009-10-15)</a><ul>
<li><a class="reference internal" href="#id356">特徴</a></li>
<li><a class="reference internal" href="#id357">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id358">後方の非互換性</a></li>
<li><a class="reference internal" href="#id359">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2009-10-10">1.1a5 (2009-10-10)</a><ul>
<li><a class="reference internal" href="#id360">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id361">特徴</a></li>
<li><a class="reference internal" href="#id362">内部</a></li>
<li><a class="reference internal" href="#id363">廃止</a></li>
<li><a class="reference internal" href="#id364">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2009-09-23">1.1a4 (2009-09-23)</a><ul>
<li><a class="reference internal" href="#id365">バグの修正</a></li>
<li><a class="reference internal" href="#id366">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id367">特徴</a></li>
<li><a class="reference internal" href="#id368">後方の非互換性</a></li>
<li><a class="reference internal" href="#id369">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2009-09-16">1.1a3 (2009-09-16)</a><ul>
<li><a class="reference internal" href="#id370">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id371">特徴</a></li>
<li><a class="reference internal" href="#id372">依存関係</a></li>
<li><a class="reference internal" href="#id373">廃止</a></li>
<li><a class="reference internal" href="#id374">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2009-09-14">1.1a2 (2009-09-14)</a><ul>
<li><a class="reference internal" href="#id375">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2009-09-06">1.1a1 (2009-09-06)</a><ul>
<li><a class="reference internal" href="#id376">バグの修正</a></li>
<li><a class="reference internal" href="#id377">特徴</a></li>
<li><a class="reference internal" href="#id378">内部</a></li>
<li><a class="reference internal" href="#id379">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id380">廃止</a></li>
<li><a class="reference internal" href="#id381">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id382">1.0.1 (2009-07-22)</a></li>
<li><a class="reference internal" href="#id383">1.0 (2009-07-05)</a></li>
<li><a class="reference internal" href="#b2-2009-07-03">1.0b2 (2009-07-03)</a></li>
<li><a class="reference internal" href="#b1-2009-07-02">1.0b1 (2009-07-02)</a><ul>
<li><a class="reference internal" href="#id384">特徴</a></li>
<li><a class="reference internal" href="#id385">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a9-2009-07-01">1.0a9 (2009-07-01)</a><ul>
<li><a class="reference internal" href="#id386">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2009-07-01">1.0a8 (2009-07-01)</a><ul>
<li><a class="reference internal" href="#id387">廃止</a></li>
<li><a class="reference internal" href="#id388">特徴</a></li>
<li><a class="reference internal" href="#id389">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2009-06-30">1.0a7 (2009-06-30)</a><ul>
<li><a class="reference internal" href="#id390">特徴</a></li>
<li><a class="reference internal" href="#id391">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id392">内部</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2009-06-29">1.0a6 (2009-06-29)</a><ul>
<li><a class="reference internal" href="#id393">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2009-06-28">1.0a5 (2009-06-28)</a><ul>
<li><a class="reference internal" href="#id394">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2009-06-25">1.0a4 (2009-06-25)</a><ul>
<li><a class="reference internal" href="#id395">特徴</a></li>
<li><a class="reference internal" href="#id396">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id397">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2009-06-24">1.0a3 (2009-06-24)</a><ul>
<li><a class="reference internal" href="#implementation-changes">Implementation Changes</a></li>
<li><a class="reference internal" href="#id398">バグの修正</a></li>
<li><a class="reference internal" href="#id399">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id400">特徴</a></li>
<li><a class="reference internal" href="#id401">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2009-06-23">1.0a2 (2009-06-23)</a><ul>
<li><a class="reference internal" href="#id402">バグの修正</a></li>
<li><a class="reference internal" href="#id403">特徴</a></li>
<li><a class="reference internal" href="#id404">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id405">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2009-06-22">1.0a1 (2009-06-22)</a><ul>
<li><a class="reference internal" href="#id406">特徴</a></li>
<li><a class="reference internal" href="#id407">廃止</a></li>
<li><a class="reference internal" href="#removals">Removals</a></li>
<li><a class="reference internal" href="#id408">後方の非互換性</a></li>
<li><a class="reference internal" href="#id409">バグの修正</a></li>
<li><a class="reference internal" href="#id410">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id411">0.9.1 (2009-06-02)</a><ul>
<li><a class="reference internal" href="#id412">特徴</a></li>
<li><a class="reference internal" href="#id413">バグの修正</a></li>
<li><a class="reference internal" href="#id414">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#api-removals">API Removals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id415">0.9 (2009-06-01)</a><ul>
<li><a class="reference internal" href="#id416">バグの修正</a></li>
<li><a class="reference internal" href="#id417">特徴</a></li>
<li><a class="reference internal" href="#id418">Removals</a></li>
<li><a class="reference internal" href="#id419">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a8-2009-05-31">0.9a8 (2009-05-31)</a><ul>
<li><a class="reference internal" href="#id420">特徴</a></li>
<li><a class="reference internal" href="#id421">バグの修正</a></li>
<li><a class="reference internal" href="#id422">廃止</a></li>
<li><a class="reference internal" href="#renames">Renames</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2009-05-30">0.9a7 (2009-05-30)</a><ul>
<li><a class="reference internal" href="#id423">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2009-05-29">0.9a6 (2009-05-29)</a><ul>
<li><a class="reference internal" href="#id424">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id425">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2009-05-28">0.9a5 (2009-05-28)</a><ul>
<li><a class="reference internal" href="#id426">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2009-05-27">0.9a4 (2009-05-27)</a><ul>
<li><a class="reference internal" href="#id427">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2009-05-27">0.9a3 (2009-05-27)</a><ul>
<li><a class="reference internal" href="#id428">特徴</a></li>
<li><a class="reference internal" href="#id429">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id430">廃止</a></li>
<li><a class="reference internal" href="#deprecated-import-alias-removals">Deprecated Import Alias Removals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2009-05-27">0.9a2 (2009-05-27)</a><ul>
<li><a class="reference internal" href="#id431">特徴</a></li>
<li><a class="reference internal" href="#id432">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2009-5-27">0.9a1 (2009-5-27)</a><ul>
<li><a class="reference internal" href="#id433">特徴</a></li>
<li><a class="reference internal" href="#id434">後方の非互換性</a></li>
<li><a class="reference internal" href="#id435">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id436">0.8.1 (2009-05-21)</a><ul>
<li><a class="reference internal" href="#id437">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id438">0.8 (2009-05-18)</a><ul>
<li><a class="reference internal" href="#id439">特徴</a></li>
<li><a class="reference internal" href="#id440">廃止</a></li>
<li><a class="reference internal" href="#id441">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a7-2009-05-16">0.8a7 (2009-05-16)</a><ul>
<li><a class="reference internal" href="#id442">後方の非互換性</a></li>
<li><a class="reference internal" href="#id443">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id444">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a6-2009-05-11">0.8a6 (2009-05-11)</a><ul>
<li><a class="reference internal" href="#id445">特徴</a></li>
<li><a class="reference internal" href="#id446">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id447">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a5-2009-05-08">0.8a5 (2009-05-08)</a><ul>
<li><a class="reference internal" href="#id448">特徴</a></li>
<li><a class="reference internal" href="#id449">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a4-2009-05-04">0.8a4 (2009-05-04)</a><ul>
<li><a class="reference internal" href="#id450">特徴</a></li>
<li><a class="reference internal" href="#id451">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a3-2009-05-03">0.8a3 (2009-05-03)</a><ul>
<li><a class="reference internal" href="#id452">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a2-2009-05-02">0.8a2 (2009-05-02)</a><ul>
<li><a class="reference internal" href="#id453">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a1-2009-05-02">0.8a1 (2009-05-02)</a><ul>
<li><a class="reference internal" href="#deprecation-warning-and-import-alias-removals">Deprecation Warning and Import Alias Removals</a></li>
<li><a class="reference internal" href="#id454">特徴</a></li>
<li><a class="reference internal" href="#id455">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id456">0.7.1 (2009-05-01)</a><ul>
<li><a class="reference internal" href="#index-related">Index-Related</a></li>
<li><a class="reference internal" href="#id457">特徴</a></li>
<li><a class="reference internal" href="#id458">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id459">0.7.0 (2009-04-11)</a><ul>
<li><a class="reference internal" href="#id460">バグの修正</a></li>
<li><a class="reference internal" href="#id461">特徴</a></li>
<li><a class="reference internal" href="#id462">後方の非互換性</a></li>
<li><a class="reference internal" href="#id463">ドキュメンテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id464">0.6.9 (2009-02-16)</a><ul>
<li><a class="reference internal" href="#id465">バグの修正</a></li>
<li><a class="reference internal" href="#id466">特徴</a></li>
<li><a class="reference internal" href="#id467">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id468">Implementation Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id469">0.6.8 (2009-02-05)</a><ul>
<li><a class="reference internal" href="#id470">後方の非互換性</a></li>
<li><a class="reference internal" href="#bugfixes">Bugfixes</a></li>
<li><a class="reference internal" href="#id471">特徴</a></li>
<li><a class="reference internal" href="#id472">Implementation Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id473">0.6.7 (2009-01-27)</a><ul>
<li><a class="reference internal" href="#id474">特徴</a></li>
<li><a class="reference internal" href="#id475">Implementation Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id476">0.6.6 (2009-01-26)</a><ul>
<li><a class="reference internal" href="#id477">Implementation Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id478">0.6.5 (2009-01-26)</a><ul>
<li><a class="reference internal" href="#id479">特徴</a></li>
<li><a class="reference internal" href="#id480">行動の変化</a></li>
<li><a class="reference internal" href="#id481">Implementation Changes</a></li>
<li><a class="reference internal" href="#id482">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id483">0.6.4 (2009-01-23)</a><ul>
<li><a class="reference internal" href="#id484">後方の非互換性</a></li>
<li><a class="reference internal" href="#id485">Implementation Changes</a></li>
<li><a class="reference internal" href="#new-modules">New Modules</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id486">0.6.3 (2009-01-19)</a><ul>
<li><a class="reference internal" href="#id487">バグの修正</a></li>
<li><a class="reference internal" href="#id488">特徴</a></li>
<li><a class="reference internal" href="#id489">廃止</a></li>
<li><a class="reference internal" href="#id490">Implementation Changes</a></li>
<li><a class="reference internal" href="#documentation-additions">Documentation Additions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id491">0.6.2 (2009-01-13)</a><ul>
<li><a class="reference internal" href="#id492">特徴</a></li>
<li><a class="reference internal" href="#id493">バグの修正</a></li>
<li><a class="reference internal" href="#id494">Implementation Changes</a></li>
<li><a class="reference internal" href="#id495">New Modules</a></li>
<li><a class="reference internal" href="#id496">行動の変化</a></li>
<li><a class="reference internal" href="#id497">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id498">0.6.1 (2009-01-06)</a><ul>
<li><a class="reference internal" href="#id499">New Modules</a></li>
<li><a class="reference internal" href="#id500">廃止</a></li>
<li><a class="reference internal" href="#id501">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id502">0.6 (2008-12-26)</a><ul>
<li><a class="reference internal" href="#id503">後方の非互換性</a></li>
<li><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id504">0.5.6 (2008-12-18)</a></li>
<li><a class="reference internal" href="#id505">0.5.5 (2008-12-17)</a><ul>
<li><a class="reference internal" href="#id506">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id507">0.5.4 (2008-12-13)</a><ul>
<li><a class="reference internal" href="#id508">後方の非互換性</a></li>
<li><a class="reference internal" href="#id509">Bugfixes</a></li>
<li><a class="reference internal" href="#id510">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id511">0.5.3 (2008-12-07)</a></li>
<li><a class="reference internal" href="#id512">0.5.2 (2008-12-05)</a></li>
<li><a class="reference internal" href="#id513">0.5.1 (2008-11-25)</a></li>
<li><a class="reference internal" href="#id514">0.5.0 (2008-11-18)</a></li>
<li><a class="reference internal" href="#id515">0.4.9 (2008-11-17)</a></li>
<li><a class="reference internal" href="#id516">0.4.8 (2008-11-12)</a><ul>
<li><a class="reference internal" href="#id517">後方の非互換性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id518">0.4.7 (2008-11-11)</a><ul>
<li><a class="reference internal" href="#id519">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id520">0.4.6 (2008-11-10)</a><ul>
<li><a class="reference internal" href="#id521">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id522">0.4.5 (2008-11-09)</a><ul>
<li><a class="reference internal" href="#id523">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id524">0.4.4 (2008-11-08)</a><ul>
<li><a class="reference internal" href="#id525">特徴</a></li>
<li><a class="reference internal" href="#id526">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id527">0.4.3 (2008-11-02)</a><ul>
<li><a class="reference internal" href="#id528">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id529">0.4.2 (2008-11-02)</a><ul>
<li><a class="reference internal" href="#id530">特徴</a></li>
<li><a class="reference internal" href="#id531">ドキュメンテーション</a></li>
<li><a class="reference internal" href="#id532">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id533">0.4.1 (2008-10-28)</a><ul>
<li><a class="reference internal" href="#id534">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id535">0.4.0 (2008-10-03)</a><ul>
<li><a class="reference internal" href="#id536">ドキュメント</a></li>
<li><a class="reference internal" href="#id537">特徴</a></li>
<li><a class="reference internal" href="#id538">バグの修正</a></li>
<li><a class="reference internal" href="#id539">廃止</a></li>
<li><a class="reference internal" href="#id540">Backwards incompatibilities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id541">0.3.9 (2008-08-27)</a><ul>
<li><a class="reference internal" href="#id542">特徴</a></li>
<li><a class="reference internal" href="#id543">Backwards incompatibilities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id544">0.3.8 (2008-08-26)</a><ul>
<li><a class="reference internal" href="#id545">ドキュメント</a></li>
<li><a class="reference internal" href="#id546">バグの修正</a></li>
<li><a class="reference internal" href="#id547">特徴</a></li>
<li><a class="reference internal" href="#id548">廃止</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id549">0.3.7 (2008-09-09)</a><ul>
<li><a class="reference internal" href="#id550">特徴</a></li>
<li><a class="reference internal" href="#id551">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id552">0.3.6 (2008-09-04)</a><ul>
<li><a class="reference internal" href="#id553">特徴</a></li>
<li><a class="reference internal" href="#id554">バグの修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id555">0.3.5 (2008-09-01)</a><ul>
<li><a class="reference internal" href="#id556">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id557">0.3.4 (2008-08-28)</a><ul>
<li><a class="reference internal" href="#id558">Backwards incompatibilities</a></li>
<li><a class="reference internal" href="#id559">特徴</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id560">0.3.3 (2008-08-23)</a></li>
<li><a class="reference internal" href="#id561">0.3.2 (2008-08-23)</a></li>
<li><a class="reference internal" href="#id562">0.3.1 (2008-08-20)</a></li>
<li><a class="reference internal" href="#id563">0.3.0 (2008-08-16)</a></li>
<li><a class="reference internal" href="#id564">0.2.9 (2008-08-11)</a></li>
<li><a class="reference internal" href="#id565">0.2.8 (2008-08-11)</a></li>
<li><a class="reference internal" href="#id566">0.2.7 (2008-08-05)</a></li>
<li><a class="reference internal" href="#id567">0.2.6 (2008-07-31)</a></li>
<li><a class="reference internal" href="#id568">0.2.5 (2008-07-28)</a></li>
<li><a class="reference internal" href="#id569">0.2.4 (2008-07-27)</a></li>
<li><a class="reference internal" href="#id570">0.2.3 (2008-07-20)</a></li>
<li><a class="reference internal" href="#id571">0.2.2 (2008-07-20)</a></li>
<li><a class="reference internal" href="#id572">0.2.1 (2008-07-20)</a></li>
<li><a class="reference internal" href="#id573">0.2 (2008-07-19)</a></li>
<li><a class="reference internal" href="#id574">0.1 (2008-07-08)</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="whatsnew-1.0.html"
                        title="前の章へ">(機械翻訳)Pyramid 1.0の新機能</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="designdefense.html"
                        title="次の章へ">(機械翻訳)守るピラミッドのデザイン</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/changes.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="designdefense.html" title="(機械翻訳)守るピラミッドのデザイン"
             >次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.0.html" title="(機械翻訳)Pyramid 1.0の新機能"
             >前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 11月 13, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1 で生成しました。
    </div>
  </body>
</html>