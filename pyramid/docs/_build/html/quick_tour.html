
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>(機械翻訳)ピラミッドのクイックツアー &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="copyright" title="著作権" href="copyright.html" />
    <link rel="next" title="Pyramidのクイックチュートリアル(Quick Tutorial for Pyramid)" href="quick_tutorial/index.html" />
    <link rel="prev" title="(機械翻訳)ピラミッドWebフレームワーク" href="index.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="quick_tutorial/index.html" title="Pyramidのクイックチュートリアル(Quick Tutorial for Pyramid)"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="index.html" title="(機械翻訳)ピラミッドWebフレームワーク"
             accesskey="P">前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quick-tour-of-pyramid">
<span id="quick-tour"></span><h1>(機械翻訳)ピラミッドのクイックツアー<a class="headerlink" href="#quick-tour-of-pyramid" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>ピラミッドは小さなものから始まり大きなものに仕上げます。 Pyramidのこのクイックツアー*は、あなたがPython Webフレームワークの初心者であろうと、急いでプロであろうと、Pyramidを評価したい人のためのものです。各トピックの詳細な扱いについては、：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>quick_tutorial`を試してみてください。</p>
<p>このツアーでサンプルコードをカットアンドペーストしたい場合は、&amp;quot;docs / quick_tour &amp;quot;ディレクトリのPyramidリポジトリにあるソースコードを参照してください。 &lt;<a class="reference external" href="https://github.com/Pylons/pyramid/">https://github.com/Pylons/pyramid/</a>&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>。ソースコードをダウンロードした場合は、同じ場所にツアーがあります。</p>
<div class="section" id="installation">
<h2>インストール<a class="headerlink" href="#installation" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>標準のPython環境設定を済ませたら、Pyramidを使い始めるのは簡単です。残念ながら&amp;quot;標準&amp;quot;はPythonではそれほど単純ではありません。このクイックツアーでは、Python &lt;<a class="reference external" href="https://www.python.org/downloads/">https://www.python.org/downloads/</a>&gt; <cite>_、</cite> venv &lt;<a class="reference external" href="https://packaging.python.org/en/latest/projects/#venv">https://packaging.python.org/en/latest/projects/#venv</a>&gt; <cite>_（または</cite> <cite>Python 2.7用のvirtualenv &lt;https://packaging.python.org/en/latest/projects/#virtualenv&gt; `_）、</cite> pip &lt;<a class="reference external" href="https://packaging.python.org/en/latest/projects/#pip">https://packaging.python.org/en/latest/projects/#pip</a>&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>_、<a href="#id3"><span class="problematic" id="id4">`</span></a>と <a href="#id5"><span class="problematic" id="id6">`</span></a>setuptools &lt;<a class="reference external" href="https://packaging.python.org/en/latest/projects/#easy-install">https://packaging.python.org/en/latest/projects/#easy-install</a>&gt; <a href="#id7"><span class="problematic" id="id8">`</span></a>_。</p>
<p>ちょっとしたタイピングを省き、仮想環境にインストールされたモジュール、スクリプト、パッケージを確実に使用するために、環境変数も設定します。</p>
<p>たとえば、LinuxのPython 3.6以降では、次のようになります。</p>
<pre class="literal-block">
# set an environment variable to where you want your virtual environment
$ export VENV=~/env
# create the virtual environment
$ python3 -m venv $VENV
# install pyramid
$ $VENV/bin/pip install pyramid
# or for a specific released version
$ $VENV/bin/pip install &quot;pyramid==1.9.2&quot;
</pre>
<p>Windowsの場合：</p>
<pre class="literal-block">
# set an environment variable to where you want your virtual environment
c:\&gt; set VENV=c:\env
# create the virtual environment
c:\&gt; python -m venv %VENV%
# install pyramid
c:\&gt; %VENV%\Scripts\pip install pyramid
# or for a specific released version
c:\&gt; %VENV%\Scripts\pip install &quot;pyramid==1.9.2&quot;
</pre>
<p>もちろん、PyramidはPython 2.7以降でうまく動作します。このクイックツアーの例もそうです。簡単にするためにPython 3を公開しています。 Pyramidは2011年10月にPython 3をサポートしていました。簡単にするために、残りの例ではUNIXコマンドのみを表示します。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルセクションの要件&lt;qtut_requirements&gt; `、：ref：</cite> installing_unix`、：ref： <cite>あなたがインストールする前に&lt;installing_chapter&gt; `、：ref：`ソースbin / activateの代わりに$ VENV / bin / pipを使用してからpip &lt;venv-bin-pip-vs-source-bin-activate&gt; `、および：ref：</cite> WindowsシステムへのPyramidのインストール&lt;installing_windows&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>。</p>
</div>
</div>
<div class="section" id="hello-world">
<h2>こんにちは世界<a class="headerlink" href="#hello-world" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Microframeworksは、学習が非常に小さな第一歩から最も効果的に始まることを示しています。 Pyramidには小さなアプリケーションがあります：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wsgiref.simple_server</span> <span class="kn">import</span> <span class="n">make_server</span>
<span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>
<span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">Response</span>


<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s1">&#39;&lt;h1&gt;Hello World!&lt;/h1&gt;&#39;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">Configurator</span><span class="p">()</span> <span class="k">as</span> <span class="n">config</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">hello_world</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">make_wsgi_app</span><span class="p">()</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="mi">6543</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>この簡単な例は簡単に実行できます。これを `` app.py``として保存し、それを実行してください：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/python ./app.py
</pre></div>
</div>
<p>次にhttp：// localhost：6543 /をブラウザで開き、 `` Hello World！ <a href="#id1"><span class="problematic" id="id2">``</span></a>というメッセージが表示されます。</p>
<p>Python Webプログラミングの新機能？そうであれば、モジュール内のいくつかの行に説明があります：</p>
<ol class="arabic simple">
<li><em>Line 10</em>. <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">'__main__':</span></code> is Python's way of saying &quot;Start
here when running from the command line&quot;.</li>
<li><em>Lines 11-13</em>. Use Pyramid's <a class="reference internal" href="glossary.html#term-configurator"><span class="xref std std-term">configurator</span></a> in a <a class="reference internal" href="glossary.html#term-context-manager"><span class="xref std std-term">context manager</span></a> to connect <a class="reference internal" href="glossary.html#term-view"><span class="xref std std-term">view</span></a>
code to a particular URL <a class="reference internal" href="glossary.html#term-route"><span class="xref std std-term">route</span></a>.</li>
<li><a href="#id1"><span class="problematic" id="id2">*</span></a>ライン6-7 <a href="#id3"><span class="problematic" id="id4">*</span></a>。 ：term： <a href="#id5"><span class="problematic" id="id6">`</span></a>response`を生成するビューコードを実装します。</li>
<li><em>Lines 14-16</em>. Publish a <a class="reference internal" href="glossary.html#term-wsgi"><span class="xref std std-term">WSGI</span></a> app using an HTTP server.</li>
</ol>
<p>この例に示すように、：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>configurator`はピラミッドの開発において中心的な役割を果たします。 doc： <a href="#id3"><span class="problematic" id="id4">`</span></a>../ narr / configuration`を介して疎結合部分からアプリケーションをビルドすることはピラミッドの中心的なアイデアです。このクイックツアーでは定期的に再考する予定です。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルHello World &lt;qtut_hello_world&gt; `、：ref：</cite> firstapp_chapter`、：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>1つのファイル内のTodoリストアプリケーション&lt;cookbook:single-file-tutorial&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
</div>
</div>
<div class="section" id="handling-web-requests-and-responses">
<h2>Webリクエストとレスポンスの処理<a class="headerlink" href="#handling-web-requests-and-responses" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Web用に開発するとは、Web要求を処理することを意味します。これはWebアプリケーションの重要な部分であるため、Web開発者はWeb要求のための堅牢で成熟したソフトウェアを必要とします。</p>
<p>Pyramidは、Python Web開発の既存の世界（仮想環境、パッケージ、cookiecutters、Python 3を最初に採用したものの1つなど）に常にうまく収まっています。ピラミッドは要求と応答の処理のためによく使われる：term： <cite>WebOb</cite> Pythonライブラリに目を向けました。上の例では、ピラミッドは `` hello_world``を `` request``と呼んでいます：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>WebOb &lt;webob_chapter&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>。</p>
<p>実際に要求と応答のいくつかの機能を見てみましょう：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># Some parameters from a request such as /?name=lisa</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;No Name Provided&#39;</span><span class="p">)</span>

    <span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;URL </span><span class="si">%s</span><span class="s1"> with name: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
        <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;text/plain&quot;</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">body</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>このピラミッドビューでは、 `` request.url``からURLを取得します。また、ブラウザでhttp：// localhost：6543 /？name = aliceにアクセスした場合、その名前はレスポンスの本文に含まれます：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>URL http://localhost:6543/?name=alice with name: alice
</pre></div>
</div>
<p>最後に、レスポンスのコンテンツタイプを設定し、レスポンスを返します。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルリクエストとレスポンス&lt;qtut_request_response&gt; `と：ref：</cite> webob_chapter`です。</p>
</div>
</div>
<div class="section" id="views">
<h2>ビュー<a class="headerlink" href="#views" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>上の例では、 `` hello_world``関数は&amp;quot;view &amp;quot;です。ピラミッドビューでは、Web要求を受け入れて応答を返す主要な方法があります。</p>
<p>これまでの例では、すべてを1つのファイルに格納しています。</p>
<ul class="simple">
<li>ビュー関数</li>
<li>コンフィギュレータへの登録</li>
<li>それをURLにマップするルート</li>
<li>WSGIアプリケーションランチャ</li>
</ul>
<p>ビューを独自の `` views.py``モジュールに移動し、 `` app.py``を変更してそのモジュールをスキャンし、ビューを設定するデコレータを探しましょう。</p>
<p>最初に改訂された `` app.py``：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wsgiref.simple_server</span> <span class="kn">import</span> <span class="n">make_server</span>
<span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">Configurator</span><span class="p">()</span> <span class="k">as</span> <span class="n">config</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/howdy&#39;</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;redirect&#39;</span><span class="p">,</span> <span class="s1">&#39;/goto&#39;</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;exception&#39;</span><span class="p">,</span> <span class="s1">&#39;/problem&#39;</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s1">&#39;views&#39;</span><span class="p">)</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">make_wsgi_app</span><span class="p">()</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">make_server</span><span class="p">(</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="mi">6543</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>ルートを追加しましたが、ビューコードも削除しました。ビューとその登録（デコレータ経由）は `` views.py``モジュールにあり、 `` config.scan（ &amp;#39;views&amp;#39;） <a href="#id1"><span class="problematic" id="id2">``</span></a>でスキャンされます。</p>
<p>要求と応答の処理に焦点を当てた `` views.py``モジュールが追加されました：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.compat</span> <span class="kn">import</span> <span class="n">escape</span>

<span class="kn">from</span> <span class="nn">pyramid.httpexceptions</span> <span class="kn">import</span> <span class="n">HTTPFound</span>
<span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">pyramid.view</span> <span class="kn">import</span> <span class="n">view_config</span>


<span class="c1"># First view, available at http://localhost:6543/</span>
<span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;home&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;Visit &lt;a href=&quot;/howdy?name=lisa&quot;&gt;hello&lt;/a&gt;&lt;/p&gt;&#39;</span><span class="p">)</span>


<span class="c1"># /howdy?name=alice which links to the next view</span>
<span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;No Name&#39;</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;&lt;p&gt;Hi </span><span class="si">%s</span><span class="s1">, this &lt;a href=&quot;/goto&quot;&gt;redirects&lt;/a&gt;&lt;/p&gt;&#39;</span>
    <span class="c1"># pyramid.compat.escape to prevent Cross-Site Scripting (XSS) [CWE 79]</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">body</span> <span class="o">%</span> <span class="n">escape</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>


<span class="c1"># /goto which issues HTTP redirect to the last view</span>
<span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;redirect&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">redirect_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HTTPFound</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="s2">&quot;/problem&quot;</span><span class="p">)</span>


<span class="c1"># /problem which causes a site error</span>
<span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;exception&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">exception_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>我々は4つの視点を持ち、それぞれが別の視点につながっています。 http：// localhost：6543 /で始めると、次のビューへのリンクを含む応答が得られます。 `` hello_view``（URL `` / howdy``にあります）は `` redirect_view``へのリンクを持ち、最終的なビューにリダイレクトします。</p>
<p>以前は、 `` config.add_view``がビューを設定する一つの方法として見えました。このセクションでは、 `` &#64; view_config``について説明します。 Pyramidの設定は、前の例の `` config.add_view``のように、term： <a href="#id1"><span class="problematic" id="id2">`</span></a>必須の設定`をサポートしています。 Python：term： <a href="#id3"><span class="problematic" id="id4">`</span></a>decorator`がビューの上の行に置かれている：term：<a href="#id5"><span class="problematic" id="id6">`</span></a>宣言的な設定 &amp;#39;を使うこともできます。どちらの方法も同じ最終的な構成になります。したがって、通常は単に味の問題です。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルビュー&lt;qtut_views&gt; `、：doc：</cite> ../ narr / views`、：doc： <cite>../ narr / viewconfig</cite>、および：ref：` debugging_view_configuration`です。</p>
</div>
</div>
<div class="section" id="routing">
<h2>ルーティング<a class="headerlink" href="#routing" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Webアプリケーションの作成は、通常、洗練されたURL設計を意味します。私たちは要求と見解のためにいくつかのピラミッド機械を見ただけです。ルーティングに役立つ機能を見てみましょう。</p>
<p>上では、PyramidのビューへのURLのルーティングの基本を確認しました。</p>
<ul class="simple">
<li>プロジェクトの&amp;quot;setup &amp;quot;コードは、URLの一部と一致するときに使用されるルート名を登録します。</li>
<li>そのルート名に対してビューが呼び出されるように設定されています。</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">なぜこれを2回するのですか？他のPython Webフレームワークを使用すると、ルートを作成して1つのステップでビューに関連付けることができます。 ：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>routes_need_ordering`に示すように、複数のルートが同じURLパターンと一致する可能性があります。推測を支援する方法を提供するのではなく、Pyramidでは順序を明示することができます。ピラミッドは、この問題を回避するための設備も提供しています。</p>
</div>
<p>URLの一部をビューのデータとして利用できるようにするにはどうすればよいですか？このルート宣言は、たとえば次のように使用できます。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/howdy/{first}/{last}&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>これにより、 `` / howdy / amy / smith`のようなURLは、 <a href="#id1"><span class="problematic" id="id2">``</span></a>最初に <a href="#id3"><span class="problematic" id="id4">``</span></a>に <a href="#id5"><span class="problematic" id="id6">``</span></a>、 <a href="#id7"><span class="problematic" id="id8">``</span></a>最後に <a href="#id9"><span class="problematic" id="id10">``</span></a>スミス <a href="#id11"><span class="problematic" id="id12">`</span></a>に割り当てられます。このデータをビューで使用することができます。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="hll">    <span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;&lt;h1&gt;Hi </span><span class="si">%(first)s</span><span class="s1"> </span><span class="si">%(last)s</span><span class="s1">!&lt;/h1&gt;&#39;</span> <span class="o">%</span> <span class="n">request</span><span class="o">.</span><span class="n">matchdict</span>
</span>    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>`` request.matchdict``には、ルート宣言の&amp;quot;置換パターン&amp;quot;（中括弧）と一致するURLの値が含まれています。この情報は、あなたのビューで使用することができます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルルーティング&lt;qtut_routing&gt; `、：doc：</cite> ../ narr / urldispatch`、：ref： <cite>debug_routematch_section</cite>、：doc：` ../ narr / router`です。</p>
</div>
</div>
<div class="section" id="templating">
<h2>テンプレート<a class="headerlink" href="#templating" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ああ。私たちは独自の <a href="#id1"><span class="problematic" id="id2">``</span></a>レスポンス <a href="#id3"><span class="problematic" id="id4">``</span></a>を作り、レスポンスボディにHTMLを埋めました。通常、PythonではHTML文字列を直接埋め込むことはありませんが、代わりにテンプレート言語を使用します。</p>
<p>Pyramidは、特定のデータベースシステム、フォームライブラリなどを強制するものではありません。それは交換可能性を奨励します。これは幸運なことにテンプレートにも当てはまります。開発者はテンプレート言語についての強い見解を持っています。つまり、Pylonsプロジェクトは、Chameleon、Jinja2、Makoのバインドを正式にサポートしています。このステップでは、カメレオンを使いましょう。</p>
<p>私たちのPyramidアプリケーションで、カメレオンを：term： <cite>renderer &amp;#39;として有効にするPyramid：term：</cite> add-on`という `` pyramid_chameleon``を追加しましょう：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/pip install pyramid_chameleon
</pre></div>
</div>
<p>パッケージがインストールされた状態で、テンプレートバインディングを設定に `` app.py``で含めることができます：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/howdy/{name}&#39;</span><span class="p">)</span>
<span class="hll">        <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_chameleon&#39;</span><span class="p">)</span>
</span>        <span class="n">config</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s1">&#39;views&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>`` views.py``ファイルを変更しましょう：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.view</span> <span class="kn">import</span> <span class="n">view_config</span>


<span class="hll"><span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;hello_world.pt&#39;</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="hll">    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">matchdict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</span></pre></div>
</td></tr></table></div>
<p>ああ、それは良く見えます。私たちはPythonコードに焦点を当てています。私たちの `` &#64; view_config``デコレータはテンプレートファイルを指すa：term： <cite>renderer`を指定します。私たちの見解はデータを返すだけで、テンプレート `</cite> hello_world.pt``に与えられます：</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Quick Glance<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello ${name}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>私たちのビューは `` dict（name = request.matchdict [&amp;#39;name&amp;#39;]） <a href="#id1"><span class="problematic" id="id2">``</span></a>を返すので、 `` $ {name} <a href="#id3"><span class="problematic" id="id4">``</span></a>を介してテンプレート内の変数として `` name``を使うことができます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルテンプレート&lt;qtut_templating&gt; `、：doc：</cite> ../ narr / templates`、：ref： <cite>debugging_templates</cite>、：ref：` available_template_system_bindings`です。</p>
</div>
</div>
<div class="section" id="templating-with-jinja2">
<h2>Jinja2を使ったテンプレート<a class="headerlink" href="#templating-with-jinja2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>私たちは、ピラミッドがテンプレート言語を別のものよりも好まないと言っただけです。それを証明する時間。 Jinja2は、Djangoのテンプレートをモデルにした、人気のあるテンプレートシステムです。ピラミッドのアプリケーションでJinja2をterm： <cite>renderer &amp;#39;として使用できるようにするPyramid：term：</cite> add-on`を `` pyramid_jinja2``に追加しましょう：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/pip install pyramid_jinja2
</pre></div>
</div>
<p>パッケージがインストールされたら、テンプレートバインディングを設定に含めることができます：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/howdy/{name}&#39;</span><span class="p">)</span>
<span class="hll">        <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_jinja2&#39;</span><span class="p">)</span>
</span>        <span class="n">config</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s1">&#39;views&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>ビューの唯一の変更点はレンダラーを `` .jinja2``ファイルで指すことです：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="hll"><span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;hello_world.jinja2&#39;</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">matchdict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>私たちのJinja2テンプレートは、以前のテンプレートに非常に似ています：</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Hello World<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello {{ name }}!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Pyramidのテンプレートアドオンは、新しい種類のレンダラーをアプリケーションに登録します。レンダラー登録は、さまざまな種類のファイル拡張子にマップされます。この場合、拡張子を `` .pt``から `` .jinja2``に変更すると、 `` pyramid_jinja2``レンダラを通してビュー応答が渡されます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルJinja2 &lt;qtut_jinja2&gt; `、</cite> Jinja2ホームページ&lt;<a class="reference external" href="http://jinja.pocoo.org/">http://jinja.pocoo.org/</a>&gt; <cite>_、and：ref：</cite> pyramid_jinja2概要&lt;jinja2:overview&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>。</p>
</div>
</div>
<div class="section" id="static-assets">
<h2>静的資産<a class="headerlink" href="#static-assets" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>もちろん、Webは単にマークアップ以上のものです。 CSS、JS、イメージなどの静的アセットが必要です。ピラミッドがいくつかの静的資産を提供するディレクトリにWebアプリケーションを向けてみましょう。まず、 `` app.py``の：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>configurator`をもう一度呼び出してみましょう：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/howdy/{name}&#39;</span><span class="p">)</span>
<span class="hll">        <span class="n">config</span><span class="o">.</span><span class="n">add_static_view</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;static&#39;</span><span class="p">)</span>
</span>        <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s1">&#39;pyramid_jinja2&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>これは私たちのWSGIアプリケーションに、http：// localhost：6543 / static /の下のリクエストをPythonモジュールの横にある `` static``ディレクトリ内のファイルとディレクトリにマップするように指示します。</p>
<p>次に `` static``という名前のディレクトリを作り、そこに `` app.css``を配置します：</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">body</span> <span class="p">{</span>
    <span class="k">margin</span><span class="p">:</span> <span class="mi">2</span><span class="kt">em</span><span class="p">;</span>
    <span class="k">font-family</span><span class="p">:</span> <span class="kc">sans-serif</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>今私たちがする必要があるのは、 `` &lt;head&gt; `` Jinja2テンプレート `` hello_world.jinja2``の <a href="#id1"><span class="problematic" id="id2">``</span></a>：</p>
<div class="highlight-jinja notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="x">    &lt;title&gt;Hello World&lt;/title&gt;</span>
<span class="hll"><span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;/static/app.css&quot;/&gt;</span>
</span><span class="x">&lt;/head&gt;</span>
</pre></div>
</td></tr></table></div>
<p>このリンクは、CSSが `` / static / <a href="#id1"><span class="problematic" id="id2">``</span></a>で始まるURLにあると想定しています。サイトが後で `` / somesite / static / <a href="#id3"><span class="problematic" id="id4">``</span></a>の下で動かされるとどうなるでしょうか？あるいは、Web開発者がディスク上の配置を変更するのでしょうか？ Pyramidには、URL生成に柔軟性を持たせるためのヘルパーが用意されています。</p>
<div class="highlight-jinja notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="x">    &lt;title&gt;Hello World&lt;/title&gt;</span>
<span class="hll"><span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">request.static_url</span><span class="o">(</span><span class="s1">&#39;__main__:static/app.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;/&gt;</span>
</span><span class="x">&lt;/head&gt;</span>
</pre></div>
</td></tr></table></div>
<p>`` request.static_url``を使って静的アセットへの完全なURLを生成することで、コンフィグレーションとの同期を維持し、後でリファクタリングの柔軟性を得ることができます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアル静的アセット&lt;qtut_static_assets&gt; `、：doc：</cite> ../ narr / assets`、：ref： <cite>prevent_http_caching</cite>、および：ref：` influencing_http_caching`です。</p>
</div>
</div>
<div class="section" id="returning-json">
<h2>JSONを返す<a class="headerlink" href="#returning-json" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>現代のWebアプリケーションはレンダリングされたHTML以上のものです。動的ページでは、JSONとしてサーバーデータを要求することで、JavaScriptを使用してブラウザのUIを更新します。 PyramidはこれをJSONレンダラーでサポートしています：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nd">@view_config</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello_json&#39;</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_json</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</td></tr></table></div>
<p>これは、PythonのJSONサポートを呼び出してJSONにデータをシリアル化し、適切なHTTPヘッダーを設定する、JSON：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>renderer`を通していくつかのデータを返すビューを結び付けます。</p>
<p>私たちのアプリが `` hello.json``のリクエストにどのように応答するかを知るために、 `` app.py``へのルートを追加する必要もあります。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;/howdy/{name}&#39;</span><span class="p">)</span>
<span class="hll">        <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;hello_json&#39;</span><span class="p">,</span> <span class="s1">&#39;hello.json&#39;</span><span class="p">)</span>
</span>        <span class="n">config</span><span class="o">.</span><span class="n">add_static_view</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;static&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルJSON &lt;qtut_json&gt; `、：ref：</cite> views_which_use_a_renderer`、：ref： <cite>json_renderer</cite>、：ref：` adding_and_overriding_renderers`です。</p>
</div>
</div>
<div class="section" id="view-classes">
<h2>ビュークラス<a class="headerlink" href="#view-classes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>これまでのところ、われわれの見解は単純で自由な機能であった。あなたの意見は何度も関連しています。同じデータを表示または操作する方法が異なる場合や、複数の操作を処理するREST APIの場合があります。これらをまとめて：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>viewクラス&lt;class_as_view&gt;以下の目標を達成します。</p>
<ul class="simple">
<li>グループビュー</li>
<li>反復的なデフォルトを一元化する</li>
<li>州とヘルパーを共有する</li>
</ul>
<p>以下は、 &amp;quot;Hello World&amp;quot;の例です。フォームの表示、変更の保存、または `` views.py``の削除ボタンを押します：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># One route, at /howdy/amy, so don&#39;t repeat on each @view_config</span>
<span class="nd">@view_defaults</span><span class="p">(</span><span class="n">route_name</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloWorldViews</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">request</span> <span class="o">=</span> <span class="n">request</span>
        <span class="c1"># Our templates can now say {{ view.name }}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">matchdict</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>

    <span class="c1"># Retrieving /howdy/amy the first time</span>
    <span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;hello.jinja2&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">hello_view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="c1"># Posting to /howdy/amy via the &quot;Edit&quot; submit button</span>
    <span class="nd">@view_config</span><span class="p">(</span><span class="n">request_param</span><span class="o">=</span><span class="s1">&#39;form.edit&#39;</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;edit.jinja2&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">edit_view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Edited&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="c1"># Posting to /howdy/amy via the &quot;Delete&quot; submit button</span>
    <span class="nd">@view_config</span><span class="p">(</span><span class="n">request_param</span><span class="o">=</span><span class="s1">&#39;form.delete&#39;</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="s1">&#39;delete.jinja2&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">delete_view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Deleted&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>ご覧のとおり、3つのビューは論理的にグループ化されています。具体的には：</p>
<ul class="simple">
<li>`` / howdy / amy``に行くと最初のビューが返されます。このURLは、オプションで `` &#64; view_defaults``を使って集中的に設定する `` hello``ルートにマップされています。</li>
<li>2番目のビューは、フォームデータに `` form.edit``を含むフィールドが含まれている場合に返されます。たとえば、 `` &lt;input type=&quot;submit&quot; name=&quot;form.edit&quot; value=&quot;Save&quot;&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>。このルールは、そのビューの `` &#64; view_config``で指定されます。</li>
<li>3番目のビューは、 `` &lt;input type=&quot;submit&quot; name=&quot;form.delete&quot; value=&quot;Delete&quot;&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>。</li>
</ul>
<p>1つの経路だけが必要で、ビュークラスの上の1つの場所に記載されています。また、 `` name``の代入は `` __init__``関数で行われます。私たちのテンプレートは `` {{view.name}} <a href="#id1"><span class="problematic" id="id2">``</span></a>を使うことができます。</p>
<p>ピラミッド・ビュー・クラスは、組み込みおよびカスタムの述部と組み合わされて、さらに多くの機能を提供します。</p>
<ul class="simple">
<li>ファンクションビューと同じビュー構成パラメータ</li>
<li>request_param`、 `` request_method``、 `` accept``、 `` header``、 `` xhr``、containmentなどのリクエストやデータの情報に基づいて、複数のビューにつながる1つのルート``、 `` custom_predicates``</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルのビュークラス&lt;qtut_view_classes&gt; `、：ref：`クイックチュートリアル他のビュークラス&lt;qtut_more_view_classes&gt; `、：ref：</cite> class_as_view`です。</p>
</div>
</div>
<div class="section" id="quick-project-startup-with-cookiecutters">
<h2>cookiecuttersによるクイックプロジェクトの起動<a class="headerlink" href="#quick-project-startup-with-cookiecutters" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>これまでのところ、* Quick Tour <a href="#id1"><span class="problematic" id="id2">*</span></a>のすべてを単一のPythonファイルとして実行しました。 Pythonパッケージなし、構造体なし。しかし、ほとんどのピラミッドプロジェクトはこのように開発されていません。</p>
<p>開始プロセスを簡単にするために、Pylonsプロジェクトは次のものを提供しています。プロジェクトテンプレートからサンプルPyramidプロジェクトを生成するterm： <cite>cookiecutter</cite> これらのcookiecuttersはPyramidとその依存関係もインストールします。</p>
<p>まず、cookiecutterをインストールする必要があります。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/pip install cookiecutter
</pre></div>
</div>
<p>cookiecutterの `` pyramid-cookiecutter-starter``を使って、現在のディレクトリにピラミッドプロジェクトを作成し、次のコマンドのためにプロンプ​​トに値を入力してみましょう。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/cookiecutter gh:Pylons/pyramid-cookiecutter-starter --checkout <span class="m">1</span>.9-branch
</pre></div>
</div>
<p>最初の項目の入力を求められたら、returnキーを押してデフォルトの `` yes``を受け入れます。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>You&#39;ve cloned ~/.cookiecutters/pyramid-cookiecutter-starter before.
Is it okay to delete and re-clone it? [yes]: yes
project_name [Pyramid Scaffold]: hello_world
repo_name [hello_world]: hello_world
Select template_language:
1 - jinja2
2 - chameleon
3 - mako
Choose from 1, 2, 3 [1]: 1
</pre></div>
</div>
<p>次に、次のコマンドを実行します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change directory into your newly created project.</span>
$ <span class="nb">cd</span> hello_world
<span class="c1"># Create a new virtual environment...</span>
$ python3 -m venv env
<span class="c1"># ...where we upgrade packaging tools...</span>
$ env/bin/pip install --upgrade pip setuptools
<span class="c1"># ...and into which we install our project and its testing requirements.</span>
$ env/bin/pip install -e <span class="s2">&quot;.[testing]&quot;</span>
<span class="c1"># Reset our environment variable for a new virtual environment.</span>
$ <span class="nb">export</span> <span class="nv">VENV</span><span class="o">=</span>~/hello_world/env
</pre></div>
</div>
<p>Pythonの標準（パッケージング）とPyramidの設定を適切にセットアップして、完全機能を備えたPyramidプロジェクトの方向に向かっています。これには、アプリケーションを実行するための新しい方法が含まれます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/pserve development.ini
</pre></div>
</div>
<p>`` pserve``と設定をもっと深く見てみましょう。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルCookiecutters &lt;qtut_cookiecutters&gt; `、：ref：</cite> project_narr`、：doc： <a href="#id1"><span class="problematic" id="id2">`</span></a>../ narr / cookiecutters`です。</p>
</div>
</div>
<div class="section" id="application-running-with-pserve">
<h2>`` pserve``で動作するアプリケーション<a class="headerlink" href="#application-running-with-pserve" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>cookiecutterに入る前に、私たちのプロジェクトでは、いくつかの操作の詳細がコードに混在していました。なぜ私のメインコードは、私が欲しいHTTPサーバーと、実行するポート番号を気にする必要がありますか？</p>
<p>`` pserve``はPyramidのアプリケーションランナーで、コードから操作の詳細を分離します。 Pyramidをインストールすると、 `` pserve``という小さなコマンドプログラムがあなたの `` bin``ディレクトリに書き出されます。このプログラムは実行可能なPythonモジュールです。それは非常に小さく、ほとんどの脳をインポートによって取得します。</p>
<p>`` --help``で `` pserve``を実行すると、そのオプションのいくつかを見ることができます。そうすることで、 `` pserve``にあなたの開発ファイルを見て、変更時にサーバをリロードするように要求することができます：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/pserve development.ini --reload
</pre></div>
</div>
<p>`` pserve``コマンドには他の多くのオプションと操作があります。しかし、ほとんどの作業は、あなたが `` pserve``に提供する設定ファイルで表現されているように、プロジェクトの配線から来ています。この設定ファイルを見てみましょう。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>what_is_this_pserve_thing</cite></p>
</div>
</div>
<div class="section" id="configuration-with-ini-files">
<h2>`` .ini``ファイルによる設定<a class="headerlink" href="#configuration-with-ini-files" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>クイックツアー*では、Pyramidの設定システムに初めて触れました。その時点で、私たちはすべての設定をPythonコードで行いました。たとえば、私たちのHTTPサーバー用に選択されたポート番号は、Pythonコードのところにありました。私たちのcookiecutterはこの決定を `` development.ini``ファイルに移しました：</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">###</span>
<span class="c1"># app configuration</span>
<span class="c1"># https://docs.pylonsproject.org/projects/pyramid/en/latest/narr/environment.html</span>
<span class="c1">###</span>

<span class="k">[app:main]</span>
<span class="na">use</span> <span class="o">=</span> <span class="s">egg:hello_world</span>

<span class="na">pyramid.reload_templates</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">pyramid.debug_authorization</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">pyramid.debug_notfound</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">pyramid.debug_routematch</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">pyramid.default_locale_name</span> <span class="o">=</span> <span class="s">en</span>
<span class="na">pyramid.includes</span> <span class="o">=</span><span class="s"></span>
<span class="s">    pyramid_debugtoolbar</span>

<span class="c1"># By default, the toolbar only appears for clients from IP addresses</span>
<span class="c1"># &#39;127.0.0.1&#39; and &#39;::1&#39;.</span>
<span class="c1"># debugtoolbar.hosts = 127.0.0.1 ::1</span>

<span class="c1">###</span>
<span class="c1"># wsgi server configuration</span>
<span class="c1">###</span>

<span class="k">[server:main]</span>
<span class="na">use</span> <span class="o">=</span> <span class="s">egg:waitress#main</span>
<span class="na">listen</span> <span class="o">=</span> <span class="s">localhost:6543</span>

<span class="c1">###</span>
<span class="c1"># logging configuration</span>
<span class="c1"># https://docs.pylonsproject.org/projects/pyramid/en/latest/narr/logging.html</span>
<span class="c1">###</span>

<span class="k">[loggers]</span>
<span class="na">keys</span> <span class="o">=</span> <span class="s">root, hello_world</span>

<span class="k">[handlers]</span>
<span class="na">keys</span> <span class="o">=</span> <span class="s">console</span>

<span class="k">[formatters]</span>
<span class="na">keys</span> <span class="o">=</span> <span class="s">generic</span>

<span class="k">[logger_root]</span>
<span class="na">level</span> <span class="o">=</span> <span class="s">INFO</span>
<span class="na">handlers</span> <span class="o">=</span> <span class="s">console</span>

<span class="k">[logger_hello_world]</span>
<span class="na">level</span> <span class="o">=</span> <span class="s">DEBUG</span>
<span class="na">handlers</span> <span class="o">=</span>
<span class="na">qualname</span> <span class="o">=</span> <span class="s">hello_world</span>

<span class="k">[handler_console]</span>
<span class="na">class</span> <span class="o">=</span> <span class="s">StreamHandler</span>
<span class="na">args</span> <span class="o">=</span> <span class="s">(sys.stderr,)</span>
<span class="na">level</span> <span class="o">=</span> <span class="s">NOTSET</span>
<span class="na">formatter</span> <span class="o">=</span> <span class="s">generic</span>

<span class="k">[formatter_generic]</span>
<span class="na">format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)-5.5s [%(name)s:%(lineno)s][%(threadName)s] %(message)s</span>
</pre></div>
</div>
<p>すばやく高レベルの外観を取ってみましょう。最初に `` .ini``ファイルはセクションに分割されます：</p>
<ul class="simple">
<li>`` [app：main] <a href="#id1"><span class="problematic" id="id2">``</span></a>はWSGIアプリケーションを設定します</li>
<li>`` [server：main] <a href="#id1"><span class="problematic" id="id2">``</span></a>はWSGIサーバー設定を保持しています</li>
<li>その後のさまざまなセクションで、Pythonロギングシステムを設定します</li>
</ul>
<p>この構成では、いくつかの決定事項があります。</p>
<ol class="arabic simple">
<li><em>WSGI app:</em> What package has our WSGI application in it?
<code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">=</span> <span class="pre">egg:hello_world</span></code> in the app section tells the configuration what
application to load.</li>
<li><a href="#id1"><span class="problematic" id="id2">*</span></a>自動テンプレートリロードによる簡単な開発：<a href="#id3"><span class="problematic" id="id4">*</span></a>開発モードでは、Jinja2テンプレートを編集するときにサーバーを再起動する必要はありません。 `` pyramid.reload_templates = true``はこのポリシーを設定します。これは本番環境では異なる場合があります。</li>
<li><em>ウェブサーバーの選択：</em> `` use = egg：waitress＃main``は `` pserve``に `` waitress``サーバーを使用するよう指示します。</li>
<li><em>インタフェース：</em> `` listen = localhost：6543``は、IPv4とIPv6の両方についてポート6543上のすべてのインタフェースを待ち受けるように `` waitress``を指示します。</li>
</ol>
<p>さらに、このcookiecutterによって生成された `` development.ini``は、Pythonの標準ロギングをビルドしました。ここでは、コンソールに、たとえば、トレースバック情報だけでなく、来るすべてのリクエストのログが表示されます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルアプリケーションの設定&lt;qtut_ini&gt; `、：ref：</cite> environment_chapter`と：doc： <cite>../ narr / paste</cite></p>
</div>
</div>
<div class="section" id="easier-development-with-debugtoolbar">
<h2>`` debugtoolbar``による簡単な開発<a class="headerlink" href="#easier-development-with-debugtoolbar" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>基本を紹介しながら、開発とデバッグの生産性を上げる方法も示したいと考えています。たとえば、テンプレートのリロードについて説明したところで、アプリケーションリロードのために `` --reload``を前に示しました。</p>
<p>`` pyramid_debugtoolbar``は、あなたのブラウザでいくつかのツールを利用できる人気のPyramidアドオンです。プロジェクトに追加すると、構成に関するいくつかの点が示されます。</p>
<p>cookiecutter `` pyramid-cookiecutter-starter``は `` setup.py``にアドオン `` pyramid_debugtoolbar``を追加するようにパッケージを設定しています：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">requires</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;plaster_pastedeploy&#39;</span><span class="p">,</span>
    <span class="s1">&#39;pyramid&#39;</span><span class="p">,</span>
    <span class="s1">&#39;pyramid_jinja2&#39;</span><span class="p">,</span>
<span class="hll">    <span class="s1">&#39;pyramid_debugtoolbar&#39;</span><span class="p">,</span>
</span>    <span class="s1">&#39;waitress&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</td></tr></table></div>
<p>以前に実行したときにインストールされました：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/pip install -e <span class="s2">&quot;.[testing]&quot;</span>
</pre></div>
</div>
<p>`` pyramid_debugtoolbar``パッケージはPyramidアドオンです。つまり、その設定をWebアプリケーションに含める必要があります。 cookiecutterは、 `` pyramid.includes``ファシリティを使って `` development.ini``で既にこれを世話してくれました：</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="na">pyramid.includes</span> <span class="o">=</span><span class="s"></span>
<span class="s">    pyramid_debugtoolbar</span>
</pre></div>
</td></tr></table></div>
<p>ブラウザウィンドウの右側にピラミッドのロゴが表示されます。クリックすると、デバッグ情報への内密アクセスを可能にする新しいウィンドウが開きます。さらに、Webアプリケーションでエラーが発生した場合は、画面に素晴らしいトレースバックが表示されます。このツールバーを無効にしたい場合は、コードを変更する必要はありません。関連する `` .ini``設定ファイルの `` pyramid.includes``から削除することができます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルpyramid_debugtoolbar &lt;qtut_debugtoolbar&gt; `と：ref：</cite> pyramid_debugtoolbar &lt;toolbar:overview&gt; `</p>
</div>
</div>
<div class="section" id="unit-tests-and-py-test">
<h2>ユニットテストと `` py.test``<a class="headerlink" href="#unit-tests-and-py-test" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Yikes！私たちはこれを遠くに持っており、まだテストについて議論していません。これは、Pyramidがリリース前から完全なテストカバレッジに深いコミットメントを持っているため、特に厳しいです。</p>
<p>我々の `` pyramid-cookiecutter-starter`` cookiecutterは、ユニットテストと機能テストを1つずつ持つ `` tests.py``モジュールを生成しました。また、テストランナーとして `` py.test``、ビューテストを実行するための `` WebTest``、私たちに叫ぶ `` pytest-cov``ツールといったテスト要件を持つ `` setup.py``を設定しましたテストされていないコードの場合：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">tests_require</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;WebTest &gt;= 1.3.1&#39;</span><span class="p">,</span>  <span class="c1"># py3 compat</span>
    <span class="s1">&#39;pytest&#39;</span><span class="p">,</span>
    <span class="s1">&#39;pytest-cov&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">extras_require</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;testing&#39;</span><span class="p">:</span> <span class="n">tests_require</span><span class="p">,</span>
    <span class="p">},</span>
</pre></div>
</td></tr></table></div>
<p>`` $ VENV / bin / pip install -e &amp;quot;コマンドを実行したときにテスト要件をインストールしました。[testing] &amp;quot; <a href="#id1"><span class="problematic" id="id2">``</span></a>。これですべてのテストを実行できます：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/py.test --cov --cov-report<span class="o">=</span>term-missing
</pre></div>
</div>
<p>これにより、次の出力が得られます。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=========================== test session starts ===========================
platform darwin -- Python 3.6.0, pytest-3.0.5, py-1.4.32, pluggy-0.4.0
rootdir: /Users/stevepiercy/hello_world, inifile: pytest.ini
plugins: cov-2.4.0
collected 2 items

hello_world/tests.py ..

------------- coverage: platform darwin, python 3.6.0-final-0 -------------
Name                                      Stmts   Miss  Cover   Missing
-----------------------------------------------------------------------
hello_world/__init__.py                       8      0   100%
hello_world/views.py                          3      0   100%
-----------------------------------------------------------------------
TOTAL                                        11      0   100%


========================= 2 passed in 1.37 seconds =========================
</pre></div>
</div>
<p>私たちのテストは合格し、その適用範囲は完全です。私たちのテストはどのように見えましたか？</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">pyramid</span> <span class="kn">import</span> <span class="n">testing</span>


<span class="k">class</span> <span class="nc">ViewTests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">testing</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">testing</span><span class="o">.</span><span class="n">tearDown</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_my_view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.views</span> <span class="kn">import</span> <span class="n">my_view</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">testing</span><span class="o">.</span><span class="n">DummyRequest</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">],</span> <span class="s1">&#39;hello_world&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">FunctionalTests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">hello_world</span> <span class="kn">import</span> <span class="n">main</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">main</span><span class="p">({})</span>
        <span class="kn">from</span> <span class="nn">webtest</span> <span class="kn">import</span> <span class="n">TestApp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">testapp</span> <span class="o">=</span> <span class="n">TestApp</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">testapp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;Pyramid&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>ピラミッドは、テストのセットアップとティアダウンで使用するテストライターのためのヘルパーを提供します。私たちの最初のテストは、ビューをインポートし、ダミーリクエストを行い、ビューが期待したものを返すかどうかを確認します。私たちの2番目のテストでは、要求からWebルートへの応答本文に、期待した内容が含まれていることが検証されています。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルユニットテスト&lt;qtut_unit_testing&gt; `、：ref：`クイックチュートリアル機能テスト&lt;qtut_functional_testing&gt; `、および：ref：</cite> testing_chapter`</p>
</div>
</div>
<div class="section" id="logging">
<h2>ロギング<a class="headerlink" href="#logging" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Webアプリケーション内で何が起こっているのかを知ることは重要です。開発時には、出力を収集する必要があります。プロダクションでは、他の人がサイトを使用している状況を検出する必要があります。 <a href="#id1"><span class="problematic" id="id2">*</span></a>ロギング*が必要です。</p>
<p>幸いにもPyramidは通常のPythonのロギング手法を使用しています。あなたのプロジェクトの `` development.ini``ファイルには、いくつかの合理的なデフォルト値を設定する行がいくつかあります。次に、Pyramidによって送信されたメッセージが表示されます（たとえば、新しい要求が入った場合）。</p>
<p>あなたのコードにメッセージを記録したいのですか？あなたのPythonモジュールでは、 `` views.py``でロギングをインポートして設定します：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>あなたのコードでログメッセージを作成できるようになりました：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="hll">    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Some Message&#39;</span><span class="p">)</span>
</span></pre></div>
</td></tr></table></div>
<p>これは `` DEBUG``ログレベルの `` Some Message``を `` development.ini``のアプリケーション設定ロガーに記録します。それを制御するのは何ですか？設定ファイルのこれらの強調されたセクション</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="hll"><span class="k">[loggers]</span>
</span><span class="hll"><span class="na">keys</span> <span class="o">=</span> <span class="s">root, hello_world</span>
</span>
<span class="k">[handlers]</span>
<span class="na">keys</span> <span class="o">=</span> <span class="s">console</span>

<span class="k">[formatters]</span>
<span class="na">keys</span> <span class="o">=</span> <span class="s">generic</span>

<span class="k">[logger_root]</span>
<span class="na">level</span> <span class="o">=</span> <span class="s">INFO</span>
<span class="na">handlers</span> <span class="o">=</span> <span class="s">console</span>

<span class="hll"><span class="k">[logger_hello_world]</span>
</span><span class="hll"><span class="na">level</span> <span class="o">=</span> <span class="s">DEBUG</span>
</span><span class="hll"><span class="na">handlers</span> <span class="o">=</span>
</span><span class="hll"><span class="na">qualname</span> <span class="o">=</span> <span class="s">hello_world</span>
</span></pre></div>
</td></tr></table></div>
<p>私たちのアプリケーション、 `` hello_world``という名前のパッケージは、ロガーとしてセットアップされ、 `` DEBUG`以上のレベルでメッセージを記録するように設定されています。 http：// localhost：6543にアクセスすると、コンソールに次のように表示されます。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2016-12-25 03:03:57,059 DEBUG [hello_world.views:8][waitress] Some Message
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルロギング&lt;qtut_logging&gt; `と：ref：</cite> logging_chapter`です。</p>
</div>
</div>
<div class="section" id="sessions">
<h2>セッション<a class="headerlink" href="#sessions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Webアプリケーションを使用する人は、半永久的なデータを保存する必要があるタスクを頻繁に実行します。たとえば、ショッピングカートです。これは：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>session`と呼ばれます。</p>
<p>Pyramidにはセッションのための基本的な組み込みサポートがあります。 `` pyramid_redis_sessions``のようなサードパーティパッケージは、より豊かなセッションサポートを提供します。または、独自のカスタムセッションエンジンを作成することもできます。 ：doc： <cite>組込みセッションサポート&amp;lt;../ narr / sessions&amp;gt;`を見てみましょう。私たちの `</cite> __init __。py``ではまず最初に必要なセッションをインポートします：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>
<span class="hll"><span class="kn">from</span> <span class="nn">pyramid.session</span> <span class="kn">import</span> <span class="n">SignedCookieSessionFactory</span>
</span></pre></div>
</td></tr></table></div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">セッション文書でも指摘されているように、この実装例は、セキュリティの意味を持つ設定での使用を意図したものではありません。</p>
</div>
<p>&amp;quot;factory &amp;quot;を作り、：term： <cite>configurator`の</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>session_factory``引数に渡してください：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="hll">    <span class="n">my_session_factory</span> <span class="o">=</span> <span class="n">SignedCookieSessionFactory</span><span class="p">(</span><span class="s1">&#39;itsaseekreet&#39;</span><span class="p">)</span>
</span><span class="hll">    <span class="n">config</span><span class="o">.</span><span class="n">set_session_factory</span><span class="p">(</span><span class="n">my_session_factory</span><span class="p">)</span>
</span>    <span class="n">config</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>Pyramidの：term： <cite>request`オブジェクトには、</cite> <cite>views.py``のビューコードで使用できる</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>session``属性が追加されました：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Some Message&#39;</span><span class="p">)</span>
<span class="hll">    <span class="n">session</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">session</span>
</span><span class="hll">    <span class="k">if</span> <span class="s1">&#39;counter&#39;</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
</span><span class="hll">        <span class="n">session</span><span class="p">[</span><span class="s1">&#39;counter&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="n">session</span><span class="p">[</span><span class="s1">&#39;counter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span>    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;project&#39;</span><span class="p">:</span> <span class="s1">&#39;hello_world&#39;</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>セッションのカウンタインクリメントを表示するには、Jinja2テンプレート `` templates / mytemplate.jinja2``を更新する必要があります：</p>
<div class="highlight-jinja notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="x">&lt;div class=&quot;content&quot;&gt;</span>
<span class="x">  &lt;h1&gt;&lt;span class=&quot;font-semi-bold&quot;&gt;Pyramid&lt;/span&gt; &lt;span class=&quot;smaller&quot;&gt;Starter project&lt;/span&gt;&lt;/h1&gt;</span>
<span class="x">  &lt;p class=&quot;lead&quot;&gt;Welcome to &lt;span class=&quot;font-normal&quot;&gt;hello_world&lt;/span&gt;, a&amp;nbsp;Pyramid application generated&amp;nbsp;by&lt;br&gt;&lt;span class=&quot;font-normal&quot;&gt;Cookiecutter&lt;/span&gt;.&lt;/p&gt;</span>
<span class="hll"><span class="x">  &lt;p&gt;Counter: </span><span class="cp">{{</span> <span class="nv">request.session.counter</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</span><span class="x">&lt;/div&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルセッション&lt;qtut_sessions&gt; `、：ref：</cite> sessions_chapter`、：ref： <cite>flash_messages</cite>、：ref：` session_module`、：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid_redis_sessions`です。</p>
</div>
</div>
<div class="section" id="databases">
<h2>データベース<a class="headerlink" href="#databases" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Webアプリケーションとは、データを意味します。データとはデータベースを意味します。頻繁にSQLデータベース。 SQLデータベースは、しばしば&amp;quot;ORM &amp;quot;（オブジェクト・リレーショナル・マッパー）を意味します。Pythonでは、ORMは通常、メガ・クオリティの* SQLAlchemy <a href="#id1"><span class="problematic" id="id2">*</span></a>をもたらします。</p>
<p>PyramidとSQLAlchemyは素晴らしい友達です。その友情には調理師がいる！</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~
$ env/bin/cookiecutter gh:Pylons/pyramid-cookiecutter-alchemy --checkout <span class="m">1</span>.9-branch
</pre></div>
</div>
<p>最初の項目の入力を求められたら、returnキーを押してデフォルトの `` yes``を受け入れます。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>You&#39;ve cloned ~/.cookiecutters/pyramid-cookiecutter-alchemy before.
Is it okay to delete and re-clone it? [yes]: yes
project_name [Pyramid Scaffold]: sqla_demo
repo_name [sqla_demo]: sqla_demo
</pre></div>
</div>
<p>その後、以下のコマンドを実行します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change directory into your newly created project.</span>
$ <span class="nb">cd</span> sqla_demo
<span class="c1"># Create a new virtual environment...</span>
$ python3 -m venv env
<span class="c1"># ...where we upgrade packaging tools...</span>
$ env/bin/pip install --upgrade pip setuptools
<span class="c1"># ...and into which we install our project and its testing requirements.</span>
$ env/bin/pip install -e <span class="s2">&quot;.[testing]&quot;</span>
<span class="c1"># Reset our environment variable for a new virtual environment.</span>
$ <span class="nb">export</span> <span class="nv">VENV</span><span class="o">=</span>~/sqla_demo/env
</pre></div>
</div>
<p>すべての依存関係がインストールされたSQLAlchemyアプリケーションのサンプルが用意されました。サンプルプロジェクトは、テーブルを使用してSQLiteデータベースを初期化するためのコンソールスクリプトを提供します。それを実行してから、アプリケーションを起動してみましょう：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">$VENV</span>/bin/initialize_sqla_demo_db development.ini
$ <span class="nv">$VENV</span>/bin/pserve development.ini
</pre></div>
</div>
<p>ORMは、データベース構造のプログラミング言語へのマッピングを容易にします。 SQLAlchemyはこのマッピングに&amp;quot;models &amp;quot;を使用します。 cookiecutterはサンプルモデルを生成しました：</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;models&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Web要求とシステムの残りの間のロジックを仲介するビューコードは、SQLAlchemyのおかげでデータに簡単にアクセスできます。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>13</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">one</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">MyModel</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;one&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルデータベース&lt;qtut_databases&gt; `、</cite> SQLAlchemy &lt;<a class="reference external" href="http://www.sqlalchemy.org/">http://www.sqlalchemy.org/</a>&gt; <cite>_、：ref：</cite> making_a_console_script`、：ref： <cite>bfg_sql_wiki_tutorial</cite>、および：ref：` pyramid_tmによるアプリケーショントランザクション&lt;tm:overview&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>。</p>
</div>
</div>
<div class="section" id="forms">
<h2>フォーム<a class="headerlink" href="#forms" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>開発者はWebフォームに関する多くの意見を持っているため、Python用の多くのフォームライブラリがあります。 Pyramidはフォームライブラリを直接バンドルしませんが、* Deform <em>はフォームによく使われる選択肢で、関連する</em> Colander <a href="#id1"><span class="problematic" id="id2">*</span></a>スキーマシステムです。</p>
<p>たとえば、wikiページを編集するフォームが必要な場合を考えてみましょう。フォームには2つのフィールドが必要です.1つは必須タイトル、もう1つは本文のリッチテキストエディタです。 Deformでは、これをColanderスキーマとして表現できます。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">WikiPage</span><span class="p">(</span><span class="n">colander</span><span class="o">.</span><span class="n">MappingSchema</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">colander</span><span class="o">.</span><span class="n">SchemaNode</span><span class="p">(</span><span class="n">colander</span><span class="o">.</span><span class="n">String</span><span class="p">())</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">colander</span><span class="o">.</span><span class="n">SchemaNode</span><span class="p">(</span>
        <span class="n">colander</span><span class="o">.</span><span class="n">String</span><span class="p">(),</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">deform</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">RichTextWidget</span><span class="p">()</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>これで、既存のページのフォームデータを使用して、フォームのHTMLをレンダリングできます。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">form</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wiki_form</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>
</div>
<p>フォームの提出、検証、および保存を処理したいと思います。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the form data that was posted</span>
<span class="n">controls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Validate and either raise a validation error</span>
    <span class="c1"># or return deserialized data from widgets</span>
    <span class="n">appstruct</span> <span class="o">=</span> <span class="n">wiki_form</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">controls</span><span class="p">)</span>
<span class="k">except</span> <span class="n">deform</span><span class="o">.</span><span class="n">ValidationFailure</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="c1"># Bail out and render form with errors</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">,</span> <span class="n">form</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>

<span class="c1"># Change the content and redirect to the view</span>
<span class="n">page</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">appstruct</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="n">page</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">appstruct</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>DeformとColanderは、フォーム、ウィジェット、スキーマ、および検証に非常に柔軟な組み合わせを提供します。最近のバージョンのDeformには、：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>小売モード&lt;deform:retail&gt;カスタムフォームでDeform機能を利用するためのものです。</p>
<p>Deformは、Twitterブートストラップの魅力的なCSSと、より強力な選択、チェックボックス、日付と時刻のウィジェットを使用しています。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">参照：：ref： <cite>クイックチュートリアルフォーム&lt;qtut_forms&gt; `、：ref：`変形&lt;deform:overview&gt; `、および：ref：</cite> Colander &lt;colander:overview&gt; <a href="#id1"><span class="problematic" id="id2">`</span></a>。</p>
</div>
</div>
<div class="section" id="conclusion">
<h2>結論<a class="headerlink" href="#conclusion" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>この*クイックツアー*については少し詳しく説明しました。 Pyramidの概念の長いリストを紹介しましたが、その多くはPyramidの開発者ドキュメントに詳しく説明されています。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(機械翻訳)ピラミッドのクイックツアー</a><ul>
<li><a class="reference internal" href="#installation">インストール</a></li>
<li><a class="reference internal" href="#hello-world">こんにちは世界</a></li>
<li><a class="reference internal" href="#handling-web-requests-and-responses">Webリクエストとレスポンスの処理</a></li>
<li><a class="reference internal" href="#views">ビュー</a></li>
<li><a class="reference internal" href="#routing">ルーティング</a></li>
<li><a class="reference internal" href="#templating">テンプレート</a></li>
<li><a class="reference internal" href="#templating-with-jinja2">Jinja2を使ったテンプレート</a></li>
<li><a class="reference internal" href="#static-assets">静的資産</a></li>
<li><a class="reference internal" href="#returning-json">JSONを返す</a></li>
<li><a class="reference internal" href="#view-classes">ビュークラス</a></li>
<li><a class="reference internal" href="#quick-project-startup-with-cookiecutters">cookiecuttersによるクイックプロジェクトの起動</a></li>
<li><a class="reference internal" href="#application-running-with-pserve">`` pserve``で動作するアプリケーション</a></li>
<li><a class="reference internal" href="#configuration-with-ini-files">`` .ini``ファイルによる設定</a></li>
<li><a class="reference internal" href="#easier-development-with-debugtoolbar">`` debugtoolbar``による簡単な開発</a></li>
<li><a class="reference internal" href="#unit-tests-and-py-test">ユニットテストと `` py.test``</a></li>
<li><a class="reference internal" href="#logging">ロギング</a></li>
<li><a class="reference internal" href="#sessions">セッション</a></li>
<li><a class="reference internal" href="#databases">データベース</a></li>
<li><a class="reference internal" href="#forms">フォーム</a></li>
<li><a class="reference internal" href="#conclusion">結論</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="index.html"
                        title="前の章へ">(機械翻訳)ピラミッドWebフレームワーク</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="quick_tutorial/index.html"
                        title="次の章へ">Pyramidのクイックチュートリアル(Quick Tutorial for Pyramid)</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/quick_tour.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="quick_tutorial/index.html" title="Pyramidのクイックチュートリアル(Quick Tutorial for Pyramid)"
             >次へ</a> |</li>
        <li class="right" >
          <a href="index.html" title="(機械翻訳)ピラミッドWebフレームワーク"
             >前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 11月 13, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1 で生成しました。
    </div>
  </body>
</html>