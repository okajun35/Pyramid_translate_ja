
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pyramid.interfaces &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="../../_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="copyright" title="著作権" href="../../copyright.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="../../_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="../../index.html">
      		<img class="logo" src="../../_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
    	<li><a href="../../index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">モジュールコード</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>pyramid.interfaces のソースコード</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">zope.deprecation</span> <span class="k">import</span> <span class="n">deprecated</span>

<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">Attribute</span><span class="p">,</span>
    <span class="n">Interface</span><span class="p">,</span>
    <span class="p">)</span>

<span class="kn">from</span> <span class="nn">pyramid.compat</span> <span class="k">import</span> <span class="n">PY2</span>

<span class="c1"># public API interfaces</span>

<div class="viewcode-block" id="IContextFound"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IContextFound">[ドキュメント]</a><span class="k">class</span> <span class="nc">IContextFound</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An event type that is emitted after :app:`Pyramid` finds a</span>
<span class="sd">    :term:`context` object but before it calls any view code.  See the</span>
<span class="sd">    documentation attached to :class:`pyramid.events.ContextFound`</span>
<span class="sd">    for more information.</span>

<span class="sd">    .. note::</span>

<span class="sd">       For backwards compatibility with versions of</span>
<span class="sd">       :app:`Pyramid` before 1.0, this event interface can also be</span>
<span class="sd">       imported as :class:`pyramid.interfaces.IAfterTraversal`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The request object&#39;</span><span class="p">)</span></div>

<span class="n">IAfterTraversal</span> <span class="o">=</span> <span class="n">IContextFound</span>

<div class="viewcode-block" id="IBeforeTraversal"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IBeforeTraversal">[ドキュメント]</a><span class="k">class</span> <span class="nc">IBeforeTraversal</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An event type that is emitted after :app:`Pyramid` attempted to find a</span>
<span class="sd">    route but before it calls any traversal or view code. See the documentation</span>
<span class="sd">    attached to :class:`pyramid.events.Routefound` for more information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The request object&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="INewRequest"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.INewRequest">[ドキュメント]</a><span class="k">class</span> <span class="nc">INewRequest</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An event type that is emitted whenever :app:`Pyramid`</span>
<span class="sd">    begins to process a new request.  See the documentation attached</span>
<span class="sd">    to :class:`pyramid.events.NewRequest` for more information.&quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The request object&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="INewResponse"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.INewResponse">[ドキュメント]</a><span class="k">class</span> <span class="nc">INewResponse</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An event type that is emitted whenever any :app:`Pyramid`</span>
<span class="sd">    view returns a response. See the</span>
<span class="sd">    documentation attached to :class:`pyramid.events.NewResponse`</span>
<span class="sd">    for more information.&quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The request object&#39;</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The response object&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="IApplicationCreated"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IApplicationCreated">[ドキュメント]</a><span class="k">class</span> <span class="nc">IApplicationCreated</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Event issued when the</span>
<span class="sd">    :meth:`pyramid.config.Configurator.make_wsgi_app` method</span>
<span class="sd">    is called.  See the documentation attached to</span>
<span class="sd">    :class:`pyramid.events.ApplicationCreated` for more</span>
<span class="sd">    information.</span>

<span class="sd">    .. note::</span>

<span class="sd">       For backwards compatibility with :app:`Pyramid`</span>
<span class="sd">       versions before 1.0, this interface can also be imported as</span>
<span class="sd">       :class:`pyramid.interfaces.IWSGIApplicationCreatedEvent`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s2">&quot;Created application&quot;</span><span class="p">)</span></div>

<span class="n">IWSGIApplicationCreatedEvent</span> <span class="o">=</span> <span class="n">IApplicationCreated</span> <span class="c1"># b /c</span>

<div class="viewcode-block" id="IResponse"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IResponse">[ドキュメント]</a><span class="k">class</span> <span class="nc">IResponse</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents a WSGI response using the WebOb response interface.</span>
<span class="sd">    Some attribute and method documentation of this interface references</span>
<span class="sd">    :rfc:`2616`.</span>

<span class="sd">    This interface is most famously implemented by</span>
<span class="sd">    :class:`pyramid.response.Response` and the HTTP exception classes in</span>
<span class="sd">    :mod:`pyramid.httpexceptions`.&quot;&quot;&quot;</span>

    <span class="n">RequestClass</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Alias for :class:`pyramid.request.Request` &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; :term:`WSGI` call interface, should call the start_response</span>
<span class="sd">        callback and should return an iterable&quot;&quot;&quot;</span>

    <span class="n">accept_ranges</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Accept-Ranges header. For more</span>
<span class="sd">        information on Accept-Ranges see RFC 2616, section 14.5&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">age</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Age header. Converts using int.</span>
<span class="sd">        For more information on Age see RFC 2616, section 14.6.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">allow</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Allow header. Converts using</span>
<span class="sd">        list. For more information on Allow see RFC 2616, Section 14.7.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">app_iter</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Returns the app_iter of the response.</span>

<span class="sd">        If body was set, this will create an app_iter from that body</span>
<span class="sd">        (a single-item list)&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">app_iter_range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a new app_iter built from the response app_iter that</span>
<span class="sd">        serves up only the given start:stop range. &quot;&quot;&quot;</span>

    <span class="n">body</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;The body of the response, as a str. This will read in the entire</span>
<span class="sd">        app_iter if necessary.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">body_file</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;A file-like object that can be used to write to the body. If you</span>
<span class="sd">        passed in a list app_iter, that app_iter will be modified by writes.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">cache_control</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Get/set/modify the Cache-Control header (RFC 2616 section 14.9)&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">cache_expires</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Get/set the Cache-Control and Expires headers. This sets the</span>
<span class="sd">            response to expire in the number of seconds passed when set. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">charset</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Get/set the charset (in the Content-Type)&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">conditional_response_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Like the normal __call__ interface, but checks conditional</span>
<span class="sd">        headers:</span>

<span class="sd">        - If-Modified-Since (304 Not Modified; only on GET, HEAD)</span>

<span class="sd">        - If-None-Match (304 Not Modified; only on GET, HEAD)</span>

<span class="sd">        - Range (406 Partial Content; only on GET, HEAD)&quot;&quot;&quot;</span>

    <span class="n">content_disposition</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-Disposition header.</span>
<span class="sd">        For more information on Content-Disposition see RFC 2616 section</span>
<span class="sd">        19.5.1.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_encoding</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-Encoding header.  For more</span>
<span class="sd">        information about Content-Encoding see RFC 2616 section 14.11.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_language</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-Language header. Converts</span>
<span class="sd">        using list.  For more information about Content-Language see RFC 2616</span>
<span class="sd">        section 14.12.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_length</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-Length header. For more</span>
<span class="sd">        information on Content-Length see RFC 2616 section 14.17.</span>
<span class="sd">        Converts using int. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_location</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-Location header. For more</span>
<span class="sd">        information on Content-Location see RFC 2616 section 14.14.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_md5</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-MD5 header. For more</span>
<span class="sd">        information on Content-MD5 see RFC 2616 section 14.14.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_range</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Content-Range header. For more</span>
<span class="sd">        information on Content-Range see section 14.16. Converts using</span>
<span class="sd">        ContentRange object.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_type</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Get/set the Content-Type header (or None), without the charset</span>
<span class="sd">        or any parameters. If you include parameters (or ; at all) when</span>
<span class="sd">        setting the content_type, any existing parameters will be deleted;</span>
<span class="sd">        otherwise they will be preserved.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">content_type_params</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;A dictionary of all the parameters in the content type.  This is</span>
<span class="sd">        not a view, set to change, modifications of the dict would not</span>
<span class="sd">        be applied otherwise.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Makes a copy of the response and returns the copy. &quot;&quot;&quot;</span>

    <span class="n">date</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Date header. For more information on</span>
<span class="sd">        Date see RFC 2616 section 14.18. Converts using HTTP date.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_cookie</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Delete a cookie from the client. Note that path and domain must</span>
<span class="sd">        match how the cookie was originally set.  This sets the cookie to the</span>
<span class="sd">        empty string, and max_age=0 so that it should expire immediately. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">encode_content</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Encode the content with the given encoding (only gzip and</span>
<span class="sd">        identity are supported).&quot;&quot;&quot;</span>

    <span class="n">environ</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Get/set the request environ associated with this response,</span>
<span class="sd">        if any.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">etag</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the ETag header. For more information</span>
<span class="sd">        on ETag see RFC 2616 section 14.19. Converts using Entity tag.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">expires</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the Expires header. For more</span>
<span class="sd">        information on Expires see RFC 2616 section 14.21. Converts using</span>
<span class="sd">        HTTP date.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">headerlist</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; The list of response headers. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; The headers in a dictionary-like object &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">last_modified</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the Last-Modified header. For more</span>
<span class="sd">        information on Last-Modified see RFC 2616 section 14.29. Converts</span>
<span class="sd">        using HTTP date.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">location</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the Location header. For more</span>
<span class="sd">        information on Location see RFC 2616 section 14.30.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">md5_etag</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">set_content_md5</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Generate an etag for the response object using an MD5 hash of the</span>
<span class="sd">        body (the body parameter, or self.body if not given).  Sets self.etag.</span>
<span class="sd">        If set_content_md5 is True sets self.content_md5 as well &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">merge_cookies</span><span class="p">(</span><span class="n">resp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Merge the cookies that were set on this response with the given</span>
<span class="sd">        resp object (which can be any WSGI application).  If the resp is a</span>
<span class="sd">        webob.Response object, then the other object will be modified</span>
<span class="sd">        in-place. &quot;&quot;&quot;</span>

    <span class="n">pragma</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the Pragma header. For more information</span>
<span class="sd">        on Pragma see RFC 2616 section 14.32. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">request</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Return the request associated with this response if any. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">retry_after</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the Retry-After header. For more</span>
<span class="sd">        information on Retry-After see RFC 2616 section 14.37. Converts</span>
<span class="sd">        using HTTP date or delta seconds.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">server</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the Server header. For more information</span>
<span class="sd">        on Server see RFC216 section 14.38. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_cookie</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">max_age</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">secure</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">httponly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expires</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set (add) a cookie for the response &quot;&quot;&quot;</span>

    <span class="n">status</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; The status string. &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">status_int</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; The status as an integer &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">unicode_body</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Get/set the unicode value of the body (using the charset of</span>
<span class="sd">        the Content-Type)&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unset_cookie</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Unset a cookie with the given name (remove it from the</span>
<span class="sd">        response).&quot;&quot;&quot;</span>

    <span class="n">vary</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Gets and sets and deletes the Vary header. For more information</span>
<span class="sd">        on Vary see section 14.44. Converts using list.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">www_authenticate</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot; Gets and sets and deletes the WWW-Authenticate header. For more</span>
<span class="sd">        information on WWW-Authenticate see RFC 2616 section 14.47. Converts</span>
<span class="sd">        using &#39;parse_auth&#39; and &#39;serialize_auth&#39;. &quot;&quot;&quot;</span><span class="p">)</span></div>

<span class="k">class</span> <span class="nc">IException</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span> <span class="c1"># not an API</span>
    <span class="sd">&quot;&quot;&quot; An interface representing a generic exception &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IExceptionResponse"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IExceptionResponse">[ドキュメント]</a><span class="k">class</span> <span class="nc">IExceptionResponse</span><span class="p">(</span><span class="n">IException</span><span class="p">,</span> <span class="n">IResponse</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An interface representing a WSGI response which is also an exception</span>
<span class="sd">    object.  Register an exception view using this interface as a ``context``</span>
<span class="sd">    to apply the registered view for all exception types raised by</span>
<span class="sd">    :app:`Pyramid` internally (any exception that inherits from</span>
<span class="sd">    :class:`pyramid.response.Response`, including</span>
<span class="sd">    :class:`pyramid.httpexceptions.HTTPNotFound` and</span>
<span class="sd">    :class:`pyramid.httpexceptions.HTTPForbidden`).&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="n">environ</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Prepares the response for being called as a WSGI application &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IDict"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IDict">[ドキュメント]</a><span class="k">class</span> <span class="nc">IDict</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="c1"># Documentation-only interface</span>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return ``True`` if key ``k`` exists in the dictionary.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set a key/value pair into the dictionary&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__delitem__</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Delete an item from the dictionary which is passed to the</span>
<span class="sd">        renderer as the renderer globals dictionary.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the value for key ``k`` from the dictionary or raise a</span>
<span class="sd">        KeyError if the key doesn&#39;t exist&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return an iterator over the keys of this dictionary &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the value for key ``k`` from the renderer dictionary, or</span>
<span class="sd">        the default if no such value exists.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">items</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a list of [(k,v)] pairs from the dictionary &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">keys</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a list of keys from the dictionary &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">values</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a list of values from the dictionary &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">PY2</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">iterkeys</span><span class="p">():</span>
            <span class="sd">&quot;&quot;&quot; Return an iterator of keys from the dictionary &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">iteritems</span><span class="p">():</span>
            <span class="sd">&quot;&quot;&quot; Return an iterator of (k,v) pairs from the dictionary &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">itervalues</span><span class="p">():</span>
            <span class="sd">&quot;&quot;&quot; Return an iterator of values from the dictionary &quot;&quot;&quot;</span>

        <span class="n">has_key</span> <span class="o">=</span> <span class="fm">__contains__</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Pop the key k from the dictionary and return its value.  If k</span>
<span class="sd">        doesn&#39;t exist, and default is provided, return the default.  If k</span>
<span class="sd">        doesn&#39;t exist and default is not provided, raise a KeyError.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">popitem</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Pop the item with key k from the dictionary and return it as a</span>
<span class="sd">        two-tuple (k, v).  If k doesn&#39;t exist, raise a KeyError.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the existing value for key ``k`` in the dictionary.  If no</span>
<span class="sd">         value with ``k`` exists in the dictionary, set the ``default``</span>
<span class="sd">         value into the dictionary under the k name passed.  If a value already</span>
<span class="sd">         existed in the dictionary, return it.  If a value did not exist in</span>
<span class="sd">         the dictionary, return the default&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Update the renderer dictionary with another dictionary ``d``.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Clear all values from the dictionary &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IBeforeRender"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IBeforeRender">[ドキュメント]</a><span class="k">class</span> <span class="nc">IBeforeRender</span><span class="p">(</span><span class="n">IDict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subscribers to this event may introspect and modify the set of</span>
<span class="sd">    :term:`renderer globals` before they are passed to a :term:`renderer`.</span>
<span class="sd">    The event object itself provides a dictionary-like interface for adding</span>
<span class="sd">    and removing :term:`renderer globals`.  The keys and values of the</span>
<span class="sd">    dictionary are those globals.  For example::</span>

<span class="sd">      from repoze.events import subscriber</span>
<span class="sd">      from pyramid.interfaces import IBeforeRender</span>

<span class="sd">      @subscriber(IBeforeRender)</span>
<span class="sd">      def add_global(event):</span>
<span class="sd">          event[&#39;mykey&#39;] = &#39;foo&#39;</span>

<span class="sd">    .. seealso::</span>

<span class="sd">        See also :ref:`beforerender_event`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rendering_val</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The value returned by a view or passed to a &#39;</span>
                              <span class="s1">&#39;``render`` method for this rendering. &#39;</span>
                              <span class="s1">&#39;This feature is new in Pyramid 1.2.&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="IRendererInfo"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRendererInfo">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRendererInfo</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An object implementing this interface is passed to every</span>
<span class="sd">    :term:`renderer factory` constructor as its only argument (conventionally</span>
<span class="sd">    named ``info``)&quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The value passed by the user as the renderer name&#39;</span><span class="p">)</span>
    <span class="n">package</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The &quot;current package&quot; when the renderer &#39;</span>
                        <span class="s1">&#39;configuration statement was found&#39;</span><span class="p">)</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The renderer type name&#39;</span><span class="p">)</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The &quot;current&quot; application registry when the &#39;</span>
                         <span class="s1">&#39;renderer was created&#39;</span><span class="p">)</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The deployment settings dictionary related &#39;</span>
                         <span class="s1">&#39;to the current application&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clone</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a shallow copy that does not share any mutable state.&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IRendererFactory"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRendererFactory">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRendererFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return an object that implements</span>
<span class="sd">        :class:`pyramid.interfaces.IRenderer`. ``info`` is an</span>
<span class="sd">        object that implements :class:`pyramid.interfaces.IRendererInfo`.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IRenderer"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRenderer">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRenderer</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">system</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Call the renderer with the result of the</span>
<span class="sd">        view (``value``) passed in and return a result (a string or</span>
<span class="sd">        unicode object useful as a response body).  Values computed by</span>
<span class="sd">        the system are passed by the system in the ``system``</span>
<span class="sd">        parameter, which is a dictionary.  Keys in the dictionary</span>
<span class="sd">        include: ``view`` (the view callable that returned the value),</span>
<span class="sd">        ``renderer_name`` (the template name or simple name of the</span>
<span class="sd">        renderer), ``context`` (the context object passed to the</span>
<span class="sd">        view), and ``request`` (the request object passed to the</span>
<span class="sd">        view).&quot;&quot;&quot;</span></div>

<span class="k">class</span> <span class="nc">ITemplateRenderer</span><span class="p">(</span><span class="n">IRenderer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">implementation</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return the object that the underlying templating system</span>
<span class="sd">        uses to render the template; it is typically a callable that</span>
<span class="sd">        accepts arbitrary keyword arguments and returns a string or</span>
<span class="sd">        unicode object &quot;&quot;&quot;</span>

<span class="n">deprecated</span><span class="p">(</span>
    <span class="s1">&#39;ITemplateRenderer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;As of Pyramid 1.5 the, &quot;pyramid.interfaces.ITemplateRenderer&quot; interface &#39;</span>
    <span class="s1">&#39;is scheduled to be removed. It was used by the Mako and Chameleon &#39;</span>
    <span class="s1">&#39;renderers which have been split into their own packages.&#39;</span>
    <span class="p">)</span>

<div class="viewcode-block" id="IViewMapper"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IViewMapper">[ドキュメント]</a><span class="k">class</span> <span class="nc">IViewMapper</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Provided with an arbitrary object (a function, class, or</span>
<span class="sd">        instance), returns a callable with the call signature ``(context,</span>
<span class="sd">        request)``.  The callable returned should itself return a Response</span>
<span class="sd">        object.  An IViewMapper is returned by</span>
<span class="sd">        :class:`pyramid.interfaces.IViewMapperFactory`.&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IViewMapperFactory"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IViewMapperFactory">[ドキュメント]</a><span class="k">class</span> <span class="nc">IViewMapperFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an object which implements</span>
<span class="sd">        :class:`pyramid.interfaces.IViewMapper`.  ``kw`` will be a dictionary</span>
<span class="sd">        containing view-specific arguments, such as ``permission``,</span>
<span class="sd">        ``predicates``, ``attr``, ``renderer``, and other items.  An</span>
<span class="sd">        IViewMapperFactory is used by</span>
<span class="sd">        :meth:`pyramid.config.Configurator.add_view` to provide a plugpoint</span>
<span class="sd">        to extension developers who want to modify potential view callable</span>
<span class="sd">        invocation signatures and response values.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IAuthenticationPolicy"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IAuthenticationPolicy">[ドキュメント]</a><span class="k">class</span> <span class="nc">IAuthenticationPolicy</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An object representing a Pyramid authentication policy. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">authenticated_userid</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the authenticated :term:`userid` or ``None`` if</span>
<span class="sd">        no authenticated userid can be found. This method of the</span>
<span class="sd">        policy should ensure that a record exists in whatever</span>
<span class="sd">        persistent store is used related to the user (the user</span>
<span class="sd">        should not have been deleted); if a record associated with</span>
<span class="sd">        the current id does not exist in a persistent store, it</span>
<span class="sd">        should return ``None``.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">unauthenticated_userid</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the *unauthenticated* userid.  This method</span>
<span class="sd">        performs the same duty as ``authenticated_userid`` but is</span>
<span class="sd">        permitted to return the userid based only on data present</span>
<span class="sd">        in the request; it needn&#39;t (and shouldn&#39;t) check any</span>
<span class="sd">        persistent store to ensure that the user record related to</span>
<span class="sd">        the request userid exists.</span>

<span class="sd">        This method is intended primarily a helper to assist the</span>
<span class="sd">        ``authenticated_userid`` method in pulling credentials out</span>
<span class="sd">        of the request data, abstracting away the specific headers,</span>
<span class="sd">        query strings, etc that are used to authenticate the request.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">effective_principals</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a sequence representing the effective principals</span>
<span class="sd">        typically including the :term:`userid` and any groups belonged</span>
<span class="sd">        to by the current user, always including &#39;system&#39; groups such</span>
<span class="sd">        as ``pyramid.security.Everyone`` and</span>
<span class="sd">        ``pyramid.security.Authenticated``.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">remember</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">userid</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a set of headers suitable for &#39;remembering&#39; the</span>
<span class="sd">        :term:`userid` named ``userid`` when set in a response.  An</span>
<span class="sd">        individual authentication policy and its consumers can</span>
<span class="sd">        decide on the composition and meaning of ``**kw``.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">forget</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a set of headers suitable for &#39;forgetting&#39; the</span>
<span class="sd">        current user on subsequent requests.</span>

<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IAuthorizationPolicy"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IAuthorizationPolicy">[ドキュメント]</a><span class="k">class</span> <span class="nc">IAuthorizationPolicy</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An object representing a Pyramid authorization policy. &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">permits</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">principals</span><span class="p">,</span> <span class="n">permission</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return an instance of :class:`pyramid.security.Allowed` if any</span>
<span class="sd">        of the ``principals`` is allowed the ``permission`` in the current</span>
<span class="sd">        ``context``, else return an instance of</span>
<span class="sd">        :class:`pyramid.security.Denied`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">principals_allowed_by_permission</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">permission</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a set of principal identifiers allowed by the</span>
<span class="sd">        ``permission`` in ``context``.  This behavior is optional; if you</span>
<span class="sd">        choose to not implement it you should define this method as</span>
<span class="sd">        something which raises a ``NotImplementedError``.  This method</span>
<span class="sd">        will only be called when the</span>
<span class="sd">        ``pyramid.security.principals_allowed_by_permission`` API is</span>
<span class="sd">        used.&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IMultiDict"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IMultiDict">[ドキュメント]</a><span class="k">class</span> <span class="nc">IMultiDict</span><span class="p">(</span><span class="n">IDict</span><span class="p">):</span> <span class="c1"># docs-only interface</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An ordered dictionary that can have multiple values for each key. A</span>
<span class="sd">    multidict adds the methods ``getall``, ``getone``, ``mixed``, ``extend``,</span>
<span class="sd">    ``add``, and ``dict_of_lists`` to the normal dictionary interface.  A</span>
<span class="sd">    multidict data structure is used as ``request.POST``, ``request.GET``,</span>
<span class="sd">    and ``request.params`` within an :app:`Pyramid` application.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add the key and value, not overwriting any previous value. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">dict_of_lists</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary where each key is associated with a list of</span>
<span class="sd">        values.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="n">other</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add a set of keys and values, not overwriting any previous</span>
<span class="sd">        values.  The ``other`` structure may be a list of two-tuples or a</span>
<span class="sd">        dictionary.  If ``**kwargs`` is passed, its value *will* overwrite</span>
<span class="sd">        existing values.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">getall</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a list of all values matching the key (may be an empty</span>
<span class="sd">        list) &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">getone</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get one value matching the key, raising a KeyError if multiple</span>
<span class="sd">        values were found. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">mixed</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Returns a dictionary where the values are either single values,</span>
<span class="sd">        or a list of values when a key/value appears more than once in this</span>
<span class="sd">        dictionary. This is similar to the kind of dictionary often used to</span>
<span class="sd">        represent the variables in a web request. &quot;&quot;&quot;</span></div>

<span class="c1"># internal interfaces</span>

<span class="k">class</span> <span class="nc">IRequest</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Request type interface attached to all request objects &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">ITweens</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Marker interface for utility registration representing the ordered</span>
<span class="sd">    set of a configuration&#39;s tween factories&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IRequestHandler</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Must return a tuple of IReqest, IResponse or raise an exception.</span>
<span class="sd">        The ``request`` argument will be an instance of an object that</span>
<span class="sd">        provides IRequest.&quot;&quot;&quot;</span>

<span class="n">IRequest</span><span class="o">.</span><span class="n">combined</span> <span class="o">=</span> <span class="n">IRequest</span> <span class="c1"># for exception view lookups</span>

<span class="k">class</span> <span class="nc">IRequestExtensions</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Marker interface for storing request extensions (properties and</span>
<span class="sd">    methods) which will be added to the request object.&quot;&quot;&quot;</span>
    <span class="n">descriptors</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;A list of descriptors that will be added to each request.&quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">methods</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;A list of methods to be added to each request.&quot;&quot;&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">IRouteRequest</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; *internal only* interface used as in a utility lookup to find</span>
<span class="sd">    route-specific interfaces.  Not an API.&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IStaticURLInfo</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A policy for generating URLs to static assets &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add a new static info registration &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Generate a URL for the given path &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">add_cache_buster</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">cache_buster</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add a new cache buster to a particular set of assets &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IResponseFactory"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IResponseFactory">[ドキュメント]</a><span class="k">class</span> <span class="nc">IResponseFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A utility which generates a response &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a response object implementing IResponse,</span>
<span class="sd">        e.g. :class:`pyramid.response.Response`). It should handle the</span>
<span class="sd">        case when ``request`` is ``None``.&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IRequestFactory"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRequestFactory">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRequestFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A utility which generates a request &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">environ</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return an instance of ``pyramid.request.Request``&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">blank</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return an empty request object (see</span>
<span class="sd">        :meth:`pyramid.request.Request.blank`)&quot;&quot;&quot;</span></div>

<span class="k">class</span> <span class="nc">IViewClassifier</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; *Internal only* marker interface for views.&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IExceptionViewClassifier</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; *Internal only* marker interface for exception views.&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IView</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Must return an object that implements IResponse. &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">ISecuredView</span><span class="p">(</span><span class="n">IView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; *Internal only* interface.  Not an API. &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__call_permissive__</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Guaranteed-permissive version of __call__ &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__permitted__</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return True if view execution will be permitted using the</span>
<span class="sd">        context and request, False otherwise&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IMultiView</span><span class="p">(</span><span class="n">ISecuredView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; *internal only*.  A multiview is a secured view that is a</span>
<span class="sd">    collection of other views.  Each of the views is associated with</span>
<span class="sd">    zero or more predicates.  Not an API.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">predicates</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">accept</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">phash</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add a view to the multiview. &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IRootFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a root object based on the request &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IDefaultRootFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the *default* root object for an application &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">ITraverser</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a dictionary with (at least) the keys ``root``,</span>
<span class="sd">        ``context``, ``view_name``, ``subpath``, ``traversed``,</span>
<span class="sd">        ``virtual_root``, and ``virtual_root_path``.  These values are</span>
<span class="sd">        typically the result of an object graph traversal.  ``root`` is the</span>
<span class="sd">        physical root object, ``context`` will be a model object,</span>
<span class="sd">        ``view_name`` will be the view name used (a Unicode name),</span>
<span class="sd">        ``subpath`` will be a sequence of Unicode names that followed the</span>
<span class="sd">        view name but were not traversed, ``traversed`` will be a sequence of</span>
<span class="sd">        Unicode names that were traversed (including the virtual root path,</span>
<span class="sd">        if any) ``virtual_root`` will be a model object representing the</span>
<span class="sd">        virtual root (or the physical root if traversal was not performed),</span>
<span class="sd">        and ``virtual_root_path`` will be a sequence representing the virtual</span>
<span class="sd">        root path (a sequence of Unicode names) or ``None`` if traversal was</span>
<span class="sd">        not performed.</span>

<span class="sd">        Extra keys for special purpose functionality can be returned as</span>
<span class="sd">        necessary.</span>

<span class="sd">        All values returned in the dictionary will be made available</span>
<span class="sd">        as attributes of the ``request`` object by the :term:`router`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

<span class="n">ITraverserFactory</span> <span class="o">=</span> <span class="n">ITraverser</span> <span class="c1"># b / c for 1.0 code</span>

<span class="k">class</span> <span class="nc">IViewPermission</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return True if the permission allows, return False if it denies.</span>
<span class="sd">        &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IRouter"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRouter">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRouter</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    WSGI application which routes requests to &#39;view&#39; code based on</span>
<span class="sd">    a view registry.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;Component architecture registry local to this application.&quot;&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">request_context</span><span class="p">(</span><span class="n">environ</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new request context from a WSGI environ.</span>

<span class="sd">        The request context is used to push/pop the threadlocals required</span>
<span class="sd">        when processing the request. It also contains an initialized</span>
<span class="sd">        :class:`pyramid.interfaces.IRequest` instance using the registered</span>
<span class="sd">        :class:`pyramid.interfaces.IRequestFactory`. The context may be</span>
<span class="sd">        used as a context manager to control the threadlocal lifecycle:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            with router.request_context(environ) as request:</span>
<span class="sd">                ...</span>

<span class="sd">        Alternatively, the context may be used without the ``with`` statement</span>
<span class="sd">        by manually invoking its ``begin()`` and ``end()`` methods.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            ctx = router.request_context(environ)</span>
<span class="sd">            request = ctx.begin()</span>
<span class="sd">            try:</span>
<span class="sd">                ...</span>
<span class="sd">            finally:</span>
<span class="sd">                ctx.end()</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">invoke_request</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Invoke the :app:`Pyramid` request pipeline.</span>

<span class="sd">        See :ref:`router_chapter` for information on the request pipeline.</span>

<span class="sd">        The output should be a :class:`pyramid.interfaces.IResponse` object</span>
<span class="sd">        or a raised exception.</span>

<span class="sd">        &quot;&quot;&quot;</span></div>

<span class="k">class</span> <span class="nc">IExecutionPolicy</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">router</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This callable triggers the router to process a raw WSGI environ dict</span>
<span class="sd">        into a response and controls the :app:`Pyramid` request pipeline.</span>

<span class="sd">        The ``environ`` is the raw WSGI environ.</span>

<span class="sd">        The ``router`` is an :class:`pyramid.interfaces.IRouter` object which</span>
<span class="sd">        should be used to create a request object and send it into the</span>
<span class="sd">        processing pipeline.</span>

<span class="sd">        The return value should be a :class:`pyramid.interfaces.IResponse`</span>
<span class="sd">        object or an exception that will be handled by WSGI middleware.</span>

<span class="sd">        The default execution policy simply creates a request and sends it</span>
<span class="sd">        through the pipeline, attempting to render any exception that escapes:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            def simple_execution_policy(environ, router):</span>
<span class="sd">                with router.request_context(environ) as request:</span>
<span class="sd">                    try:</span>
<span class="sd">                        return router.invoke_request(request)</span>
<span class="sd">                    except Exception:</span>
<span class="sd">                        return request.invoke_exception_view(reraise=True)</span>
<span class="sd">        &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">ISettings</span><span class="p">(</span><span class="n">IDict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Runtime settings utility for pyramid; represents the</span>
<span class="sd">    deployment settings for the application.  Implements a mapping</span>
<span class="sd">    interface.&quot;&quot;&quot;</span>

<span class="c1"># this interface, even if it becomes unused within Pyramid, is</span>
<span class="c1"># imported by other packages (such as traversalwrapper)</span>
<span class="k">class</span> <span class="nc">ILocation</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Objects that have a structural location&quot;&quot;&quot;</span>
    <span class="n">__parent__</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s2">&quot;The parent in the location hierarchy&quot;</span><span class="p">)</span>
    <span class="vm">__name__</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s2">&quot;The name within the parent&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">IDebugLogger</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Interface representing a PEP 282 logger &quot;&quot;&quot;</span>

<span class="n">ILogger</span> <span class="o">=</span> <span class="n">IDebugLogger</span> <span class="c1"># b/c</span>

<div class="viewcode-block" id="IRoutePregenerator"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRoutePregenerator">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRoutePregenerator</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">elements</span><span class="p">,</span> <span class="n">kw</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot; A pregenerator is a function associated by a developer with a</span>
<span class="sd">        :term:`route`. The pregenerator for a route is called by</span>
<span class="sd">        :meth:`pyramid.request.Request.route_url` in order to adjust the set</span>
<span class="sd">        of arguments passed to it by the user for special purposes, such as</span>
<span class="sd">        Pylons &#39;subdomain&#39; support.  It will influence the URL returned by</span>
<span class="sd">        ``route_url``.</span>

<span class="sd">        A pregenerator should return a two-tuple of ``(elements, kw)``</span>
<span class="sd">        after examining the originals passed to this function, which</span>
<span class="sd">        are the arguments ``(request, elements, kw)``.  The simplest</span>
<span class="sd">        pregenerator is::</span>

<span class="sd">            def pregenerator(request, elements, kw):</span>
<span class="sd">                return elements, kw</span>

<span class="sd">        You can employ a pregenerator by passing a ``pregenerator``</span>
<span class="sd">        argument to the</span>
<span class="sd">        :meth:`pyramid.config.Configurator.add_route`</span>
<span class="sd">        function.</span>

<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IRoute"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IRoute">[ドキュメント]</a><span class="k">class</span> <span class="nc">IRoute</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Interface representing the type of object returned from</span>
<span class="sd">    ``IRoutesMapper.get_route``&quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The route name&#39;</span><span class="p">)</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The route pattern&#39;</span><span class="p">)</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;The :term:`root factory` used by the :app:`Pyramid` router &#39;</span>
        <span class="s1">&#39;when this route matches (or ``None``)&#39;</span><span class="p">)</span>
    <span class="n">predicates</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;A sequence of :term:`route predicate` objects used to &#39;</span>
        <span class="s1">&#39;determine if a request matches this route or not after &#39;</span>
        <span class="s1">&#39;basic pattern matching has been completed.&#39;</span><span class="p">)</span>
    <span class="n">pregenerator</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;This attribute should either be ``None`` or &#39;</span>
                             <span class="s1">&#39;a callable object implementing the &#39;</span>
                             <span class="s1">&#39;``IRoutePregenerator`` interface&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If the ``path`` passed to this function can be matched by the</span>
<span class="sd">        ``pattern`` of this route, return a dictionary (the</span>
<span class="sd">        &#39;matchdict&#39;), which will contain keys representing the dynamic</span>
<span class="sd">        segment markers in the pattern mapped to values extracted from</span>
<span class="sd">        the provided ``path``.</span>

<span class="sd">        If the ``path`` passed to this function cannot be matched by</span>
<span class="sd">        the ``pattern`` of this route, return ``None``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a URL based on filling in the dynamic segment markers</span>
<span class="sd">        in the pattern using the ``kw`` dictionary provided.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<span class="k">class</span> <span class="nc">IRoutesMapper</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Interface representing a Routes ``Mapper`` object &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get_routes</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a sequence of Route objects registered in the mapper.</span>
<span class="sd">        Static routes will not be returned in this sequence.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">has_routes</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Returns ``True`` if any route has been registered. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_route</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns an ``IRoute`` object if a route with the name ``name``</span>
<span class="sd">        was registered, otherwise return ``None``.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">factory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">predicates</span><span class="o">=</span><span class="p">(),</span> <span class="n">pregenerator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">static</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add a new route. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Generate a URL using the route named ``name`` with the</span>
<span class="sd">        keywords implied by kw&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a dictionary containing matching information for</span>
<span class="sd">        the request; the ``route`` key of this dictionary will either</span>
<span class="sd">        be a Route object or ``None`` if no route matched; the</span>
<span class="sd">        ``match`` key will be the matchdict or ``None`` if no route</span>
<span class="sd">        matched.  Static routes will not be considered for matching.  &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IResourceURL"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IResourceURL">[ドキュメント]</a><span class="k">class</span> <span class="nc">IResourceURL</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="n">virtual_path</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;The virtual url path of the resource as a string.&#39;</span>
        <span class="p">)</span>
    <span class="n">physical_path</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;The physical url path of the resource as a string.&#39;</span>
        <span class="p">)</span>
    <span class="n">virtual_path_tuple</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;The virtual url path of the resource as a tuple.  (New in 1.5)&#39;</span>
        <span class="p">)</span>
    <span class="n">physical_path_tuple</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;The physical url path of the resource as a tuple. (New in 1.5)&#39;</span>
        <span class="p">)</span></div>

<span class="k">class</span> <span class="nc">IPEP302Loader</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; See http://www.python.org/dev/peps/pep-0302/#id30.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieve data for and arbitrary &quot;files&quot; from storage backend.</span>

<span class="sd">        Raise IOError for not found.</span>

<span class="sd">        Data is returned as bytes.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_package</span><span class="p">(</span><span class="n">fullname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return True if the module specified by &#39;fullname&#39; is a package.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_code</span><span class="p">(</span><span class="n">fullname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the code object for the module identified by &#39;fullname&#39;.</span>

<span class="sd">        Return &#39;None&#39; if it&#39;s a built-in or extension module.</span>

<span class="sd">        If the loader doesn&#39;t have the code object but it does have the source</span>
<span class="sd">        code, return the compiled source code.</span>

<span class="sd">        Raise ImportError if the module can&#39;t be found by the importer at all.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_source</span><span class="p">(</span><span class="n">fullname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the source code for the module identified by &#39;fullname&#39;.</span>

<span class="sd">        Return a string, using newline characters for line endings, or None</span>
<span class="sd">        if the source is not available.</span>

<span class="sd">        Raise ImportError if the module can&#39;t be found by the importer at all.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_filename</span><span class="p">(</span><span class="n">fullname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the value of &#39;__file__&#39; if the named module was loaded.</span>

<span class="sd">        If the module is not found, raise ImportError.</span>
<span class="sd">        &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">IPackageOverrides</span><span class="p">(</span><span class="n">IPEP302Loader</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Utility for pkg_resources overrides &quot;&quot;&quot;</span>

<span class="c1"># VH_ROOT_KEY is an interface; its imported from other packages (e.g.</span>
<span class="c1"># traversalwrapper)</span>
<span class="n">VH_ROOT_KEY</span> <span class="o">=</span> <span class="s1">&#39;HTTP_X_VHM_ROOT&#39;</span>

<span class="k">class</span> <span class="nc">ILocalizer</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Localizer for a specific language &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">ILocaleNegotiator</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a locale name &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">ITranslationDirectories</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A list object representing all known translation directories</span>
<span class="sd">    for an application&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IDefaultPermission</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A string object representing the default permission to be used</span>
<span class="sd">    for all view configurations which do not explicitly declare their</span>
<span class="sd">    own.&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IDefaultCSRFOptions</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An object representing the default CSRF settings to be used for</span>
<span class="sd">    all view configurations which do not explicitly declare their own.&quot;&quot;&quot;</span>
    <span class="n">require_csrf</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;Boolean attribute. If ``True``, then CSRF checks will be enabled by &#39;</span>
        <span class="s1">&#39;default for the view unless overridden.&#39;</span><span class="p">)</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The key to be matched in the body of the request.&#39;</span><span class="p">)</span>
    <span class="n">header</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The header to be matched with the CSRF token.&#39;</span><span class="p">)</span>
    <span class="n">safe_methods</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;A set of safe methods that skip CSRF checks.&#39;</span><span class="p">)</span>
    <span class="n">callback</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;A callback to disable CSRF checks per-request.&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="ISessionFactory"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.ISessionFactory">[ドキュメント]</a><span class="k">class</span> <span class="nc">ISessionFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An interface representing a factory which accepts a request object and</span>
<span class="sd">    returns an ISession object &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return an ISession object &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="ISession"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.ISession">[ドキュメント]</a><span class="k">class</span> <span class="nc">ISession</span><span class="p">(</span><span class="n">IDict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An interface representing a session (a web session object,</span>
<span class="sd">    usually accessed via ``request.session``.</span>

<span class="sd">    Keys and values of a session must be pickleable.</span>

<span class="sd">    .. versionchanged:: 1.9</span>

<span class="sd">       Sessions are no longer required to implement ``get_csrf_token`` and</span>
<span class="sd">       ``new_csrf_token``. CSRF token support was moved to the pluggable</span>
<span class="sd">       :class:`pyramid.interfaces.ICSRFStoragePolicy` configuration hook.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># attributes</span>

    <span class="n">created</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;Integer representing Epoch time when created.&#39;</span><span class="p">)</span>
    <span class="n">new</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;Boolean attribute.  If ``True``, the session is new.&#39;</span><span class="p">)</span>

    <span class="c1"># special methods</span>

    <span class="k">def</span> <span class="nf">invalidate</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Invalidate the session.  The action caused by</span>
<span class="sd">        ``invalidate`` is implementation-dependent, but it should have</span>
<span class="sd">        the effect of completely dissociating any data stored in the</span>
<span class="sd">        session with the current request.  It might set response</span>
<span class="sd">        values (such as one which clears a cookie), or it might not.</span>

<span class="sd">        An invalidated session may be used after the call to ``invalidate``</span>
<span class="sd">        with the effect that a new session is created to store the data. This</span>
<span class="sd">        enables workflows requiring an entirely new session, such as in the</span>
<span class="sd">        case of changing privilege levels or preventing fixation attacks.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">changed</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Mark the session as changed. A user of a session should</span>
<span class="sd">        call this method after he or she mutates a mutable object that</span>
<span class="sd">        is *a value of the session* (it should not be required after</span>
<span class="sd">        mutating the session itself).  For example, if the user has</span>
<span class="sd">        stored a dictionary in the session under the key ``foo``, and</span>
<span class="sd">        he or she does ``session[&#39;foo&#39;] = {}``, ``changed()`` needn&#39;t</span>
<span class="sd">        be called.  However, if subsequently he or she does</span>
<span class="sd">        ``session[&#39;foo&#39;][&#39;a&#39;] = 1``, ``changed()`` must be called for</span>
<span class="sd">        the sessioning machinery to notice the mutation of the</span>
<span class="sd">        internal dictionary.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">flash</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">queue</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Push a flash message onto the end of the flash queue represented</span>
<span class="sd">        by ``queue``.  An alternate flash message queue can used by passing</span>
<span class="sd">        an optional ``queue``, which must be a string.  If</span>
<span class="sd">        ``allow_duplicate`` is false, if the ``msg`` already exists in the</span>
<span class="sd">        queue, it will not be re-added.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">pop_flash</span><span class="p">(</span><span class="n">queue</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Pop a queue from the flash storage.  The queue is removed from</span>
<span class="sd">        flash storage after this message is called.  The queue is returned;</span>
<span class="sd">        it is a list of flash messages added by</span>
<span class="sd">        :meth:`pyramid.interfaces.ISession.flash`&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">peek_flash</span><span class="p">(</span><span class="n">queue</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Peek at a queue in the flash storage.  The queue remains in</span>
<span class="sd">        flash storage after this message is called.  The queue is returned;</span>
<span class="sd">        it is a list of flash messages added by</span>
<span class="sd">        :meth:`pyramid.interfaces.ISession.flash`</span>
<span class="sd">        &quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="ICSRFStoragePolicy"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.ICSRFStoragePolicy">[ドキュメント]</a><span class="k">class</span> <span class="nc">ICSRFStoragePolicy</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An object that offers the ability to verify CSRF tokens and generate</span>
<span class="sd">    new ones.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">new_csrf_token</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Create and return a new, random cross-site request forgery</span>
<span class="sd">        protection token. The token will be an ascii-compatible unicode</span>
<span class="sd">        string.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_csrf_token</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a cross-site request forgery protection token.  It</span>
<span class="sd">        will be an ascii-compatible unicode string.  If a token was previously</span>
<span class="sd">        set for this user via ``new_csrf_token``, that token will be returned.</span>
<span class="sd">        If no CSRF token was previously set, ``new_csrf_token`` will be</span>
<span class="sd">        called, which will create and set a token, and this token will be</span>
<span class="sd">        returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">check_csrf_token</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Determine if the supplied ``token`` is valid. Most implementations</span>
<span class="sd">        should simply compare the ``token`` to the current value of</span>
<span class="sd">        ``get_csrf_token`` but it is possible to verify the token using</span>
<span class="sd">        any mechanism necessary using this method.</span>

<span class="sd">        Returns ``True`` if the ``token`` is valid, otherwise ``False``.</span>

<span class="sd">        &quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IIntrospector"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IIntrospector">[ドキュメント]</a><span class="k">class</span> <span class="nc">IIntrospector</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">category_name</span><span class="p">,</span> <span class="n">discriminator</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the IIntrospectable related to the category_name and the</span>
<span class="sd">        discriminator (or discriminator hash) ``discriminator``.  If it does</span>
<span class="sd">        not exist in the introspector, return the value of ``default`` &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_category</span><span class="p">(</span><span class="n">category_name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sort_key</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get a sequence of dictionaries in the form</span>
<span class="sd">        ``[{&#39;introspectable&#39;:IIntrospectable, &#39;related&#39;:[sequence of related</span>
<span class="sd">        IIntrospectables]}, ...]`` where each introspectable is part of the</span>
<span class="sd">        category associated with ``category_name`` .</span>

<span class="sd">        If the category named ``category_name`` does not exist in the</span>
<span class="sd">        introspector the value passed as ``default`` will be returned.</span>

<span class="sd">        If ``sort_key`` is ``None``, the sequence will be returned in the</span>
<span class="sd">        order the introspectables were added to the introspector.  Otherwise,</span>
<span class="sd">        sort_key should be a function that accepts an IIntrospectable and</span>
<span class="sd">        returns a value from it (ala the ``key`` function of Python&#39;s</span>
<span class="sd">        ``sorted`` callable).&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">categories</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a sorted sequence of category names known by</span>
<span class="sd">         this introspector &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">categorized</span><span class="p">(</span><span class="n">sort_key</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get a sequence of tuples in the form ``[(category_name,</span>
<span class="sd">        [{&#39;introspectable&#39;:IIntrospectable, &#39;related&#39;:[sequence of related</span>
<span class="sd">        IIntrospectables]}, ...])]`` representing all known</span>
<span class="sd">        introspectables.  If ``sort_key`` is ``None``, each introspectables</span>
<span class="sd">        sequence will be returned in the order the introspectables were added</span>
<span class="sd">        to the introspector.  Otherwise, sort_key should be a function that</span>
<span class="sd">        accepts an IIntrospectable and returns a value from it (ala the</span>
<span class="sd">        ``key`` function of Python&#39;s ``sorted`` callable).&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="n">category_name</span><span class="p">,</span> <span class="n">discriminator</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Remove the IIntrospectable related to ``category_name`` and</span>
<span class="sd">        ``discriminator`` from the introspector, and fix up any relations</span>
<span class="sd">        that the introspectable participates in. This method will not raise</span>
<span class="sd">        an error if an introspectable related to the category name and</span>
<span class="sd">        discriminator does not exist.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">related</span><span class="p">(</span><span class="n">intr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a sequence of IIntrospectables related to the</span>
<span class="sd">        IIntrospectable ``intr``. Return the empty sequence if no relations</span>
<span class="sd">        for exist.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">intr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add the IIntrospectable ``intr`` (use instead of</span>
<span class="sd">        :meth:`pyramid.interfaces.IIntrospector.add` when you have a custom</span>
<span class="sd">        IIntrospectable). Replaces any existing introspectable registered</span>
<span class="sd">        using the same category/discriminator.</span>

<span class="sd">        This method is not typically called directly, instead it&#39;s called</span>
<span class="sd">        indirectly by :meth:`pyramid.interfaces.IIntrospector.register`&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">relate</span><span class="p">(</span><span class="o">*</span><span class="n">pairs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Given any number of ``(category_name, discriminator)`` pairs</span>
<span class="sd">        passed as positional arguments, relate the associated introspectables</span>
<span class="sd">        to each other. The introspectable related to each pair must have</span>
<span class="sd">        already been added via ``.add`` or ``.add_intr``; a :exc:`KeyError`</span>
<span class="sd">        will result if this is not true.  An error will not be raised if any</span>
<span class="sd">        pair has already been associated with another.</span>

<span class="sd">        This method is not typically called directly, instead it&#39;s called</span>
<span class="sd">        indirectly by :meth:`pyramid.interfaces.IIntrospector.register`</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">unrelate</span><span class="p">(</span><span class="o">*</span><span class="n">pairs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Given any number of ``(category_name, discriminator)`` pairs</span>
<span class="sd">        passed as positional arguments, unrelate the associated introspectables</span>
<span class="sd">        from each other. The introspectable related to each pair must have</span>
<span class="sd">        already been added via ``.add`` or ``.add_intr``; a :exc:`KeyError`</span>
<span class="sd">        will result if this is not true.  An error will not be raised if any</span>
<span class="sd">        pair is not already related to another.</span>

<span class="sd">        This method is not typically called directly, instead it&#39;s called</span>
<span class="sd">        indirectly by :meth:`pyramid.interfaces.IIntrospector.register`</span>
<span class="sd">        &quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="IIntrospectable"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IIntrospectable">[ドキュメント]</a><span class="k">class</span> <span class="nc">IIntrospectable</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An introspectable object used for configuration introspection.  In</span>
<span class="sd">    addition to the methods below, objects which implement this interface</span>
<span class="sd">    must also implement all the methods of Python&#39;s</span>
<span class="sd">    ``collections.MutableMapping`` (the &quot;dictionary interface&quot;), and must be</span>
<span class="sd">    hashable.&quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;Text title describing this introspectable&#39;</span><span class="p">)</span>
    <span class="n">type_name</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;Text type name describing this introspectable&#39;</span><span class="p">)</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;integer order in which registered with introspector &#39;</span>
                      <span class="s1">&#39;(managed by introspector, usually)&#39;</span><span class="p">)</span>
    <span class="n">category_name</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;introspection category name&#39;</span><span class="p">)</span>
    <span class="n">discriminator</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;introspectable discriminator (within category) &#39;</span>
                              <span class="s1">&#39;(must be hashable)&#39;</span><span class="p">)</span>
    <span class="n">discriminator_hash</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;an integer hash of the discriminator&#39;</span><span class="p">)</span>
    <span class="n">action_info</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;An IActionInfo object representing the caller &#39;</span>
                            <span class="s1">&#39;that invoked the creation of this introspectable &#39;</span>
                            <span class="s1">&#39;(usually a sentinel until updated during &#39;</span>
                            <span class="s1">&#39;self.register)&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">relate</span><span class="p">(</span><span class="n">category_name</span><span class="p">,</span> <span class="n">discriminator</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Indicate an intent to relate this IIntrospectable with another</span>
<span class="sd">        IIntrospectable (the one associated with the ``category_name`` and</span>
<span class="sd">        ``discriminator``) during action execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">unrelate</span><span class="p">(</span><span class="n">category_name</span><span class="p">,</span> <span class="n">discriminator</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Indicate an intent to break the relationship between this</span>
<span class="sd">        IIntrospectable with another IIntrospectable (the one associated with</span>
<span class="sd">        the ``category_name`` and ``discriminator``) during action execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="n">introspector</span><span class="p">,</span> <span class="n">action_info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Register this IIntrospectable with an introspector.  This method</span>
<span class="sd">        is invoked during action execution.  Adds the introspectable and its</span>
<span class="sd">        relations to the introspector.  ``introspector`` should be an object</span>
<span class="sd">        implementing IIntrospector.  ``action_info`` should be a object</span>
<span class="sd">        implementing the interface :class:`pyramid.interfaces.IActionInfo`</span>
<span class="sd">        representing the call that registered this introspectable.</span>
<span class="sd">        Pseudocode for an implementation of this method:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            def register(self, introspector, action_info):</span>
<span class="sd">                self.action_info = action_info</span>
<span class="sd">                introspector.add(self)</span>
<span class="sd">                for methodname, category_name, discriminator in self._relations:</span>
<span class="sd">                    method = getattr(introspector, methodname)</span>
<span class="sd">                    method((i.category_name, i.discriminator),</span>
<span class="sd">                           (category_name, discriminator))</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">():</span>

        <span class="sd">&quot;&quot;&quot; Introspectables must be hashable.  The typical implementation of</span>
<span class="sd">        an introsepectable&#39;s __hash__ is::</span>

<span class="sd">          return hash((self.category_name,) + (self.discriminator,))</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IActionInfo"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IActionInfo">[ドキュメント]</a><span class="k">class</span> <span class="nc">IActionInfo</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Class which provides code introspection capability associated with an</span>
<span class="sd">    action.  The ParserInfo class used by ZCML implements the same interface.&quot;&quot;&quot;</span>
    <span class="n">file</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;Filename of action-invoking code as a string&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span>
        <span class="s1">&#39;Starting line number in file (as an integer) of action-invoking code.&#39;</span>
        <span class="s1">&#39;This will be ``None`` if the value could not be determined.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot; Return a representation of the action information (including</span>
<span class="sd">        source code from file, if possible) &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IAssetDescriptor"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IAssetDescriptor">[ドキュメント]</a><span class="k">class</span> <span class="nc">IAssetDescriptor</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Describes an :term:`asset`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">absspec</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the absolute asset specification for this asset</span>
<span class="sd">        (e.g. ``mypackage:templates/foo.pt``).</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">abspath</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an absolute path in the filesystem to the asset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">stream</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an input stream for reading asset contents.  Raises an</span>
<span class="sd">        exception if the asset is a directory or does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">isdir</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if the asset is a directory, otherwise returns False.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">listdir</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns iterable of filenames of directory contents.  Raises an</span>
<span class="sd">        exception if asset is not a directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">exists</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if asset exists, otherwise returns False.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<span class="k">class</span> <span class="nc">IJSONAdapter</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Marker interface for objects that can convert an arbitrary object</span>
<span class="sd">    into a JSON-serializable primitive.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">IPredicateList</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Interface representing a predicate list &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IViewDeriver"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IViewDeriver">[ドキュメント]</a><span class="k">class</span> <span class="nc">IViewDeriver</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;A list of supported options to be passed to &#39;</span>
                        <span class="s1">&#39;:meth:`pyramid.config.Configurator.add_view`. &#39;</span>
                        <span class="s1">&#39;This attribute is optional.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Derive a new view from the supplied view.</span>

<span class="sd">        View options, package information and registry are available on</span>
<span class="sd">        ``info``, an instance of :class:`pyramid.interfaces.IViewDeriverInfo`.</span>

<span class="sd">        The ``view`` is a callable accepting ``(context, request)``.</span>

<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="IViewDeriverInfo"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.IViewDeriverInfo">[ドキュメント]</a><span class="k">class</span> <span class="nc">IViewDeriverInfo</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An object implementing this interface is passed to every</span>
<span class="sd">    :term:`view deriver` during configuration.&quot;&quot;&quot;</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The &quot;current&quot; application registry where the &#39;</span>
                         <span class="s1">&#39;view was created&#39;</span><span class="p">)</span>
    <span class="n">package</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The &quot;current package&quot; where the view &#39;</span>
                        <span class="s1">&#39;configuration statement was found&#39;</span><span class="p">)</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The deployment settings dictionary related &#39;</span>
                         <span class="s1">&#39;to the current application&#39;</span><span class="p">)</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The view options passed to the view, including any &#39;</span>
                        <span class="s1">&#39;default values that were not overriden&#39;</span><span class="p">)</span>
    <span class="n">predicates</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The list of predicates active on the view&#39;</span><span class="p">)</span>
    <span class="n">original_view</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The original view object being wrapped&#39;</span><span class="p">)</span>
    <span class="n">exception_only</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;The view will only be invoked for exceptions&#39;</span><span class="p">)</span></div>

<span class="k">class</span> <span class="nc">IViewDerivers</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Interface for view derivers list &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ICacheBuster"><a class="viewcode-back" href="../../api/interfaces.html#pyramid.interfaces.ICacheBuster">[ドキュメント]</a><span class="k">class</span> <span class="nc">ICacheBuster</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A cache buster modifies the URL generation machinery for</span>
<span class="sd">    :meth:`~pyramid.request.Request.static_url`. See :ref:`cache_busting`.</span>

<span class="sd">    .. versionadded:: 1.6</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">subpath</span><span class="p">,</span> <span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Modifies a subpath and/or keyword arguments from which a static asset</span>
<span class="sd">        URL will be computed during URL generation.</span>

<span class="sd">        The ``subpath`` argument is a path of ``/``-delimited segments that</span>
<span class="sd">        represent the portion of the asset URL which is used to find the asset.</span>
<span class="sd">        The ``kw`` argument is a dict of keywords that are to be passed</span>
<span class="sd">        eventually to :meth:`~pyramid.request.Request.static_url` for URL</span>
<span class="sd">        generation.  The return value should be a two-tuple of</span>
<span class="sd">        ``(subpath, kw)`` where ``subpath`` is the relative URL from where the</span>
<span class="sd">        file is served and ``kw`` is the same input argument. The return value</span>
<span class="sd">        should be modified to include the cache bust token in the generated</span>
<span class="sd">        URL.</span>

<span class="sd">        The ``kw`` dictionary contains extra arguments passed to</span>
<span class="sd">        :meth:`~pyramid.request.Request.static_url` as well as some extra</span>
<span class="sd">        items that may be usful including:</span>

<span class="sd">          - ``pathspec`` is the path specification for the resource</span>
<span class="sd">            to be cache busted.</span>

<span class="sd">          - ``rawspec`` is the original location of the file, ignoring</span>
<span class="sd">            any calls to :meth:`pyramid.config.Configurator.override_asset`.</span>

<span class="sd">        The ``pathspec`` and ``rawspec`` values are only different in cases</span>
<span class="sd">        where an asset has been mounted into a virtual location using</span>
<span class="sd">        :meth:`pyramid.config.Configurator.override_asset`. For example, with</span>
<span class="sd">        a call to ``request.static_url(&#39;myapp:static/foo.png&#39;), the</span>
<span class="sd">        ``pathspec`` is ``myapp:static/foo.png`` whereas the ``rawspec`` may</span>
<span class="sd">        be ``themepkg:bar.png``, assuming a call to</span>
<span class="sd">        ``config.override_asset(&#39;myapp:static/foo.png&#39;, &#39;themepkg:bar.png&#39;)``.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<span class="c1"># configuration phases: a lower phase number means the actions associated</span>
<span class="c1"># with this phase will be executed earlier than those with later phase</span>
<span class="c1"># numbers.  The default phase number is 0, FTR.</span>

<span class="n">PHASE0_CONFIG</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">PHASE1_CONFIG</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span>
<span class="n">PHASE2_CONFIG</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="n">PHASE3_CONFIG</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
    	<li><a href="../../index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >モジュールコード</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../../copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 11月 02, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1 で生成しました。
    </div>
  </body>
</html>