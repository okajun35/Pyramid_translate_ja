
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>(機械翻訳)Pyramid 1.7の新機能 &#8212; The Pyramid Web Framework v1.9.2</title>
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="copyright" title="著作権" href="copyright.html" />
    <link rel="next" title="(機械翻訳)Pyramid 1.6の新機能" href="whatsnew-1.6.html" />
    <link rel="prev" title="(機械翻訳)Pyramid 1.8の新機能" href="whatsnew-1.8.html" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="//static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head><body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.6.html" title="(機械翻訳)Pyramid 1.6の新機能"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.8.html" title="(機械翻訳)Pyramid 1.8の新機能"
             accesskey="P">前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-pyramid-1-7">
<h1>(機械翻訳)Pyramid 1.7の新機能<a class="headerlink" href="#what-s-new-in-pyramid-1-7" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>この記事では、：app： <cite>Pyramid`バージョン1.7の新機能について説明しました：app：</cite> Pyramid` 1.6。また、app： <cite>Pyramid</cite> 1.7に追加された2つのバージョンと廃止予定との間の後方互換性も文書化されています。</p>
<div class="section" id="backwards-incompatibilities">
<h2>後方の非互換性<a class="headerlink" href="#backwards-incompatibilities" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul>
<li><p class="first">class： <cite>pyramid.authentication.AuthTktAuthenticationPolicy`のデフォルトハッシュアルゴリズムが</cite> <cite>md5``から</cite> <cite>sha512``に変更されました。認証ポリシーを使用していて、 `</cite> md5``を引き続き使用する必要がある場合は、明示的に `` hashalg = &amp;#39;md5``を設定してください。</p>
<p>あなたのアプリケーションで `` hashalg``オプションを現在指定していない場合、この変更は既存の認証チケット（および関連するCookie）が有効ではなくなり、ユーザーはログアウトされ、アカウントに再度ログインする必要があります。</p>
<p>この変更により、app： <cite>Pyramid</cite> 1.4以降、DeprecationWarningが発行されています。</p>
<p><a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2496を参照してください。</p>
</li>
<li><p class="first">Python 2.6と3.2はPyramidではサポートされなくなりました。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues">https://github.com/Pylons/pyramid/issues</a>/2368およびhttps://github.com/Pylons/pyramid/pull/2256を参照してください。</p>
</li>
<li><p class="first">：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.session.check_csrf_token`関数は、リクエストのクエリ文字列のcsrfトークンを検証しなくなりました。ヘッダーとリクエストボディのみがサポートされています。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2500を参照してください。</p>
</li>
<li><p class="first">：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.config.Configurator.set_default_permission`を介して設定されたグローバル権限は、もはや例外ビューに影響を与えません。権限は強制的にビューに明示的に設定する必要があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2534を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="feature-additions">
<h2>機能の追加<a class="headerlink" href="#feature-additions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul>
<li><p class="first">新しい：ref： <cite>view_derivers`という概念がPyramidに追加され、フレームワークの作成者は要素を標準のPyramidビューパイプラインに挿入し、アプリケーション内のすべてのビューに影響を与えることができます。これはデコレータに似ていますが、 `</cite> config.add_view``に渡されるオプションにアクセスでき、ビューからの生のレスポンスやセキュリティチェックの前にパイプラインの他のステージに影響を与える可能性があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2021を参照してください。</p>
</li>
<li><p class="first">`` require_csrf``ビューオプションを追加しました。このオプションは、RFC2616で定義されている安全でないメソッドを使って要求に対するCSRFチェックを強制します。 CSRFチェックが失敗した場合、 `` BadCSRFToken``例外が発生し、例外ビュー（デフォルトの応答は `` 400 Bad Request``です）によって捕捉されます。このオプションは、非推奨の `` check_csrf``ビュー述語の代わりに使用されるべきです。この述語は通常、キャッチ可能な例外の代わりに予期しない `` 404 Not Found``応答をクライアントに送ります。 See：ref： <cite>auto_csrf_checking</cite>、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2413およびhttps://github.com/Pylons/pyramid/pull/2500</p>
</li>
<li><p class="first">`` require_csrf = True``ビューオプションで使用されるCSRFチェックを設定するための新しいメソッド：meth： <cite>pyramid.config.Configurator.set_csrf_default_options`を追加しました。このメソッドを使用すると、アプリケーションのすべてのビューでCSRFチェックをグローバルに有効にすることができます。これは、Pyramid上に構築されたウェブサイトのための良いデフォルトと見なされるべきです。これらのビューに対して `</cite> require_csrf = False``を設定することで、ビュー単位でCSRFチェックをオプトアウトすることができます。 See：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>auto_csrf_checking`とhttps://github.com/Pylons/pyramid/pull/2413とhttps://github.com/Pylons/pyramid/pull/2518</p>
</li>
<li><p class="first">要求の起点/参照元をチェックし、現在の `` request.domain``と一致することを確認する追加のCSRF検証を追加しました。この特定のチェックは、HTTPS経由でサイトにアクセスする場合にのみ有効です。そうしないと、ブラウザが常に必要な情報を送信するとは限りません。この追加のCSRF検証に失敗した場合、 `` BadCSRFOrigin``例外が発生し、例外ビュー（デフォルトの応答は `` 400 Bad Request``です）によって捕捉される可能性があります。 `` pyramid.csrf_trusted_origins``を許可するドメイン名のリスト（非標準ポートの場合はポート付き）に設定することにより、追加の許可されたオリジンを設定することができます。サブドメインはドメイン名の前に `` .``が付いていなければ許されません。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2501を参照してください。</p>
</li>
<li><p class="first">リクエストのドメインに対してオリジンまたはリファラーヘッダを検証するための新しい：func： <cite>pyramid.session.check_csrf_origin</cite> APIを追加しました。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2501を参照してください。</p>
</li>
<li><p class="first">：class： <cite>pyramid.httpexceptions.HTTPException`のサブクラスは、クライアントの</cite> Accept``ヘッダに最もよくマッチするものを考慮に入れ、要求されたものに応じて `` text / html``、 `` application / json``または `` text / plain``です。 `` * / * <a href="#id1"><span class="problematic" id="id2">``</span></a>のデフォルトは `` text / html``ですが、 `` application / json``が明示的に言及されると、有効なJSON応答を受け取るようになります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2489を参照してください。</p>
</li>
<li><p class="first">：class： <cite>pyramid.events.BeforeTraversal`という新しいイベントと、interface：class：</cite> pyramid.interfaces.IBeforeTraversal`が導入されました。このイベントは、ルータ内でのトラバーサルの開始前にリスナーに通知します。参照：ref： <cite>router_chapter</cite>、<a class="reference external" href="https://github.com/Pylons/pyramid/pull/2469">https://github.com/Pylons/pyramid/pull/2469</a>、<a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1876を参照してください。</p>
</li>
<li><p class="first">新しいメソッド：meth： <cite>pyramid.request.Request.invoke_exception_view</cite>：例外ビューを呼び出して応答を返すために使用できます。これは、 &amp;quot;EXCVIEW&amp;quot;トゥイーンのコンテキスト外で例外ビューをレンダリングする場合に便利です。ここでは、リクエストをより詳細に制御する必要があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2393を参照してください。</p>
</li>
<li><p class="first">：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.config.Configurator.set_default_permission`を介して設定されたグローバル権限は、もはや例外ビューに影響を与えません。権限は強制的にビューに明示的に設定する必要があります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2534を参照してください。</p>
</li>
<li><p class="first">要求パラメタ述語のキーに先行する `` = <a href="#id1"><span class="problematic" id="id2">``</span></a>を許可します。たとえば、 `` &amp;#39;= abc = 1&amp;#39;``は `` request.params [&amp;#39; = abc &amp;#39;] ==&amp;#39; 1&amp;#39;``と同等です。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/1370を参照してください。</p>
</li>
<li><p class="first">.iniファイルのロギングセクションに <a href="#id1"><span class="problematic" id="id2">``</span></a>％（LOGGING_LOGGER_ROOT_LEVEL）s``のような変数置換を許可し、 `` pserve``コマンドラインからこれらの変数を設定します。</p>
<p>`` pserve development.ini LOGGING_LOGGER_ROOT_LEVEL = DEBUG``</p>
<p>このサポートは：func： <cite>pyramid.paster.setup_logging`の新しい</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>global_conf``オプションのおかげです。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2399を参照してください。</p>
</li>
<li><p class="first">：attr： <cite>pyramid.tweens.EXCVIEW</cite> tweenは、それを処理するための例外ビューが見つからなければ元の例外を再起動します。これにより、例外が別のトゥイーンまたはミドルウェアによって上流側で処理されるようになります。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2567を参照してください。</p>
</li>
</ul>
</div>
<div class="section" id="deprecations">
<h2>廃止<a class="headerlink" href="#deprecations" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>`` check_csrf``ビュー述語は非推奨です。新しい `` require_csrf``オプションまたは `` pyramid.require_default_csrf``の設定を使って、：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>pyramid.exceptions.BadCSRFToken`例外が発生するようにしてください。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2413を参照してください。</li>
<li>Python 3.3のサポートはPyramid 1.8で削除されます。 <a class="reference external" href="https://github.com/Pylons/pyramid/issues/2477">https://github.com/Pylons/pyramid/issues/2477</a></li>
</ul>
</div>
<div class="section" id="scaffolding-enhancements">
<h2>足場の強化<a class="headerlink" href="#scaffolding-enhancements" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>SQLAlchemyのセッション管理に関してより現代的なベストプラクティスを示す「錬金術」足場の完全なオーバーホールと、よりモジュラーな構成へのアプローチ、ルートを別のモジュールに分けて：meth： <cite>ピラミッドの使い方を説明する。 config.Configurator.include</cite>。 <a class="reference external" href="https://github.com/Pylons/pyramid/pull">https://github.com/Pylons/pyramid/pull</a>/2024を参照してください。</li>
</ul>
</div>
<div class="section" id="documentation-enhancements">
<h2>ドキュメントの機能拡張<a class="headerlink" href="#documentation-enhancements" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>このドキュメントで使用されているパッケージやツールの大規模な見直しはhttps://github.com/Pylons/pyramid/pull/2468で完了しました。要約は次のとおりです。</p>
<ul class="simple">
<li>すべてのドキュメントは `` easy_install``の代わりに `` pip``を使うことを推奨しています。</li>
<li>インストール文書では、ユーザがPython 3.4以降を使用して、仮想環境を作成するための `` python3 -m venv``ツールにアクセスできるようになりました。</li>
<li>チュートリアルでは、 `` nose``と `` coverage&amp;#39;`の代わりに `` py.test``と `` pytest-cov``を使います。</li>
<li>チュートリアルとそのsrcファイルだけでなく、足場への更なるアップデート。</li>
</ul>
<p>`` alchemy``のオーバーホールに加え、：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>bfg_sql_wiki_tutorial`チュートリアルの全面的な見直しが行われ、Pyramidを使ったSQLAlchemyの使い方についてより現代的な機能を紹介し、新しいプロジェクトの出発点を提供しました。詳細についてはhttps://github.com/Pylons/pyramid/pull/2024をご覧ください。ハイライトは：</p>
<ul class="simple">
<li>グローバルな `` DBSession``なしの新しいSQLAlchemyセッション管理。リクエストごとの `` request.dbsession``プロパティに置き換えられました。</li>
<li>簡単な認証をアプリケーション内で迅速にブートストラップする方法を示す新しい認証の章。</li>
<li>認可は、単純なグループレベルの認可の上にオブジェクトレベルの認可を示すルートごとのコンテキストファクトリの使用を示すために改訂されました。ページの編集を所有者だけに制限したいのですが、それを事前に把握できませんでしたか？どうぞ！</li>
<li>ユーザーとグループは、チュートリアル固有のグローバル変数ではなく、データベースに格納されます。</li>
<li>ユーザパスワードは `` bcrypt``を使って保存されます。</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(機械翻訳)Pyramid 1.7の新機能</a><ul>
<li><a class="reference internal" href="#backwards-incompatibilities">後方の非互換性</a></li>
<li><a class="reference internal" href="#feature-additions">機能の追加</a></li>
<li><a class="reference internal" href="#deprecations">廃止</a></li>
<li><a class="reference internal" href="#scaffolding-enhancements">足場の強化</a></li>
<li><a class="reference internal" href="#documentation-enhancements">ドキュメントの機能拡張</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="whatsnew-1.8.html"
                        title="前の章へ">(機械翻訳)Pyramid 1.8の新機能</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="whatsnew-1.6.html"
                        title="次の章へ">(機械翻訳)Pyramid 1.6の新機能</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/whatsnew-1.7.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.6.html" title="(機械翻訳)Pyramid 1.6の新機能"
             >次へ</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.8.html" title="(機械翻訳)Pyramid 1.8の新機能"
             >前へ</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.9.2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="copyright.html">Copyright</a> 2008-2018, Agendaless Consulting.
      最終更新: 11月 13, 2018
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1 で生成しました。
    </div>
  </body>
</html>